(window.webpackJsonp=window.webpackJsonp||[]).push([[255],{1125:function(s,e,t){s.exports=t.p+"assets/img/db-redis-ds-1.4b6728c6.jpeg"},1126:function(s,e){s.exports="data:image/png;base64,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"},1127:function(s,e,t){s.exports=t.p+"assets/img/springboot-redis-jedis-2.fd767e32.png"},1128:function(s,e,t){s.exports=t.p+"assets/img/springboot-redis-jedis-1.2638d665.png"},3691:function(s,e,t){"use strict";t.r(e);var a=t(7),n=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"▶springboot集成redis-基于redistemplate-jedis的数据操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#▶springboot集成redis-基于redistemplate-jedis的数据操作"}},[s._v("#")]),s._v(" ▶SpringBoot集成Redis - 基于RedisTemplate+Jedis的数据操作")]),s._v(" "),e("blockquote",[e("p",[s._v("Redis是最常用的KV数据库，Spring 通过模板方式（RedisTemplate）提供了对Redis的数据查询和操作功能。本文主要介绍基于RedisTemplate + Jedis方式对Redis进行查询和操作的案例。@pdai")])]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#springboot%E9%9B%86%E6%88%90redis---%E5%9F%BA%E4%BA%8Eredistemplatejedis%E7%9A%84%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"}},[s._v("▶SpringBoot集成Redis - 基于RedisTemplate+Jedis的数据操作")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E7%9F%A5%E8%AF%86%E5%87%86%E5%A4%87"}},[s._v("知识准备")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#redis%E5%9F%BA%E7%A1%80%E5%92%8C5%E7%A7%8D%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"}},[s._v("Redis基础和5种基础数据类型")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AFjedis"}},[s._v("什么是Jedis")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#spring%E4%B8%AD%E7%9A%84template%E5%92%8Credistemplate"}},[s._v("Spring中的Template和RedisTemplate")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E5%AE%9E%E7%8E%B0%E6%A1%88%E4%BE%8B"}},[s._v("实现案例")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E5%8C%85%E4%BE%9D%E8%B5%96"}},[s._v("包依赖")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#yml%E9%85%8D%E7%BD%AE"}},[s._v("yml配置")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#redisconfig%E9%85%8D%E7%BD%AE"}},[s._v("RedisConfig配置")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#redistemplate%E7%9A%84%E4%BD%BF%E7%94%A8"}},[s._v("RedisTemplate的使用")])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E7%AE%80%E5%8D%95%E6%B5%8B%E8%AF%95"}},[s._v("简单测试")])])])]),s._v(" "),e("li",[e("a",{attrs:{href:"#%E7%A4%BA%E4%BE%8B%E6%BA%90%E7%A0%81"}},[s._v("示例源码")])])])])]),s._v(" "),e("h1",{attrs:{id:"知识准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#知识准备"}},[s._v("#")]),s._v(" 知识准备")]),s._v(" "),e("hr"),s._v(" "),e("blockquote",[e("p",[s._v("需要对Redis的基础和基础数据类型有理解，且需要对Spring中对数据库操作常见的模板方式的封装了解，并了解RedisTemplate。")])]),s._v(" "),e("h3",{attrs:{id:"redis基础和5种基础数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis基础和5种基础数据类型"}},[s._v("#")]),s._v(" Redis基础和5种基础数据类型")]),s._v(" "),e("blockquote",[e("p",[s._v("Redis 相关的知识体系，请参考 "),e("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-overview.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Redis知识体系"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("首先对redis来说，所有的key（键）都是字符串。我们在谈基础数据结构时，讨论的是存储值的数据类型，主要包括常见的5种数据类型，分别是：String、List、Set、Zset、Hash。")]),s._v(" "),e("p",[e("img",{attrs:{src:t(1125),alt:""}})]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("结构类型")]),s._v(" "),e("th",[s._v("结构存储的值")]),s._v(" "),e("th",[s._v("结构的读写能力")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[e("strong",[s._v("String字符串")])]),s._v(" "),e("td",[s._v("可以是字符串、整数或浮点数")]),s._v(" "),e("td",[s._v("对整个字符串或字符串的一部分进行操作；对整数或浮点数进行自增或自减操作；")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("List列表")])]),s._v(" "),e("td",[s._v("一个链表，链表上的每个节点都包含一个字符串")]),s._v(" "),e("td",[s._v("对链表的两端进行push和pop操作，读取单个或多个元素；根据值查找或删除元素；")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("Set集合")])]),s._v(" "),e("td",[s._v("包含字符串的无序集合")]),s._v(" "),e("td",[s._v("字符串的集合，包含基础的方法有看是否存在添加、获取、删除；还包含计算交集、并集、差集等")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("Hash散列")])]),s._v(" "),e("td",[s._v("包含键值对的无序散列表")]),s._v(" "),e("td",[s._v("包含方法有添加、获取、删除单个元素")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("Zset有序集合")])]),s._v(" "),e("td",[s._v("和散列一样，用于存储键值对")]),s._v(" "),e("td",[s._v("字符串成员与浮点数分数之间的有序映射；元素的排列顺序由分数的大小决定；包含方法有添加、获取、删除单个元素以及根据分值范围或成员来获取元素")])])])]),s._v(" "),e("h3",{attrs:{id:"什么是jedis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是jedis"}},[s._v("#")]),s._v(" 什么是Jedis")]),s._v(" "),e("p",[s._v("Jedis是Redis的Java客户端，在SpringBoot 1.x版本中也是默认的客户端。在SpringBoot 2.x版本中默认客户端是Luttuce。")]),s._v(" "),e("h3",{attrs:{id:"spring中的template和redistemplate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#spring中的template和redistemplate"}},[s._v("#")]),s._v(" Spring中的Template和RedisTemplate")]),s._v(" "),e("blockquote",[e("p",[s._v("Spring 通过模板方式（RedisTemplate）提供了对Redis的数据查询和操作功能。")])]),s._v(" "),e("p",[e("strong",[s._v("什么是模板模式")]),s._v("？")]),s._v(" "),e("p",[s._v("模板方法模式(Template pattern): 在一个方法中定义一个算法的骨架, 而将一些步骤延迟到子类中. 模板方法使得子类可以在不改变算法结构的情况下, 重新定义算法中的某些步骤。")]),s._v(" "),e("p",[e("img",{attrs:{src:t(1126),alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("Spring中有哪些模板模式的设计")]),s._v("？")]),s._v(" "),e("p",[s._v("比如：jdbcTemplate, mongodbTemplate, elasticsearchTemplate...等等")]),s._v(" "),e("p",[e("strong",[s._v("RedisTemplate对于Redis5种基础类型的操作")]),s._v("？")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("redisTemplate.opsForValue(); // 操作字符串\nredisTemplate.opsForHash(); // 操作hash\nredisTemplate.opsForList(); // 操作list\nredisTemplate.opsForSet(); // 操作set\nredisTemplate.opsForZSet(); // 操作zset\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("strong",[s._v("对HyperLogLogs（基数统计）类型的操作")]),s._v("?")]),s._v(" "),e("p",[s._v("相关内容请"),e("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-data-type-special.html#hyperloglogs%E5%9F%BA%E6%95%B0%E7%BB%9F%E8%AE%A1",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考: Redis特殊数据类型 HyperLogLogs"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("redisTemplate.opsForHyperLogLog();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("对geospatial (地理位置)类型的操作")]),s._v("?")]),s._v(" "),e("p",[s._v("相关内容请"),e("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-data-type-special.html#geospatial-%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考: Redis特殊数据类型 geospatial"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("redisTemplate.opsForGeo();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("对于BitMap的操作")]),s._v("？也是在opsForValue()方法返回类型ValueOperations中")]),s._v(" "),e("p",[s._v("相关内容请"),e("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-data-type-special.html#bitmap-%E4%BD%8D%E5%AD%98%E5%82%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考: Redis特殊数据类型 BitMap"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Boolean setBit(K key, long offset, boolean value);\nBoolean getBit(K key, long offset);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("对于Stream的操作")]),s._v("？")]),s._v(" "),e("p",[s._v("相关内容请"),e("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-data-type-stream.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考: Redis Stream 详解"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("redisTemplate.opsForStream();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h1",{attrs:{id:"实现案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现案例"}},[s._v("#")]),s._v(" 实现案例")]),s._v(" "),e("hr"),s._v(" "),e("blockquote",[e("p",[s._v("本例子主要基于SpringBoot2+ 使用Jedis客户端，通过RedisTemplate模板方式访问Redis数据。")])]),s._v(" "),e("h3",{attrs:{id:"包依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#包依赖"}},[s._v("#")]),s._v(" 包依赖")]),s._v(" "),e("p",[s._v("引入spring-boot-starter-data-redis包，SpringBoot2中默认的客户端是Lettuce, 所以需要exclude掉lettuce-core包，并引入jedis的包。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n    <exclusions>\n        <exclusion>\n            <artifactId>lettuce-core</artifactId>\n            <groupId>io.lettuce</groupId>\n        </exclusion>\n    </exclusions>\n</dependency>\n<dependency>\n    <groupId>redis.clients</groupId>\n    <artifactId>jedis</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.apache.commons</groupId>\n    <artifactId>commons-pool2</artifactId>\n    <version>2.9.0</version>\n</dependency>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("h3",{attrs:{id:"yml配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yml配置"}},[s._v("#")]),s._v(" yml配置")]),s._v(" "),e("p",[s._v("如下是常用的Jedis的使用配置")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("spring:\n  redis:\n    database: 0\n    host: 127.0.0.1\n    port: 6379\n    password: test\n    jedis:\n      pool:\n        min-idle: 0\n        max-active: 8\n        max-idle: 8\n        max-wait: -1ms\n    connect-timeout: 30000ms\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h3",{attrs:{id:"redisconfig配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redisconfig配置"}},[s._v("#")]),s._v(" RedisConfig配置")]),s._v(" "),e("p",[s._v("通过@Bean的方式配置RedisTemplate，主要是设置RedisConnectionFactory以及各种类型数据的Serializer。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("package tech.pdai.springboot.redis.jedis.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\n/**\n * Redis configuration.\n *\n * @author pdai\n */\n@Configuration\npublic class RedisConfig {\n\n    /**\n     * redis template.\n     *\n     * @param factory factory\n     * @return RedisTemplate\n     */\n    @Bean\n    public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory factory) {\n        RedisTemplate<String, Object> template = new RedisTemplate<>();\n        template.setConnectionFactory(factory);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new GenericJackson2JsonRedisSerializer());\n        template.setHashValueSerializer(new GenericJackson2JsonRedisSerializer());\n        template.afterPropertiesSet();\n        return template;\n    }\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br")])]),e("h3",{attrs:{id:"redistemplate的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redistemplate的使用"}},[s._v("#")]),s._v(" RedisTemplate的使用")]),s._v(" "),e("p",[s._v("我们以整个系列文章一致的UserController简单示例下")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('package tech.pdai.springboot.redis.jedis.controller;\n\n\nimport io.swagger.annotations.ApiOperation;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.web.bind.annotation.*;\nimport tech.pdai.springboot.redis.jedis.entity.User;\nimport tech.pdai.springboot.redis.jedis.entity.response.ResponseResult;\n\nimport javax.annotation.Resource;\n\n/**\n * @author pdai\n */\n@RestController\n@RequestMapping("/user")\npublic class UserController {\n\n    // 注意：这里@Autowired是报错的，因为@Autowired按照类名注入的\n    @Resource\n    private RedisTemplate<String, User> redisTemplate;\n\n    /**\n     * @param user user param\n     * @return user\n     */\n    @ApiOperation("Add")\n    @PostMapping("add")\n    public ResponseResult<User> add(User user) {\n        redisTemplate.opsForValue().set(String.valueOf(user.getId()), user);\n        return ResponseResult.success(redisTemplate.opsForValue().get(String.valueOf(user.getId())));\n    }\n\n    /**\n     * @return user list\n     */\n    @ApiOperation("Find")\n    @GetMapping("find/{userId}")\n    public ResponseResult<User> edit(@PathVariable("userId") String userId) {\n        return ResponseResult.success(redisTemplate.opsForValue().get(userId));\n    }\n\n}\n\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br")])]),e("h3",{attrs:{id:"简单测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简单测试"}},[s._v("#")]),s._v(" 简单测试")]),s._v(" "),e("p",[s._v("插入数据：redisTemplate.opsForValue().set();")]),s._v(" "),e("p",[e("img",{attrs:{src:t(1127),alt:""}})]),s._v(" "),e("p",[s._v("获取数据：redisTemplate.opsForValue().get();")]),s._v(" "),e("p",[e("img",{attrs:{src:t(1128),alt:""}})]),s._v(" "),e("h1",{attrs:{id:"示例源码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例源码"}},[s._v("#")]),s._v(" 示例源码")]),s._v(" "),e("hr"),s._v(" "),e("p",[s._v("https://github.com/realpdai/tech-pdai-spring-demos")])])}),[],!1,null,null,null);e.default=n.exports}}]);