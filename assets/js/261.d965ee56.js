(window.webpackJsonp=window.webpackJsonp||[]).push([[261],{2200:function(e,s){e.exports="data:image/png;base64,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"},2201:function(e,s,i){e.exports=i.p+"assets/img/db-redis-object-3.4e90c870.png"},2202:function(e,s){e.exports="data:image/png;base64,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"},251:function(e,s,i){e.exports=i.p+"assets/img/db-redis-object-2-2.ea6d5662.png"},3893:function(e,s,i){"use strict";i.r(s);var r=i(7),t=Object(r.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"redis进阶-数据结构-对象机制详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis进阶-数据结构-对象机制详解"}},[e._v("#")]),e._v(" Redis进阶 - 数据结构：对象机制详解")]),e._v(" "),s("p",[e._v("===============================================")]),e._v(" "),s("blockquote",[s("p",[e._v("我们在前文已经阐述了"),s("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-data-types.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis 5种基础数据类型详解"),s("OutboundLink")],1),e._v("，分别是字符串(string)、列表(list)、哈希(hash)、集合(set)、有序集合(zset)，以及5.0版本中"),s("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-data-type-stream.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis Stream结构详解"),s("OutboundLink")],1),e._v("；那么这些基础类型的底层是如何实现的呢？Redis的每种对象其实都由"),s("strong",[e._v("对象结构(redisObject)")]),e._v(" 与 "),s("strong",[e._v("对应编码的数据结构")]),e._v("组合而成, 本文主要介绍"),s("strong",[e._v("对象结构(redisObject)")]),e._v(" 部分。@pdai")])]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#redis%E8%BF%9B%E9%98%B6---%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AF%B9%E8%B1%A1%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3"}},[e._v("Redis进阶 - 数据结构：对象机制详解")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E5%BC%95%E5%85%A5%E4%BB%8E%E5%93%AA%E9%87%8C%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0%E5%BA%95%E5%B1%82"}},[e._v("引入:从哪里开始学习底层？")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#%E4%B8%BA%E4%BB%80%E4%B9%88redis%E4%BC%9A%E8%AE%BE%E8%AE%A1redisobject%E5%AF%B9%E8%B1%A1"}},[e._v("为什么Redis会设计redisObject对象")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#redisobject%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"}},[e._v("redisObject数据结构")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#%E5%91%BD%E4%BB%A4%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E5%A4%9A%E6%80%81"}},[e._v("命令的类型检查和多态")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#%E5%AF%B9%E8%B1%A1%E5%85%B1%E4%BA%AB"}},[e._v("对象共享")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E4%BB%A5%E5%8F%8A%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%B6%88%E6%AF%81"}},[e._v("引用计数以及对象的消毁")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#%E5%B0%8F%E7%BB%93"}},[e._v("小结")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0"}},[e._v("参考文章")])])])])]),e._v(" "),s("h1",{attrs:{id:"引入-从哪里开始学习底层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引入-从哪里开始学习底层"}},[e._v("#")]),e._v(" 引入:从哪里开始学习底层？")]),e._v(" "),s("hr"),e._v(" "),s("blockquote",[s("p",[e._v("我在整理Redis底层设计时，发现网上其实是有很多资料的，但是缺少一种自上而下的承接。这里我将收集很多网上的资料并重新组织，来帮助你更好的理解Redis底层设计。@pdai")])]),e._v(" "),s("p",[e._v("我们在前文已经阐述了"),s("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-data-types.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis 5种基础数据类型详解"),s("OutboundLink")],1),e._v("和"),s("a",{attrs:{href:"https://pdai.tech/md/db/nosql-redis/db-redis-data-type-stream.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redis入门 - 数据结构：Stream详解"),s("OutboundLink")],1),e._v("；那么这些基础类型的底层是如何实现的呢？")]),e._v(" "),s("p",[e._v("带着这个问题我们来着手理解底层设计，首先看下图：")]),e._v(" "),s("p",[s("img",{attrs:{src:i(251),alt:""}})]),e._v(" "),s("p",[e._v("它反映了Redis的每种对象其实都由"),s("strong",[e._v("对象结构(redisObject)")]),e._v(" 与 "),s("strong",[e._v("对应编码的数据结构")]),e._v("组合而成，而每种对象类型对应若干编码方式，不同的编码方式所对应的底层数据结构是不同的。")]),e._v(" "),s("p",[e._v("所以，我们需要从几个个角度来着手底层研究：")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("对象设计机制")]),e._v(": 对象结构(redisObject)")]),e._v(" "),s("li",[s("strong",[e._v("编码类型和底层数据结构")]),e._v(": 对应编码的数据结构")])]),e._v(" "),s("h1",{attrs:{id:"为什么redis会设计redisobject对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么redis会设计redisobject对象"}},[e._v("#")]),e._v(" 为什么Redis会设计redisObject对象")]),e._v(" "),s("hr"),e._v(" "),s("blockquote",[s("p",[e._v("为什么Redis会设计redisObject对象？")])]),e._v(" "),s("p",[e._v("在redis的命令中，用于对键进行处理的命令占了很大一部分，而对于键所保存的值的类型（键的类型），键能执行的命令又各不相同。如： "),s("code",[e._v("LPUSH")]),e._v(" 和 "),s("code",[e._v("LLEN")]),e._v(" 只能用于列表键, 而 "),s("code",[e._v("SADD")]),e._v(" 和 "),s("code",[e._v("SRANDMEMBER")]),e._v(" 只能用于集合键, 等等; 另外一些命令, 比如 "),s("code",[e._v("DEL")]),e._v("、 "),s("code",[e._v("TTL")]),e._v(" 和 "),s("code",[e._v("TYPE")]),e._v(", 可以用于任何类型的键；但是要正确实现这些命令, 必须为不同类型的键设置不同的处理方式: 比如说, 删除一个列表键和删除一个字符串键的操作过程就不太一样。")]),e._v(" "),s("p",[e._v("以上的描述说明, "),s("strong",[e._v("Redis 必须让每个键都带有类型信息, 使得程序可以检查键的类型, 并为它选择合适的处理方式")]),e._v(".")]),e._v(" "),s("p",[e._v("比如说， 集合类型就可以由字典和整数集合两种不同的数据结构实现， 但是， 当用户执行 ZADD 命令时， 他/她应该不必关心集合使用的是什么编码， 只要 Redis 能按照 ZADD 命令的指示， 将新元素添加到集合就可以了。")]),e._v(" "),s("p",[e._v("这说明, "),s("strong",[e._v("操作数据类型的命令除了要对键的类型进行检查之外, 还需要根据数据类型的不同编码进行多态处理")]),e._v(".")]),e._v(" "),s("p",[e._v("为了解决以上问题, "),s("strong",[e._v("Redis 构建了自己的类型系统")]),e._v(", 这个系统的主要功能包括:")]),e._v(" "),s("ul",[s("li",[e._v("redisObject 对象.")]),e._v(" "),s("li",[e._v("基于 redisObject 对象的类型检查.")]),e._v(" "),s("li",[e._v("基于 redisObject 对象的显式多态函数.")]),e._v(" "),s("li",[e._v("对 redisObject 进行分配、共享和销毁的机制.")])]),e._v(" "),s("h1",{attrs:{id:"redisobject数据结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redisobject数据结构"}},[e._v("#")]),e._v(" redisObject数据结构")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("redisObject 是 Redis 类型系统的核心, 数据库中的每个键、值, 以及 Redis 本身处理的参数, 都表示为这种数据类型.")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("/*\n * Redis 对象\n */\ntypedef struct redisObject {\n\n    // 类型\n    unsigned type:4;\n\n    // 编码方式\n    unsigned encoding:4;\n\n    // LRU - 24位, 记录最末一次访问时间（相对于lru_clock）; 或者 LFU（最少使用的数据：8位频率，16位访问时间）\n    unsigned lru:LRU_BITS; // LRU_BITS: 24\n\n    // 引用计数\n    int refcount;\n\n    // 指向底层数据结构实例\n    void *ptr;\n\n} robj;\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br")])]),s("p",[e._v("下图对应上面的结构")]),e._v(" "),s("p",[s("img",{attrs:{src:i(2200),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("其中type、encoding和ptr是最重要的三个属性")]),e._v("。")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("type记录了对象所保存的值的类型")]),e._v("，它的值可能是以下常量中的一个：")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("/*\n* 对象类型\n*/\n#define OBJ_STRING 0 // 字符串\n#define OBJ_LIST 1 // 列表\n#define OBJ_SET 2 // 集合\n#define OBJ_ZSET 3 // 有序集\n#define OBJ_HASH 4 // 哈希表\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("ul",[s("li",[s("strong",[e._v("encoding记录了对象所保存的值的编码")]),e._v("，它的值可能是以下常量中的一个：")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("/*\n* 对象编码\n*/\n#define OBJ_ENCODING_RAW 0     /* Raw representation */\n#define OBJ_ENCODING_INT 1     /* Encoded as integer */\n#define OBJ_ENCODING_HT 2      /* Encoded as hash table */\n#define OBJ_ENCODING_ZIPMAP 3  /* 注意：版本2.6后不再使用. */\n#define OBJ_ENCODING_LINKEDLIST 4 /* 注意：不再使用了，旧版本2.x中String的底层之一. */\n#define OBJ_ENCODING_ZIPLIST 5 /* Encoded as ziplist */\n#define OBJ_ENCODING_INTSET 6  /* Encoded as intset */\n#define OBJ_ENCODING_SKIPLIST 7  /* Encoded as skiplist */\n#define OBJ_ENCODING_EMBSTR 8  /* Embedded sds string encoding */\n#define OBJ_ENCODING_QUICKLIST 9 /* Encoded as linked list of ziplists */\n#define OBJ_ENCODING_STREAM 10 /* Encoded as a radix tree of listpacks */\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br")])]),s("ul",[s("li",[s("strong",[e._v("ptr是一个指针，指向实际保存值的数据结构")]),e._v("，这个数据结构由type和encoding属性决定。举个例子， 如果一个redisObject 的type 属性为"),s("code",[e._v("OBJ_LIST")]),e._v(" ， encoding 属性为"),s("code",[e._v("OBJ_ENCODING_QUICKLIST")]),e._v(" ，那么这个对象就是一个Redis 列表（List)，它的值保存在一个QuickList的数据结构内，而ptr 指针就指向quicklist的对象；")])]),e._v(" "),s("p",[e._v("下图展示了redisObject 、Redis 所有数据类型、Redis 所有编码方式以及底层数据结构之间的关系（pdai：从6.0版本中梳理而来）：")]),e._v(" "),s("p",[s("img",{attrs:{src:i(251),alt:""}})]),e._v(" "),s("blockquote",[s("p",[e._v("注意："),s("code",[e._v("OBJ_ENCODING_ZIPMAP")]),e._v("没有出现在图中，因为在redis2.6开始，它不再是任何数据类型的底层结构(虽然还有zipmap.c的代码); "),s("code",[e._v("OBJ_ENCODING_LINKEDLIST")]),e._v("也不支持了，相关代码也删除了。")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("lru属性: 记录了对象最后一次被命令程序访问的时间")])])]),e._v(" "),s("p",[s("strong",[e._v("空转时长")]),e._v("：当前时间减去键的值对象的lru时间，就是该键的空转时长。Object idletime命令可以打印出给定键的空转时长")]),e._v(" "),s("p",[e._v("如果服务器打开了maxmemory选项，并且服务器用于回收内存的算法为volatile-lru或者allkeys-lru，那么当服务器占用的内存数超过了maxmemory选项所设置的上限值时，空转时长较高的那部分键会优先被服务器释放，从而回收内存。")]),e._v(" "),s("h1",{attrs:{id:"命令的类型检查和多态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令的类型检查和多态"}},[e._v("#")]),e._v(" 命令的类型检查和多态")]),e._v(" "),s("hr"),e._v(" "),s("blockquote",[s("p",[e._v("那么Redis是如何处理一条命令的呢？")])]),e._v(" "),s("p",[s("strong",[e._v("当执行一个处理数据类型命令的时候，redis执行以下步骤")])]),e._v(" "),s("ul",[s("li",[e._v("根据给定的key，在数据库字典中查找和他相对应的redisObject，如果没找到，就返回NULL；")]),e._v(" "),s("li",[e._v("检查redisObject的type属性和执行命令所需的类型是否相符，如果不相符，返回类型错误；")]),e._v(" "),s("li",[e._v("根据redisObject的encoding属性所指定的编码，选择合适的操作函数来处理底层的数据结构；")]),e._v(" "),s("li",[e._v("返回数据结构的操作结果作为命令的返回值。")])]),e._v(" "),s("p",[e._v("比如现在执行LPOP命令：")]),e._v(" "),s("p",[s("img",{attrs:{src:i(2201),alt:""}})]),e._v(" "),s("h1",{attrs:{id:"对象共享"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对象共享"}},[e._v("#")]),e._v(" 对象共享")]),e._v(" "),s("hr"),e._v(" "),s("blockquote",[s("p",[e._v("redis一般会把一些常见的值放到一个共享对象中，这样可使程序避免了重复分配的麻烦，也节约了一些CPU时间。")])]),e._v(" "),s("p",[s("strong",[e._v("redis预分配的值对象如下")]),e._v("：")]),e._v(" "),s("ul",[s("li",[e._v("各种命令的返回值，比如成功时返回的OK，错误时返回的ERROR，命令入队事务时返回的QUEUE，等等")]),e._v(" "),s("li",[e._v("包括0 在内，小于REDIS_SHARED_INTEGERS的所有整数（REDIS_SHARED_INTEGERS的默认值是10000）")])]),e._v(" "),s("p",[s("img",{attrs:{src:i(2202),alt:""}})]),e._v(" "),s("blockquote",[s("p",[e._v("注意：共享对象只能被字典和双向链表这类能带有指针的数据结构使用。像整数集合和压缩列表这些只能保存字符串、整数等自勉之的内存数据结构")])]),e._v(" "),s("p",[s("strong",[e._v("为什么redis不共享列表对象、哈希对象、集合对象、有序集合对象，只共享字符串对象")]),e._v("？")]),e._v(" "),s("ul",[s("li",[e._v("列表对象、哈希对象、集合对象、有序集合对象，本身可以包含字符串对象，复杂度较高。")]),e._v(" "),s("li",[e._v("如果共享对象是保存字符串对象，那么验证操作的复杂度为O(1)")]),e._v(" "),s("li",[e._v("如果共享对象是保存字符串值的字符串对象，那么验证操作的复杂度为O(N)")]),e._v(" "),s("li",[e._v("如果共享对象是包含多个值的对象，其中值本身又是字符串对象，即其它对象中嵌套了字符串对象，比如列表对象、哈希对象，那么验证操作的复杂度将会是O(N的平方)")])]),e._v(" "),s("p",[e._v("如果对复杂度较高的对象创建共享对象，需要消耗很大的CPU，用这种消耗去换取内存空间，是不合适的")]),e._v(" "),s("h1",{attrs:{id:"引用计数以及对象的消毁"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引用计数以及对象的消毁"}},[e._v("#")]),e._v(" 引用计数以及对象的消毁")]),e._v(" "),s("hr"),e._v(" "),s("blockquote",[s("p",[e._v("redisObject中有refcount属性，是对象的引用计数，显然计数0那么就是可以回收。")])]),e._v(" "),s("ul",[s("li",[e._v("每个redisObject结构都带有一个refcount属性，指示这个对象被引用了多少次；")]),e._v(" "),s("li",[e._v("当新创建一个对象时，它的refcount属性被设置为1；")]),e._v(" "),s("li",[e._v("当对一个对象进行共享时，redis将这个对象的refcount加一；")]),e._v(" "),s("li",[e._v("当使用完一个对象后，或者消除对一个对象的引用之后，程序将对象的refcount减一；")]),e._v(" "),s("li",[e._v("当对象的refcount降至0 时，这个RedisObject结构，以及它引用的数据结构的内存都会被释放。")])]),e._v(" "),s("h1",{attrs:{id:"小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[e._v("#")]),e._v(" 小结")]),e._v(" "),s("hr"),e._v(" "),s("ul",[s("li",[e._v("redis使用自己实现的对象机制（redisObject)来实现类型判断、命令多态和基于引用次数的垃圾回收；")]),e._v(" "),s("li",[e._v("redis会预分配一些常用的数据对象，并通过共享这些对象来减少内存占用，和避免频繁的为小对象分配内存。")])]),e._v(" "),s("h1",{attrs:{id:"参考文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[e._v("#")]),e._v(" 参考文章")]),e._v(" "),s("hr"),e._v(" "),s("ul",[s("li",[e._v("https://www.cnblogs.com/gaopengfirst/p/10072680.html")]),e._v(" "),s("li",[e._v("https://www.cnblogs.com/neooelric/p/9621736.html")]),e._v(" "),s("li",[e._v("https://juejin.cn/post/6844904192042074126)")])])])}),[],!1,null,null,null);s.default=t.exports}}]);