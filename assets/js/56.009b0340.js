(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{2551:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-2.864d7da2.png"},2552:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-1.05eae882.png"},2553:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-3.fac5416c.png"},2554:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-4.00aed403.png"},2555:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-5.977ac84e.png"},2556:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-6.72bd255a.png"},2557:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-7.0768f9a4.png"},2558:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-8.bdd053b4.png"},2559:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-9.7cc8c95c.png"},2560:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-10.9bb525ce.png"},2561:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-11.c91e36e5.png"},2562:function(s,n){s.exports="data:image/png;base64,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"},2563:function(s,n,a){s.exports=a.p+"assets/img/es-agg-bucket-12.7a7a8271.png"},2564:function(s,n){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnwAAAGPBAMAAAA0LRBPAAAALVBMVEX////4+vbNzs3r7uza2tqfoKBFSEiys7FfYmOCg4Hh4+L6+/gAAABUtsxPnq/8oO48AAAPvUlEQVR4nO2dz2/b6JnHH1GiJE4ucgZRE6QHRkmU8U1OOp7dwR7UjEeb5sRNIk5ys2nzFbnoApoJhpnclOmEkQ4LKGlMS0Av3SwW22AP6bHIqVig2C46PQ56mPYvaOdv6EvKP+PEFvnI8oT6fmIkEk29efXR9+VLyo9fEQEAAAAAAAAAAAAAAMDUOXmewC5OXqBspUR0tU70cTOUozSbevStj+v79laEvXlLGHl79HDKVEb7q4JmDk+UcqJN5PfpCyFCAXkhnHr4LbnpVcrurc1bm/qqokQFsRxtmkV9vnQn+pQTuiYeNodyS95t+qvht0x9395eZ+vWpj5TPlybXX1ZYfYpWA6furk5LvMWlVtv2N3cDuSWPhnRsm9Fm2ZQX8GtrlDVoqIdZjBC6tNs9el77Tttet93qTDYiPYcrJdUP9xpPhiWtvUFK+R5Ft33N0J9v9qgU4MnlLntGDQLaK18i6SIxTVF6Nv6ii3NFkZg5ITTJb8npIuM74ifaUJ0pLKheLClLzBbFEj9/lAYUp//ICt3l8eBoE+zQHlVc0lz5EFNlZNANOfmrWywqolHtcDQnHpGdUqN1XBk1k+7o8F7JRzcW/rm3YwrhdfJW1aF5pRkc15HbqjRLOB1FFFSRM03Qn0izJmceUW7KO/5RkMe1IpyLMtDoZRVEJvHvn++bW/p8y+JgiVt0aVgTRXeA/l6UH4tb9NsEPSG4dT7qagX5OCt+KE+Z3iXZIgoMKrLI5vSxqIVzs6Rvl+FG7bSd078ZFne8oSwVCGPjFW5u1UQdolmAflk5XMONhwppx8ai459L6go9flGdTU6j2neIPqvljxnHunzn2rb+oQeeP28rYi7eanPb1HVbjZv0j+KmTj2yZEbnrZUXTk8g1ZoLNJHm+lblIaKo4GYl1OwKIX6cqJU3KXP83U5Ubsynqo4Jerl0UlMY5VmgNCSnDfz4l/lMxbrlW19o/Rp4sklVbSzejh1tBujqUOG0NvRV1sU0rDmvOtLfRn/gebouVqh1FihGSDfinKlhecjOV+Mpo6d9GXlJgqis5WMvPlgNHX4wtnSlxWhaM1VRHTsk0M33K/fELMxeN+/Kc+HP5HvEujyTu7OUB7kSL0Z/rVO9LlOheEjUu705DVxdNpMF8Nbp4YXPqGmrsqdc0NSboU7z69/cFNpUqFZKgwf6j8YnWnPMC+2b514dcuJ1+324vUPBgAAAAAAAAAAAAAAgInzEoQcLmr+FimfyDfGPw3fR8/It8xDTsyBkEPfyFbtQK/e7qiu/MGWaRR7o2qnzBwIOfTH73kj3+8prXLb+8hSV7zaINqaW/po4cq7s/61MI4+rdMiu6pX760o1m0yo0do3YdL15dm/evHh+srtswnFrleqdxcVqzhZpFnZu7+2bmzL2f963B92UHwcytK3+dS32AzfVLfHBhDH5Gn29lWo+1VrMKaVwoI+nY4VF9m3qXg/or2qEtdr7+4YUPfLg7VlxvqdMapZ4On9BO3VPAN6NtFwrpB6BsBfSygjwX0sYA+FtDHAvpYQB8L6GMBfSygjwX0sYA+FtDHAvpYQB8L6GMBfSygjwX0sYA+FtDHAvpYQN+bODWUPJ6DvmSU/yD57RxTX2awQWqvnhk8pjPDUm4wM1UGp4a/+D0/fdpXnm6OalwGXr88SzUuPzwse2PoK/bLbTvbWmxXl6zC6laFVeHe8ErK+fDKP/3vhwfvMkZ1qeoO5kb1ffeWo+rSaC03ddh7nkb+vJtvv95z9/q+vX85RoWV457cri5tbVeXvkzl4D17kL6FuQSDN99vPN5T25zqY9/E9TWMYlhZv2h4P9pVWZ9SfS932frLd3/943d/4+or2oHujX6vIzCN0z0rzfp2D95vw/O+r7n6MvdvkLJeovtt+mCDMnf0WUnfN7+TsPW9QWr607ePhTnoO5iX0McB6WOB9LFA+lggfSyQPhZIHwukjwXSxwLpY4H0sUD6WCB9LJA+FkgfC6SPBdLHAuljgfSxQPpYIH0skD4WSB+LyacvL4RxRrRzwVd0zakXxGOkL44+pWK2Bx+vFp8E1LvWWbzlIn1x9BENyM7YDb1aWSusmZsFajNRHvkK158nKI8kpZW1yK3WG83R6pFRdWlai3MP0vcsSXEuaR0lrC6tLW6uXVoPN57A4B1z8FbbNKouvbSqWOYsVZdORF9Qop5ilQ3zSktbqdZ7mHnj6FNsGUC/X3BtMoN20Ul1denk05c9R5T7jOhjPfzw1sylGtIXR98rbK5xj/Ql00ep1odrXh7QxwHp4wF9HJA+HtDHAenjAX0ckD4e0McB6eMBfRyQPh7QxwHp4wF9HJA+HtDHAenjAX0ckD4e0MfhKNJ3meg80ckSZc5Fd5C+OPreE3RN9HOiRZ7QVbGG9MXRp9glGhbWiv1gztY6jU9TXSI0+fQVN25SKxMWqFV2Fahp3d5SGjlI3/69x/ho97LjX9ipLt0qj8wt3Vm48m7avhYWDtL3bP/+h+urGuWne/TVtgbvr8+m7euQ6tL9+4+RPl3rbw3eAqpLYx/7+o32YGfqOIfq0lj6cr5LDdEvjE5ctHSfuBzBed87pdk5bcY1Lw/o44D08YA+DkgfD+jjgPTxgD4OSB8P6OOA9PGAPg5IHw/o44D08YA+DkgfD+jjgPTxgD4OSB8P6OOA9PGAPg6TT1+22aTsvVK4CFPuBtHFOtIXR58iBDWCTsF1yQwMrZvqJcAmnz51mWi4swCd3o22vvP8zrtzC6n7Ojh9r9n/cH2P6pvLH362slNdWuy6S2nkIH0XlhJUl6oDZ/TR7ot7Ptodx77xBi+RdzeqLq2+Wl2aQo5i4eFq2862thceDtI8dUw+fYWKXxvMrxa/HJB7rbN4I9XLXk9+5i2KLylcdN2fhUXXj+aq48W+LUhfDH00K/pwzcsC6eMBfRyQPh7QxwHp4wF9HJA+HtDHAenjAX0ckD4e0McB6eMBfRyQPh7QxwHp4wF9HJA+HtDHAenjAX0cjiB92SYp63W6/y9U2KDMnTbSF0vfbwRVb6+odpcGplFct5G+WPo8kx7mWuW295FVWPVqg2ijcgmfTT7WZ5NnWiZZUXXpvWXFuk1m9Aht2Ht+PYV/DtJ3/fl/Pn++569fHq5P65sKqksTD97qenBzJ32DzfShunRMfRebgWHnWottb8lSV71SqqtLj6I41yTz9opmO9Q1+2XMvHH13Se1V88OH9OZXik3MJC+ePpeOx8jfdC3D6SPBdLHAuljgfSxQPpYIH0skD4WSB8LpI8F0scC6WOB9LFA+lggfSyQPhZIHwukjwXSxwLpY4H0sUD6WCB9LJA+FpNPX+bzNmU/o2jt0ltEl+pIXxx9v+m51PD7BdcmM2hrDtYujaUvS+Zr1i5Vm8MP08hB+p7tY4zySFK6r1m7VOp7lkYO0vc8kb7AiqpLa3uqS08c9eA9NZQ8nps2Bw7eXycYvJQLrhzD2qXlP0h+OzdljuK8r6ofw9qlp4a/+P300zf5mVetBMezdukPp569o0ifJp4cz9qlx6HvaK46prR2aWlPb7/9+tDOT5y3+5r32PW91de8L5E+DmeRPg67X/s/OT/9P+ffkL4Y7H7tvwlPm79G+mKwN30SpC8OsV/74+/B93fmPQ59SN90e4D0sXqA9LF6gPSxeoD0sXqA9LF6gPSxeoD0sXqA9LF6gPSxeoD0sXqA9LF6gPSxeoD0sXqA9LF6gPSxenD4B8wGX4ZrWGUGT0drWB1hlUEa06fd8Gvm/Kr2ZZcG7/XLT1ykL46+zQqrxXb1Qrh26eb6feHim5PnoM5ffz4N4vVgnPJI8hbC+j69+slo7dKovk+pHMXSrwd1/tmVaRCvB2Ms/UoZe1prl6Zy5j3dyYxqm++tROnDsS+OvlyvRD2ltWiYP2qpK16tO5a+ZKXJx65v8ivn5oUwvKCjui4FgXG6O97vdSQqTU5j+tRmU1fWS3S/TR+Ea9brY6YvSWlyCtP3hvnk0GNfgtpaXPOy9CF9LH0znr49Z+T/8/977o7V+5lOH7u2dsbTx9WH9CF9SN/x6GP/WgbSh/QhfcefvmS/lnHs+r4v6fs2ib6Jpm867/kc2bEvybM/dn3fn2Nfgmc/4WPfNK6605W+qV91pyp907/uSVf6du3/J+env/P//ah7kNr0fTOVuT/F6UvyG60znb7pN5Da9E2nAaSP1QDSx2pgjBXUdMpWiP6jTrnzRFdrSF8cfdlgOVp802mR57c1Zw3pi6Mvt75Mw4KV75tztrZc1XujrVfv7GuKXV/2FjZw+OBVlzcX36ys7iy+qXV7S/s46P++sDQGb1sDPx5LX27/4puH/6RtGq/925G+XLT4ZqM5+mj3Go598fSRnYkGb7T45purS5G+N+gbnFot/jzIuKc7jbsuZt64+k6Ldk5Y5Il6QTx4oz6c972JWrh6OFF99A/SF1PfPpC+ietD+pA+pA/pQ/oSdB7pm+5rf/wNIH2sBpA+VgNIH6sBpI/VANLHagDpYzWA9LEaQPpYDSB9rAaQPlYDSB+rAaSP1QDSx2oA6WM1gPSxGkD6WA0gfawGYurLDo036kONy6GUN2ykL7m+rcU3pb7KPr47gMo4vG0NnIur7zaZpZG+L7rgYVx9vcktvpmKBuKnj6AvsT6vNoj+PQF9UQMv4ukr90YzL5249JJJKhqIZ4/eGbYJAAAAAAAAoouk3Ny+o1jJ2mje2Lppxn6w0mw2icn88FNq1qh55QZ9Tu/XaXqYpO44S6jPHG7sNBeXwtAZ7tw7leg032w6JIyc0F0Sulen6RHpu3yOzl/U6XLFyl6qJWmDqFLL6ueyF+Lroxc2ZSulq3SydvI8VZ9kKvUEHTDJ6ai+3s05RoIu8PQVHKc2EK2ML6zi0ErSBp12WoptVYWfoAs2ef7PTL161/fbQmjDVvwOKL1sa61ots1Cr9+jKWIKYS32G/3unKuuySBme0nasIJScNk5584l0pd1c+5iP9AeaCtVg94JknRAsR41GkZ1fn05vn2Ovsq8VdWLHZcGWl+xVCEStNG82aOqHPkWxX/qUp885Ha1ZTvfV62qUfDj98BU/MvW8HbeKH/xWWuVpkg4eKW+vks9raNY1XaQpA35trYn9bUS6+sp9prUt1Y1Fo0E6ZP/+1r1YdEoBgtuh6ZIqK/82DNk+gqta1b1vJOkDTLP+Sdlhq4myC7ZGfcHNvkdde0fOouGPATG74Div7+cX9MM1SG/T1Mk1JfzbXLDn4u0rDNikKQNUsVXMkPXnCTTnk3XhEFmOxu49aKriSTHvifqstYp9hWXAp2Oj5jvZk+OzOZHel0gkID/TnbGDkZodQIAAAAAAAAAAAAAAAAA3lb+DgmE7JKyYbJuAAAAAElFTkSuQmCC"},3944:function(s,n,a){"use strict";a.r(n);var e=a(7),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"es详解-聚合-聚合查询之bucket聚合详解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#es详解-聚合-聚合查询之bucket聚合详解"}},[s._v("#")]),s._v(" ES详解 - 聚合：聚合查询之Bucket聚合详解")]),s._v(" "),n("p",[s._v("=======================================================")]),s._v(" "),n("blockquote",[n("p",[s._v("除了查询之外，最常用的聚合了，ElasticSearch提供了三种聚合方式： "),n("strong",[s._v("桶聚合（Bucket Aggregation)")]),s._v("，"),n("strong",[s._v("指标聚合（Metric Aggregation)")]),s._v(" 和 "),n("strong",[s._v("管道聚合（Pipline Aggregation)")]),s._v("。本文主要讲讲"),n("strong",[s._v("桶聚合（Bucket Aggregation)")]),s._v("。@pdai")])]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#es%E8%AF%A6%E8%A7%A3---%E8%81%9A%E5%90%88%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2%E4%B9%8Bbucket%E8%81%9A%E5%90%88%E8%AF%A6%E8%A7%A3"}},[s._v("ES详解 - 聚合：聚合查询之Bucket聚合详解")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E8%81%9A%E5%90%88%E7%9A%84%E5%BC%95%E5%85%A5"}},[s._v("聚合的引入")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3bucket%E8%81%9A%E5%90%88"}},[s._v("如何理解Bucket聚合")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E6%8C%89%E7%9F%A5%E8%AF%86%E7%82%B9%E5%AD%A6%E4%B9%A0%E8%81%9A%E5%90%88"}},[s._v("按知识点学习聚合")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E5%87%86%E5%A4%87%E6%95%B0%E6%8D%AE"}},[s._v("准备数据")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E6%A0%87%E5%87%86%E7%9A%84%E8%81%9A%E5%90%88"}},[s._v("标准的聚合")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%A4%9A%E4%B8%AA%E8%81%9A%E5%90%88"}},[s._v("多个聚合")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E8%81%9A%E5%90%88%E7%9A%84%E5%B5%8C%E5%A5%97"}},[s._v("聚合的嵌套")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%8A%A8%E6%80%81%E8%84%9A%E6%9C%AC%E7%9A%84%E8%81%9A%E5%90%88"}},[s._v("动态脚本的聚合")])])])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E6%8C%89%E5%88%86%E7%B1%BB%E5%AD%A6%E4%B9%A0bucket%E8%81%9A%E5%90%88"}},[s._v("按分类学习Bucket聚合")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E5%89%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6%E7%9A%84%E8%BF%87%E6%BB%A4filter"}},[s._v("前置条件的过滤：filter")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%AF%B9filter%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%E8%81%9A%E5%90%88filters"}},[s._v("对filter进行分组聚合：filters")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%AF%B9number%E7%B1%BB%E5%9E%8B%E8%81%9A%E5%90%88range"}},[s._v("对number类型聚合：Range")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%AF%B9ip%E7%B1%BB%E5%9E%8B%E8%81%9A%E5%90%88ip-range"}},[s._v("对IP类型聚合：IP Range")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%AF%B9%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E8%81%9A%E5%90%88date-range"}},[s._v("对日期类型聚合：Date Range")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%AF%B9%E6%9F%B1%E7%8A%B6%E5%9B%BE%E5%8A%9F%E8%83%BDhistrogram"}},[s._v("对柱状图功能：Histrogram")])])])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0"}},[s._v("参考文章")])])])])]),s._v(" "),n("h1",{attrs:{id:"聚合的引入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#聚合的引入"}},[s._v("#")]),s._v(" 聚合的引入")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("我们在SQL结果中常有：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("SELECT COUNT(color) \nFROM table\nGROUP BY color \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("ElasticSearch中"),n("strong",[s._v("桶")]),s._v("在概念上类似于 SQL 的分组（"),n("code",[s._v("GROUP BY")]),s._v("），而"),n("strong",[s._v("指标")]),s._v("则类似于 "),n("code",[s._v("COUNT()")]),s._v(" 、 "),n("code",[s._v("SUM()")]),s._v(" 、 "),n("code",[s._v("MAX()")]),s._v(" 等统计方法。")]),s._v(" "),n("p",[s._v("进而引入了两个概念：")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("桶（Buckets）")]),s._v(" 满足特定条件的文档的集合")]),s._v(" "),n("li",[n("strong",[s._v("指标（Metrics）")]),s._v(" 对桶内的文档进行统计计算")])]),s._v(" "),n("p",[s._v("所以ElasticSearch包含3种聚合（Aggregation)方式")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("桶聚合（Bucket Aggregation)")]),s._v(" - 本文中详解")]),s._v(" "),n("li",[n("strong",[s._v("指标聚合（Metric Aggregation)")]),s._v(" - 下文中讲解")]),s._v(" "),n("li",[n("strong",[s._v("管道聚合（Pipline Aggregation)")]),s._v(" - 再下一篇讲解\n"),n("ul",[n("li",[s._v("聚合管道化，简单而言就是上一个聚合的结果成为下个聚合的输入；")])])])]),s._v(" "),n("p",[s._v("（PS:指标聚合和桶聚合很多情况下是组合在一起使用的，其实你也可以看到，桶聚合本质上是一种特殊的指标聚合，它的聚合指标就是数据的条数count)")]),s._v(" "),n("h1",{attrs:{id:"如何理解bucket聚合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何理解bucket聚合"}},[s._v("#")]),s._v(" 如何理解Bucket聚合")]),s._v(" "),n("hr"),s._v(" "),n("blockquote",[n("p",[s._v("如果你直接去看文档，大概有几十种：")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(2551),alt:""}})]),s._v(" "),n("p",[s._v("要么你需要花大量时间学习，要么你已经迷失或者即将迷失在知识点中...")]),s._v(" "),n("p",[s._v("所以你需要稍微"),n("strong",[s._v("站在设计者的角度思考")]),s._v("下，不难发现设计上大概分为三类（当然有些是第二和第三类的融合）")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2552),alt:""}})]),s._v(" "),n("p",[s._v("（图中并没有全部列出内容，因为图要表达的意图我觉得还是比较清楚的，这就够了；有了这种思虑和认知，会大大提升你的认知效率。）")]),s._v(" "),n("h1",{attrs:{id:"按知识点学习聚合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#按知识点学习聚合"}},[s._v("#")]),s._v(" 按知识点学习聚合")]),s._v(" "),n("hr"),s._v(" "),n("blockquote",[n("p",[s._v("我们先按照官方权威指南中的一个例子，学习Aggregation中的知识点。")])]),s._v(" "),n("h3",{attrs:{id:"准备数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#准备数据"}},[s._v("#")]),s._v(" 准备数据")]),s._v(" "),n("p",[s._v("让我们先看一个例子。我们将会创建一些对汽车经销商有用的聚合，数据是关于汽车交易的信息：车型、制造商、售价、何时被出售等。")]),s._v(" "),n("p",[s._v("首先我们批量索引一些数据：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('POST /test-agg-cars/_bulk\n{ "index": {}}\n{ "price" : 10000, "color" : "red", "make" : "honda", "sold" : "2014-10-28" }\n{ "index": {}}\n{ "price" : 20000, "color" : "red", "make" : "honda", "sold" : "2014-11-05" }\n{ "index": {}}\n{ "price" : 30000, "color" : "green", "make" : "ford", "sold" : "2014-05-18" }\n{ "index": {}}\n{ "price" : 15000, "color" : "blue", "make" : "toyota", "sold" : "2014-07-02" }\n{ "index": {}}\n{ "price" : 12000, "color" : "green", "make" : "toyota", "sold" : "2014-08-19" }\n{ "index": {}}\n{ "price" : 20000, "color" : "red", "make" : "honda", "sold" : "2014-11-05" }\n{ "index": {}}\n{ "price" : 80000, "color" : "red", "make" : "bmw", "sold" : "2014-01-01" }\n{ "index": {}}\n{ "price" : 25000, "color" : "blue", "make" : "ford", "sold" : "2014-02-12" }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h3",{attrs:{id:"标准的聚合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#标准的聚合"}},[s._v("#")]),s._v(" 标准的聚合")]),s._v(" "),n("p",[s._v("有了数据，开始构建我们的第一个聚合。汽车经销商可能会想知道哪个颜色的汽车销量最好，用聚合可以轻易得到结果，用 terms 桶操作：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n    "size" : 0,\n    "aggs" : { \n        "popular_colors" : { \n            "terms" : { \n              "field" : "color.keyword"\n            }\n        }\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("ol",[n("li",[s._v("聚合操作被置于顶层参数 aggs 之下（如果你愿意，完整形式 aggregations 同样有效）。")]),s._v(" "),n("li",[s._v("然后，可以为聚合指定一个我们想要名称，本例中是： popular_colors 。")]),s._v(" "),n("li",[s._v("最后，定义单个桶的类型 terms 。")])]),s._v(" "),n("p",[s._v("结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2553),alt:""}})]),s._v(" "),n("ol",[n("li",[s._v("因为我们设置了 size 参数，所以不会有 hits 搜索结果返回。")]),s._v(" "),n("li",[s._v("popular_colors 聚合是作为 aggregations 字段的一部分被返回的。")]),s._v(" "),n("li",[s._v("每个桶的 key 都与 color 字段里找到的唯一词对应。它总会包含 doc_count 字段，告诉我们包含该词项的文档数量。")]),s._v(" "),n("li",[s._v("每个桶的数量代表该颜色的文档数量。")])]),s._v(" "),n("h3",{attrs:{id:"多个聚合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多个聚合"}},[s._v("#")]),s._v(" 多个聚合")]),s._v(" "),n("p",[s._v("同时计算两种桶的结果：对color和对make。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n    "size" : 0,\n    "aggs" : { \n        "popular_colors" : { \n            "terms" : { \n              "field" : "color.keyword"\n            }\n        },\n        "make_by" : { \n            "terms" : { \n              "field" : "make.keyword"\n            }\n        }\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2554),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"聚合的嵌套"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#聚合的嵌套"}},[s._v("#")]),s._v(" 聚合的嵌套")]),s._v(" "),n("p",[s._v("这个新的聚合层让我们可以将 avg 度量嵌套置于 terms 桶内。实际上，这就为每个颜色生成了平均价格。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n   "size" : 0,\n   "aggs": {\n      "colors": {\n         "terms": {\n            "field": "color.keyword"\n         },\n         "aggs": { \n            "avg_price": { \n               "avg": {\n                  "field": "price" \n               }\n            }\n         }\n      }\n   }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2555),alt:""}})]),s._v(" "),n("p",[s._v("正如 颜色 的例子，我们需要给度量起一个名字（ avg_price ）这样可以稍后根据名字获取它的值。最后，我们指定度量本身（ avg ）以及我们想要计算平均值的字段（ price ）")]),s._v(" "),n("h3",{attrs:{id:"动态脚本的聚合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#动态脚本的聚合"}},[s._v("#")]),s._v(" 动态脚本的聚合")]),s._v(" "),n("p",[s._v("这个例子告诉你，ElasticSearch还支持一些基于脚本（生成运行时的字段）的复杂的动态聚合。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n  "runtime_mappings": {\n    "make.length": {\n      "type": "long",\n      "script": "emit(doc[\'make.keyword\'].value.length())"\n    }\n  },\n  "size" : 0,\n  "aggs": {\n    "make_length": {\n      "histogram": {\n        "interval": 1,\n        "field": "make.length"\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2556),alt:""}})]),s._v(" "),n("p",[s._v("histogram可以参考后文内容。")]),s._v(" "),n("h1",{attrs:{id:"按分类学习bucket聚合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#按分类学习bucket聚合"}},[s._v("#")]),s._v(" 按分类学习Bucket聚合")]),s._v(" "),n("hr"),s._v(" "),n("blockquote",[n("p",[s._v("我们在具体学习时，也无需学习每一个点，基于上面图的认知，我们只需用20%的时间学习最为常用的80%功能即可，其它查查文档而已。@pdai")])]),s._v(" "),n("h3",{attrs:{id:"前置条件的过滤-filter"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前置条件的过滤-filter"}},[s._v("#")]),s._v(" 前置条件的过滤：filter")]),s._v(" "),n("p",[s._v("在当前文档集上下文中定义与指定过滤器(Filter)匹配的所有文档的单个存储桶。通常，这将用于将当前聚合上下文缩小到一组特定的文档。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n  "size": 0,\n  "aggs": {\n    "make_by": {\n      "filter": { "term": { "type": "honda" } },\n      "aggs": {\n        "avg_price": { "avg": { "field": "price" } }\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2557),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"对filter进行分组聚合-filters"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对filter进行分组聚合-filters"}},[s._v("#")]),s._v(" 对filter进行分组聚合：filters")]),s._v(" "),n("p",[s._v("设计一个新的例子, 日志系统中，每条日志都是在文本中，包含warning/info等信息。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('PUT /test-agg-logs/_bulk?refresh\n{ "index" : { "_id" : 1 } }\n{ "body" : "warning: page could not be rendered" }\n{ "index" : { "_id" : 2 } }\n{ "body" : "authentication error" }\n{ "index" : { "_id" : 3 } }\n{ "body" : "warning: connection timed out" }\n{ "index" : { "_id" : 4 } }\n{ "body" : "info: hello pdai" }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("我们需要对包含不同日志类型的日志进行分组，这就需要filters:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-logs/_search\n{\n  "size": 0,\n  "aggs" : {\n    "messages" : {\n      "filters" : {\n        "other_bucket_key": "other_messages",\n        "filters" : {\n          "infos" :   { "match" : { "body" : "info"   }},\n          "warnings" : { "match" : { "body" : "warning" }}\n        }\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2558),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"对number类型聚合-range"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对number类型聚合-range"}},[s._v("#")]),s._v(" 对number类型聚合：Range")]),s._v(" "),n("p",[s._v("基于多桶值源的聚合，使用户能够定义一组范围-每个范围代表一个桶。在聚合过程中，将从每个存储区范围中检查从每个文档中提取的值，并“存储”相关/匹配的文档。请注意，此聚合包括from值，但不包括to每个范围的值。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n  "size": 0,\n  "aggs": {\n    "price_ranges": {\n      "range": {\n        "field": "price",\n        "ranges": [\n          { "to": 20000 },\n          { "from": 20000, "to": 40000 },\n          { "from": 40000 }\n        ]\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2559),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"对ip类型聚合-ip-range"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对ip类型聚合-ip-range"}},[s._v("#")]),s._v(" 对IP类型聚合：IP Range")]),s._v(" "),n("p",[s._v("专用于IP值的范围聚合。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /ip_addresses/_search\n{\n  "size": 10,\n  "aggs": {\n    "ip_ranges": {\n      "ip_range": {\n        "field": "ip",\n        "ranges": [\n          { "to": "10.0.0.5" },\n          { "from": "10.0.0.5" }\n        ]\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("返回")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  ...\n\n  "aggregations": {\n    "ip_ranges": {\n      "buckets": [\n        {\n          "key": "*-10.0.0.5",\n          "to": "10.0.0.5",\n          "doc_count": 10\n        },\n        {\n          "key": "10.0.0.5-*",\n          "from": "10.0.0.5",\n          "doc_count": 260\n        }\n      ]\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("CIDR Mask分组")])])]),s._v(" "),n("p",[s._v("此外还可以用CIDR Mask分组")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /ip_addresses/_search\n{\n  "size": 0,\n  "aggs": {\n    "ip_ranges": {\n      "ip_range": {\n        "field": "ip",\n        "ranges": [\n          { "mask": "10.0.0.0/25" },\n          { "mask": "10.0.0.127/25" }\n        ]\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("返回")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  ...\n\n  "aggregations": {\n    "ip_ranges": {\n      "buckets": [\n        {\n          "key": "10.0.0.0/25",\n          "from": "10.0.0.0",\n          "to": "10.0.0.128",\n          "doc_count": 128\n        },\n        {\n          "key": "10.0.0.127/25",\n          "from": "10.0.0.0",\n          "to": "10.0.0.128",\n          "doc_count": 128\n        }\n      ]\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("增加key显示")])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /ip_addresses/_search\n{\n  "size": 0,\n  "aggs": {\n    "ip_ranges": {\n      "ip_range": {\n        "field": "ip",\n        "ranges": [\n          { "to": "10.0.0.5" },\n          { "from": "10.0.0.5" }\n        ],\n        "keyed": true // here\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("返回")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  ...\n\n  "aggregations": {\n    "ip_ranges": {\n      "buckets": {\n        "*-10.0.0.5": {\n          "to": "10.0.0.5",\n          "doc_count": 10\n        },\n        "10.0.0.5-*": {\n          "from": "10.0.0.5",\n          "doc_count": 260\n        }\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("自定义key显示")])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /ip_addresses/_search\n{\n  "size": 0,\n  "aggs": {\n    "ip_ranges": {\n      "ip_range": {\n        "field": "ip",\n        "ranges": [\n          { "key": "infinity", "to": "10.0.0.5" },\n          { "key": "and-beyond", "from": "10.0.0.5" }\n        ],\n        "keyed": true\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("返回")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  ...\n\n  "aggregations": {\n    "ip_ranges": {\n      "buckets": {\n        "infinity": {\n          "to": "10.0.0.5",\n          "doc_count": 10\n        },\n        "and-beyond": {\n          "from": "10.0.0.5",\n          "doc_count": 260\n        }\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"对日期类型聚合-date-range"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对日期类型聚合-date-range"}},[s._v("#")]),s._v(" 对日期类型聚合：Date Range")]),s._v(" "),n("p",[s._v("专用于日期值的范围聚合。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n  "size": 0,\n  "aggs": {\n    "range": {\n      "date_range": {\n        "field": "sold",\n        "format": "yyyy-MM",\n        "ranges": [\n          { "from": "2014-01-01" },  \n          { "to": "2014-12-31" } \n        ]\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2560),alt:""}})]),s._v(" "),n("p",[s._v("此聚合与Range聚合之间的主要区别在于 from和to值可以在"),n("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/7.12/search-aggregations-bucket-daterange-aggregation.html#date-format-pattern",target:"_blank",rel:"noopener noreferrer"}},[s._v("Date Math表达式 在新窗口打开"),n("OutboundLink")],1),s._v("中表示，并且还可以指定日期格式，通过该日期格式将返回from and to响应字段。请注意，此聚合包括from值，但"),n("strong",[s._v("不包括to每个范围的值")]),s._v("。")]),s._v(" "),n("h3",{attrs:{id:"对柱状图功能-histrogram"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对柱状图功能-histrogram"}},[s._v("#")]),s._v(" 对柱状图功能：Histrogram")]),s._v(" "),n("p",[s._v("直方图 histogram 本质上是就是为柱状图功能设计的。")]),s._v(" "),n("p",[s._v("创建直方图需要指定一个区间，如果我们要为售价创建一个直方图，可以将间隔设为 20,000。这样做将会在每个 $20,000 档创建一个新桶，然后文档会被分到对应的桶中。")]),s._v(" "),n("p",[s._v("对于仪表盘来说，我们希望知道每个售价区间内汽车的销量。我们还会想知道每个售价区间内汽车所带来的收入，可以通过对每个区间内已售汽车的售价求和得到。")]),s._v(" "),n("p",[s._v("可以用 histogram 和一个嵌套的 sum 度量得到我们想要的答案：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n   "size" : 0,\n   "aggs":{\n      "price":{\n         "histogram":{ \n            "field": "price.keyword",\n            "interval": 20000\n         },\n         "aggs":{\n            "revenue": {\n               "sum": { \n                 "field" : "price"\n               }\n             }\n         }\n      }\n   }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("ol",[n("li",[s._v("histogram 桶要求两个参数：一个数值字段以及一个定义桶大小间隔。")]),s._v(" "),n("li",[s._v("sum 度量嵌套在每个售价区间内，用来显示每个区间内的总收入。")])]),s._v(" "),n("p",[s._v("如我们所见，查询是围绕 price 聚合构建的，它包含一个 histogram 桶。它要求字段的类型必须是数值型的同时需要设定分组的间隔范围。 间隔设置为 20,000 意味着我们将会得到如 [0-19999, 20000-39999, ...] 这样的区间。")]),s._v(" "),n("p",[s._v("接着，我们在直方图内定义嵌套的度量，这个 sum 度量，它会对落入某一具体售价区间的文档中 price 字段的值进行求和。 这可以为我们提供每个售价区间的收入，从而可以发现到底是普通家用车赚钱还是奢侈车赚钱。")]),s._v(" "),n("p",[s._v("响应结果如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2561),alt:""}})]),s._v(" "),n("p",[s._v("结果很容易理解，不过应该注意到直方图的键值是区间的下限。键 0 代表区间 0-19，999 ，键 20000 代表区间 20，000-39，999 ，等等。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2562),alt:""}})]),s._v(" "),n("p",[s._v("当然，我们可以为任何聚合输出的分类和统计结果创建条形图，而不只是 直方图 桶。让我们以最受欢迎 10 种汽车以及它们的平均售价、标准差这些信息创建一个条形图。 我们会用到 terms 桶和 extended_stats 度量：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('GET /test-agg-cars/_search\n{\n  "size" : 0,\n  "aggs": {\n    "makes": {\n      "terms": {\n        "field": "make.keyword",\n        "size": 10\n      },\n      "aggs": {\n        "stats": {\n          "extended_stats": {\n            "field": "price"\n          }\n        }\n      }\n    }\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("上述代码会按受欢迎度返回制造商列表以及它们各自的统计信息。我们对其中的 stats.avg 、 stats.count 和 stats.std_deviation 信息特别感兴趣，并用 它们计算出标准差：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("std_err = std_deviation / count\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:a(2563),alt:""}})]),s._v(" "),n("p",[s._v("对应报表：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2564),alt:""}})]),s._v(" "),n("h1",{attrs:{id:"参考文章"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[s._v("#")]),s._v(" 参考文章")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket.html")]),s._v(" "),n("p",[s._v("https://www.elastic.co/guide/cn/elasticsearch/guide/current/_aggregation_test_drive.html)")])])}),[],!1,null,null,null);n.default=t.exports}}]);