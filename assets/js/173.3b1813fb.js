(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{2371:function(s,a,n){s.exports=n.p+"assets/img/mongo-x-usage-11.9114e6a1.png"},2372:function(s,a,n){s.exports=n.p+"assets/img/mongo-x-usage-17.e69236b6.png"},2373:function(s,a,n){s.exports=n.p+"assets/img/mongo-x-usage-12.b4195cb0.png"},2374:function(s,a,n){s.exports=n.p+"assets/img/mongo-x-usage-13.aff937ec.png"},2375:function(s,a){s.exports="data:image/png;base64,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"},2376:function(s,a){s.exports="data:image/png;base64,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"},2377:function(s,a){s.exports="data:image/png;base64,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"},3918:function(s,a,n){"use strict";n.r(a);var e=n(7),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mongo入门-基本使用-索引和聚合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongo入门-基本使用-索引和聚合"}},[s._v("#")]),s._v(" Mongo入门 - 基本使用：索引和聚合")]),s._v(" "),a("p",[s._v("=============================================")]),s._v(" "),a("blockquote",[a("p",[s._v("在了解MongoDB的基本CRUD操作后，常用的其它操作还有对字段的索引以及对字段的聚合操作。@pdai")])]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#mongo%E5%85%A5%E9%97%A8---%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E5%92%8C%E8%81%9A%E5%90%88"}},[s._v("Mongo入门 - 基本使用：索引和聚合")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E8%81%9A%E5%90%88---aggregation-pipline"}},[s._v("聚合 - Aggregation Pipline")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%B8%B8%E8%A7%84%E4%BD%BF%E7%94%A8"}},[s._v("常规使用")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#pipline%E6%93%8D%E4%BD%9C"}},[s._v("Pipline操作")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#aggregation-options%E5%8F%82%E6%95%B0"}},[s._v("Aggregation Options参数")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E8%81%9A%E5%90%88---map-reduce"}},[s._v("聚合 - Map Reduce")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%AE%98%E7%BD%91%E7%BB%99%E4%BA%86%E4%B8%AA%E4%BE%8B%E5%AD%90"}},[s._v("官网给了个例子")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E7%B4%A2%E5%BC%95"}},[s._v("索引")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%9B%BE%E4%BE%8B%E7%90%86%E8%A7%A3"}},[s._v("图例理解")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E7%B4%A2%E5%BC%95%E7%9A%84%E7%B1%BB%E5%9E%8B"}},[s._v("索引的类型")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%AF%B9%E7%B4%A2%E5%BC%95%E7%9A%84%E6%93%8D%E4%BD%9C"}},[s._v("对索引的操作")])])])])])])]),s._v(" "),a("h1",{attrs:{id:"聚合-aggregation-pipline"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#聚合-aggregation-pipline"}},[s._v("#")]),s._v(" 聚合 - Aggregation Pipline")]),s._v(" "),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("类似于将SQL中的group by + order by + left join ... 等操作管道化。")])]),s._v(" "),a("h3",{attrs:{id:"常规使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常规使用"}},[s._v("#")]),s._v(" 常规使用")]),s._v(" "),a("ul",[a("li",[s._v("图例理解")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(2371),alt:""}})]),s._v(" "),a("ul",[a("li",[s._v("准备数据")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('> db.orders.insertMany( [\n...     { _id: 1, cust_id: "abc1", ord_date: ISODate("2012-11-02T17:04:11.102Z"), status: "A", amount: 50 },\n...     { _id: 2, cust_id: "xyz1", ord_date: ISODate("2013-10-01T17:04:11.102Z"), status: "A", amount: 100 },\n...     { _id: 3, cust_id: "xyz1", ord_date: ISODate("2013-10-12T17:04:11.102Z"), status: "D", amount: 25 },\n...     { _id: 4, cust_id: "xyz1", ord_date: ISODate("2013-10-11T17:04:11.102Z"), status: "D", amount: 125 },\n...     { _id: 5, cust_id: "abc1", ord_date: ISODate("2013-11-12T17:04:11.102Z"), status: "A", amount: 25 }\n... ] );\n{ "acknowledged" : true, "insertedIds" : [ 1, 2, 3, 4, 5 ] }\n> db.orders.find({})\n{ "_id" : 1, "cust_id" : "abc1", "ord_date" : ISODate("2012-11-02T17:04:11.102Z"), "status" : "A", "amount" : 50 }\n{ "_id" : 2, "cust_id" : "xyz1", "ord_date" : ISODate("2013-10-01T17:04:11.102Z"), "status" : "A", "amount" : 100 }\n{ "_id" : 3, "cust_id" : "xyz1", "ord_date" : ISODate("2013-10-12T17:04:11.102Z"), "status" : "D", "amount" : 25 }\n{ "_id" : 4, "cust_id" : "xyz1", "ord_date" : ISODate("2013-10-11T17:04:11.102Z"), "status" : "D", "amount" : 125 }\n{ "_id" : 5, "cust_id" : "abc1", "ord_date" : ISODate("2013-11-12T17:04:11.102Z"), "status" : "A", "amount" : 25 }\n>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("ul",[a("li",[s._v("聚合操作")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('> db.orders.aggregate([\n...                      { $match: { status: "A" } },\n...                      { $group: { _id: "$cust_id", total: { $sum: "$amount" } } },\n...                      { $sort: { total: -1 } }\n...                    ])\n{ "_id" : "xyz1", "total" : 100 }\n{ "_id" : "abc1", "total" : 75 }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("官网还有两个例子：")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.mongodb.com/v3.6/tutorial/aggregation-zip-code-data-set/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Aggregation with the Zip Code Data Set 在新窗口打开"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://docs.mongodb.com/v3.6/tutorial/aggregation-with-user-preference-data/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Aggregation with User Preference Data 在新窗口打开"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"pipline操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pipline操作"}},[s._v("#")]),s._v(" Pipline操作")]),s._v(" "),a("p",[s._v("MongoDB的聚合管道（Pipline）将MongoDB文档在一个阶段（Stage）处理完毕后将结果传递给下一个阶段（Stage）处理。"),a("strong",[s._v("阶段（Stage）操作是可以重复的")]),s._v("。")]),s._v(" "),a("p",[s._v("表达式：处理输入文档并输出。表达式是无状态的，只能用于计算当前聚合管道的文档，不能处理其它的文档。")]),s._v(" "),a("p",[s._v("这里我们介绍一下聚合框架中常用的几个Stages：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("$project")]),s._v("：修改输入文档的结构。可以用来重命名、增加或删除域，也可以用于创建计算结果以及嵌套文档。")]),s._v(" "),a("li",[a("code",[s._v("$match")]),s._v("：用于过滤数据，只输出符合条件的文档。$match使用MongoDB的标准查询操作。")]),s._v(" "),a("li",[a("code",[s._v("$limit")]),s._v("：用来限制MongoDB聚合管道返回的文档数。")]),s._v(" "),a("li",[a("code",[s._v("$skip")]),s._v("：在聚合管道中跳过指定数量的文档，并返回余下的文档。")]),s._v(" "),a("li",[a("code",[s._v("$unwind")]),s._v("：将文档中的某一个数组类型字段拆分成多条，每条包含数组中的一个值。")]),s._v(" "),a("li",[a("code",[s._v("$group")]),s._v("：将集合中的文档分组，可用于统计结果。")]),s._v(" "),a("li",[a("code",[s._v("$sort")]),s._v("：将输入文档排序后输出。")]),s._v(" "),a("li",[a("code",[s._v("$geoNear")]),s._v("：输出接近某一地理位置的有序文档。")]),s._v(" "),a("li",[a("code",[s._v("$bucket")]),s._v(": 分组（分桶）计算。")]),s._v(" "),a("li",[a("code",[s._v("$facet")]),s._v(" : 多次分组计算。")]),s._v(" "),a("li",[a("code",[s._v("$out")]),s._v(": 将结果集输出，必须是Pipline最后一个Stage。")])]),s._v(" "),a("p",[s._v("举几个例子")]),s._v(" "),a("ul",[a("li",[s._v("$project")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('> db.orders.aggregate(\n...     { $project : {\n...         _id : 0 , // 默认不显示_id\n...         cust_id : 1 ,\n...         status : 1\n...     }});\n{ "cust_id" : "abc1", "status" : "A" }\n{ "cust_id" : "xyz1", "status" : "A" }\n{ "cust_id" : "xyz1", "status" : "D" }\n{ "cust_id" : "xyz1", "status" : "D" }\n{ "cust_id" : "abc1", "status" : "A" }\n>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[s._v("$skip")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' db.orders.aggregate(\n...     { $skip : 4 });\n{ "_id" : 5, "cust_id" : "abc1", "ord_date" : ISODate("2013-11-12T17:04:11.102Z"), "status" : "A", "amount" : 25 }\n>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("$unwind")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('> db.inventory2.insertOne({ "_id" : 1, "item" : "ABC1", sizes: [ "S", "M", "L"] })\n{ "acknowledged" : true, "insertedId" : 1 }\n> db.inventory2.aggregate( [ { $unwind : "$sizes" } ] )\n{ "_id" : 1, "item" : "ABC1", "sizes" : "S" }\n{ "_id" : 1, "item" : "ABC1", "sizes" : "M" }\n{ "_id" : 1, "item" : "ABC1", "sizes" : "L" }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("$bucket")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('> db.artwork.insertMany([\n... { "_id" : 1, "title" : "The Pillars of Society", "artist" : "Grosz", "year" : 1926,\n...     "price" : NumberDecimal("199.99") },\n... { "_id" : 2, "title" : "Melancholy III", "artist" : "Munch", "year" : 1902,\n...     "price" : NumberDecimal("280.00") },\n... { "_id" : 3, "title" : "Dancer", "artist" : "Miro", "year" : 1925,\n...     "price" : NumberDecimal("76.04") },\n... { "_id" : 4, "title" : "The Great Wave off Kanagawa", "artist" : "Hokusai",\n...     "price" : NumberDecimal("167.30") },\n... { "_id" : 5, "title" : "The Persistence of Memory", "artist" : "Dali", "year" : 1931,\n...     "price" : NumberDecimal("483.00") },\n... { "_id" : 6, "title" : "Composition VII", "artist" : "Kandinsky", "year" : 1913,\n...     "price" : NumberDecimal("385.00") },\n... { "_id" : 7, "title" : "The Scream", "artist" : "Munch", "year" : 1893 },\n... { "_id" : 8, "title" : "Blue Flower", "artist" : "O\'Keefe", "year" : 1918,\n...     "price" : NumberDecimal("118.42") }\n... ])\n{\n        "acknowledged" : true,\n        "insertedIds" : [\n                1,\n                2,\n                3,\n                4,\n                5,\n                6,\n                7,\n                8\n        ]\n}\n> db.artwork.find({})\n{ "_id" : 1, "title" : "The Pillars of Society", "artist" : "Grosz", "year" : 1926, "price" : NumberDecimal("199.99") }\n{ "_id" : 2, "title" : "Melancholy III", "artist" : "Munch", "year" : 1902, "price" : NumberDecimal("280.00") }\n{ "_id" : 3, "title" : "Dancer", "artist" : "Miro", "year" : 1925, "price" : NumberDecimal("76.04") }\n{ "_id" : 4, "title" : "The Great Wave off Kanagawa", "artist" : "Hokusai", "price" : NumberDecimal("167.30") }\n{ "_id" : 5, "title" : "The Persistence of Memory", "artist" : "Dali", "year" : 1931, "price" : NumberDecimal("483.00") }\n{ "_id" : 6, "title" : "Composition VII", "artist" : "Kandinsky", "year" : 1913, "price" : NumberDecimal("385.00") }\n{ "_id" : 7, "title" : "The Scream", "artist" : "Munch", "year" : 1893 } // 注意这里没有price，聚合结果中为Others\n{ "_id" : 8, "title" : "Blue Flower", "artist" : "O\'Keefe", "year" : 1918, "price" : NumberDecimal("118.42") }\n> db.artwork.aggregate( [\n...   {\n...     $bucket: {\n...       groupBy: "$price",\n...       boundaries: [ 0, 200, 400 ],\n...       default: "Other",\n...       output: {\n...         "count": { $sum: 1 },\n...         "titles" : { $push: "$title" }\n...       }\n...     }\n...   }\n... ] )\n{ "_id" : 0, "count" : 4, "titles" : [ "The Pillars of Society", "Dancer", "The Great Wave off Kanagawa", "Blue Flower" ] }\n{ "_id" : 200, "count" : 2, "titles" : [ "Melancholy III", "Composition VII" ] }\n{ "_id" : "Other", "count" : 2, "titles" : [ "The Persistence of Memory", "The Scream" ] }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br")])]),a("ul",[a("li",[s._v("$bucket + $facet")])]),s._v(" "),a("blockquote",[a("p",[s._v("非常常用！")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('db.artwork.aggregate( [\n  {\n    $facet: {\n      "price": [\n        {\n          $bucket: {\n              groupBy: "$price",\n              boundaries: [ 0, 200, 400 ],\n              default: "Other",\n              output: {\n                "count": { $sum: 1 },\n                "artwork" : { $push: { "title": "$title", "price": "$price" } }\n              }\n          }\n        }\n      ],\n      "year": [\n        {\n          $bucket: {\n            groupBy: "$year",\n            boundaries: [ 1890, 1910, 1920, 1940 ],\n            default: "Unknown",\n            output: {\n              "count": { $sum: 1 },\n              "artwork": { $push: { "title": "$title", "year": "$year" } }\n            }\n          }\n        }\n      ]\n    }\n  }\n] )\n\n// 输出\n{\n  "year" : [\n    {\n      "_id" : 1890,\n      "count" : 2,\n      "artwork" : [\n        {\n          "title" : "Melancholy III",\n          "year" : 1902\n        },\n        {\n          "title" : "The Scream",\n          "year" : 1893\n        }\n      ]\n    },\n    {\n      "_id" : 1910,\n      "count" : 2,\n      "artwork" : [\n        {\n          "title" : "Composition VII",\n          "year" : 1913\n        },\n        {\n          "title" : "Blue Flower",\n          "year" : 1918\n        }\n      ]\n    },\n    {\n      "_id" : 1920,\n      "count" : 3,\n      "artwork" : [\n        {\n          "title" : "The Pillars of Society",\n          "year" : 1926\n        },\n        {\n          "title" : "Dancer",\n          "year" : 1925\n        },\n        {\n          "title" : "The Persistence of Memory",\n          "year" : 1931\n        }\n      ]\n    },\n    {\n      // Includes the document without a year, e.g., _id: 4\n      "_id" : "Unknown",\n      "count" : 1,\n      "artwork" : [\n        {\n          "title" : "The Great Wave off Kanagawa"\n        }\n      ]\n    }\n  ],\n      "price" : [\n    {\n      "_id" : 0,\n      "count" : 4,\n      "artwork" : [\n        {\n          "title" : "The Pillars of Society",\n          "price" : NumberDecimal("199.99")\n        },\n        {\n          "title" : "Dancer",\n          "price" : NumberDecimal("76.04")\n        },\n        {\n          "title" : "The Great Wave off Kanagawa",\n          "price" : NumberDecimal("167.30")\n        },\n        {\n          "title" : "Blue Flower",\n          "price" : NumberDecimal("118.42")\n        }\n      ]\n    },\n    {\n      "_id" : 200,\n      "count" : 2,\n      "artwork" : [\n        {\n          "title" : "Melancholy III",\n          "price" : NumberDecimal("280.00")\n        },\n        {\n          "title" : "Composition VII",\n          "price" : NumberDecimal("385.00")\n        }\n      ]\n    },\n    {\n      // Includes the document without a price, e.g., _id: 7\n      "_id" : "Other",\n      "count" : 2,\n      "artwork" : [\n        {\n          "title" : "The Persistence of Memory",\n          "price" : NumberDecimal("483.00")\n        },\n        {\n          "title" : "The Scream"\n        }\n      ]\n    }\n  ]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br")])]),a("blockquote",[a("p",[s._v("聚合操作使用的比较频繁，在实际的工作中可以参考"),a("a",{attrs:{href:"https://docs.mongodb.com/v3.6/reference/operator/aggregation-pipeline/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档 - Aggregation Pipeline Stages 在新窗口打开"),a("OutboundLink")],1),s._v("。")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(2372),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"aggregation-options参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aggregation-options参数"}},[s._v("#")]),s._v(" Aggregation Options参数")]),s._v(" "),a("blockquote",[a("p",[s._v("举一个explain参数为例，更多的相关Options可以参考官方文档，"),a("a",{attrs:{href:"https://docs.mongodb.com/v3.6/reference/method/db.collection.aggregate/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Aggregrate相关配置 在新窗口打开"),a("OutboundLink")],1)])]),s._v(" "),a("ul",[a("li",[s._v("explain")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('> db.orders.aggregate(\n...                      [\n...                        { $match: { status: "A" } },\n...                        { $group: { _id: "$cust_id", total: { $sum: "$amount" } } },\n...                        { $sort: { total: -1 } }\n...                      ],\n...                      {\n...                        explain: true\n...                      }\n...                    )\n{\n        "serverInfo" : {\n                "host" : "pdai",\n                "port" : 27017,\n                "version" : "3.6.19",\n                "gitVersion" : "41b289ff734a926e784d6ab42c3129f59f40d5b4"\n        },\n        "stages" : [\n                {\n                        "$cursor" : {\n                                "query" : {\n                                        "status" : "A"\n                                },\n                                "fields" : {\n                                        "amount" : 1,\n                                        "cust_id" : 1,\n                                        "_id" : 0\n                                },\n                                "queryPlanner" : {\n                                        "plannerVersion" : 1,\n                                        "namespace" : "testdb.orders",\n                                        "indexFilterSet" : false,\n                                        "parsedQuery" : {\n                                                "status" : {\n                                                        "$eq" : "A"\n                                                }\n                                        },\n                                        "winningPlan" : {\n                                                "stage" : "COLLSCAN",\n                                                "filter" : {\n                                                        "status" : {\n                                                                "$eq" : "A"\n                                                        }\n                                                },\n                                                "direction" : "forward"\n                                        },\n                                        "rejectedPlans" : [ ]\n                                }\n                        }\n                },\n                {\n                        "$group" : {\n                                "_id" : "$cust_id",\n                                "total" : {\n                                        "$sum" : "$amount"\n                                }\n                        }\n                },\n                {\n                        "$sort" : {\n                                "sortKey" : {\n                                        "total" : -1\n                                }\n                        }\n                }\n        ],\n        "ok" : 1\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br")])]),a("h1",{attrs:{id:"聚合-map-reduce"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#聚合-map-reduce"}},[s._v("#")]),s._v(" 聚合 - Map Reduce")]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[s._v("图例理解")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(2373),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"官网给了个例子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#官网给了个例子"}},[s._v("#")]),s._v(" 官网给了个例子")]),s._v(" "),a("ul",[a("li",[s._v("准备数据")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n     _id: ObjectId("50a8240b927d5d8b5891743c"),\n     cust_id: "abc123",\n     ord_date: new Date("Oct 04, 2012"),\n     status: \'A\',\n     price: 25,\n     items: [ { sku: "mmm", qty: 5, price: 2.5 },\n              { sku: "nnn", qty: 5, price: 2.5 } ]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("计算每个顾客总花费：")])]),s._v(" "),a("p",[s._v("map")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var mapFunction1 = function() {\n                       emit(this.cust_id, this.price);\n                   };\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("reduce")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var reduceFunction1 = function(keyCustId, valuesPrices) {\n                          return Array.sum(valuesPrices);\n                      };\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("out")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('db.orders.mapReduce(\n                     mapFunction1,\n                     reduceFunction1,\n                     { out: "map_reduce_example" }\n                   )\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("计算每个订单中Items的均价")])]),s._v(" "),a("p",[s._v("map")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var mapFunction2 = function() {\n                       for (var idx = 0; idx < this.items.length; idx++) {\n                           var key = this.items[idx].sku;\n                           var value = {\n                                         count: 1,\n                                         qty: this.items[idx].qty\n                                       };\n                           emit(key, value);\n                       }\n                    };\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("reduce")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var reduceFunction2 = function(keySKU, countObjVals) {\n                     reducedVal = { count: 0, qty: 0 };\n\n                     for (var idx = 0; idx < countObjVals.length; idx++) {\n                         reducedVal.count += countObjVals[idx].count;\n                         reducedVal.qty += countObjVals[idx].qty;\n                     }\n\n                     return reducedVal;\n                  };\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("finalize")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var finalizeFunction2 = function (key, reducedVal) {\n\n                       reducedVal.avg = reducedVal.qty/reducedVal.count;\n\n                       return reducedVal;\n\n                    };\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h1",{attrs:{id:"索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[s._v("#")]),s._v(" 索引")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("索引即为提升查询等的效率，默认是对_id进行索引的。")]),s._v(" "),a("h3",{attrs:{id:"图例理解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图例理解"}},[s._v("#")]),s._v(" 图例理解")]),s._v(" "),a("p",[s._v("以对users中score进行索引时查询的效果")]),s._v(" "),a("p",[a("img",{attrs:{src:n(2374),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"索引的类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引的类型"}},[s._v("#")]),s._v(" 索引的类型")]),s._v(" "),a("p",[s._v("对于索引，这里简单介绍下常用的类型，其它类型和例子可以参考"),a("a",{attrs:{href:"https://docs.mongodb.com/v3.6/indexes/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网文档 - 索引 在新窗口打开"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("单一索引")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(2375),alt:""}})]),s._v(" "),a("ul",[a("li",[s._v("复合索引")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(2376),alt:""}})]),s._v(" "),a("ul",[a("li",[s._v("多键索引")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(2377),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"对索引的操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对索引的操作"}},[s._v("#")]),s._v(" 对索引的操作")]),s._v(" "),a("ul",[a("li",[s._v("查看集合索引")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("db.col.getIndexes()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("查看集合索引大小")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("db.col.totalIndexSize()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("删除集合所有索引")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("db.col.dropIndexes()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("删除集合指定索引")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('db.col.dropIndex("索引名称")\n```)')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);