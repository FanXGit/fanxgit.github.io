(window.webpackJsonp=window.webpackJsonp||[]).push([[538],{3677:function(s,n,a){"use strict";a.r(n);var e=a(7),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"springboot集成mysql-mybatis-xml方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#springboot集成mysql-mybatis-xml方式"}},[s._v("#")]),s._v(" SpringBoot集成MySQL - MyBatis XML方式")]),s._v(" "),n("blockquote",[n("p",[s._v("上文介绍了用JPA方式的集成MySQL数据库，JPA方式在中国以外地区开发而言基本是标配，在国内MyBatis及其延伸框架较为主流。本文主要介绍"),n("strong",[s._v("MyBatis技栈的演化")]),s._v("以及"),n("strong",[s._v("SpringBoot集成基础的MyBatis XML实现方式")]),s._v("的实例。@pdai")])]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#springboot%E9%9B%86%E6%88%90mysql---mybatis-xml%E6%96%B9%E5%BC%8F"}},[s._v("SpringBoot集成MySQL - MyBatis XML方式")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E5%87%86%E5%A4%87%E7%9F%A5%E8%AF%86"}},[s._v("准备知识")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AFmybatis"}},[s._v("什么是MyBatis？")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4mybatis%E6%98%AF%E5%8D%8A%E8%87%AA%E5%8A%A8orm"}},[s._v("为什么说MyBatis是半自动ORM？")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#mybatis%E6%A0%88%E6%8A%80%E6%9C%AF%E6%BC%94%E8%BF%9B"}},[s._v("MyBatis栈技术演进")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#jdbc%E8%87%AA%E8%A1%8C%E5%B0%81%E8%A3%85jdbcutil"}},[s._v("JDBC，自行封装JDBCUtil")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#ibatis"}},[s._v("IBatis")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#mybatis"}},[s._v("MyBatis")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#mybatis%E8%A1%8D%E7%94%9F%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%E7%AD%89"}},[s._v("MyBatis衍生：代码生成工具等")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#springmybatis%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84%E9%85%8D%E7%BD%AE%E9%9B%86%E6%88%90"}},[s._v("Spring+MyBatis基于注解的配置集成")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#mybatis-plus"}},[s._v("MyBatis-Plus")])])])])])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B"}},[s._v("简单示例")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#%E5%87%86%E5%A4%87db%E5%92%8C%E4%BE%9D%E8%B5%96%E9%85%8D%E7%BD%AE"}},[s._v("准备DB和依赖配置")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#mapper%E6%96%87%E4%BB%B6"}},[s._v("Mapper文件")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%AE%9A%E4%B9%89dao"}},[s._v("定义dao")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E5%AE%9A%E4%B9%89service%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%AE%9E%E7%8E%B0%E7%B1%BB"}},[s._v("定义Service接口和实现类")])]),s._v(" "),n("li",[n("a",{attrs:{href:"#controller"}},[s._v("controller")])])])]),s._v(" "),n("li",[n("a",{attrs:{href:"#%E7%A4%BA%E4%BE%8B%E6%BA%90%E7%A0%81"}},[s._v("示例源码")])])])])]),s._v(" "),n("h1",{attrs:{id:"准备知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#准备知识"}},[s._v("#")]),s._v(" 准备知识")]),s._v(" "),n("hr"),s._v(" "),n("blockquote",[n("p",[s._v("需要了解MyBatis及MyBatis技术栈的演进，这对新的开发者可以很好的构筑其知识体系。@pdai")])]),s._v(" "),n("h3",{attrs:{id:"什么是mybatis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是mybatis"}},[s._v("#")]),s._v(" 什么是MyBatis？")]),s._v(" "),n("blockquote",[n("p",[s._v("MyBatis是一款优秀的基于java的持久层框架，它内部封装了jdbc，使开发者只需要关注sql语句本身，而不需要花费精力去处理加载驱动、创建连接、创建statement等繁杂的过程。")])]),s._v(" "),n("p",[s._v("MyBatis 是一款优秀的持久层框架，它支持定制化 SQL、存储过程以及高级映射。")]),s._v(" "),n("ul",[n("li",[s._v("mybatis是一个优秀的基于java的持久层框架，它内部封装了jdbc，使开发者只需要关注sql语句本身，而不需要花费精力去处理加载驱动、创建连接、创建statement等繁杂的过程。")]),s._v(" "),n("li",[s._v("mybatis通过xml或注解的方式将要执行的各种statement配置起来，并通过java对象和statement中sql的动态参数进行映射生成最终执行的sql语句，最后由mybatis框架执行sql并将结果映射为java对象并返回。")])]),s._v(" "),n("p",[n("strong",[s._v("MyBatis的主要设计目")]),s._v("的就是让我们对执行SQL语句时对输入输出的数据管理更加方便，所以方便地写出SQL和方便地获取SQL的执行结果才是MyBatis的核心竞争力。")]),s._v(" "),n("p",[n("strong",[s._v("Mybatis的功能架构分为三层")]),s._v("：")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("API接口层")]),s._v("：提供给外部使用的接口API，开发人员通过这些本地API来操纵数据库。接口层一接收到调用请求就会调用数据处理层来完成具体的数据处理。")]),s._v(" "),n("li",[n("strong",[s._v("数据处理层")]),s._v("：负责具体的SQL查找、SQL解析、SQL执行和执行结果映射处理等。它主要的目的是根据调用的请求完成一次数据库操作。")]),s._v(" "),n("li",[n("strong",[s._v("基础支撑层")]),s._v("：负责最基础的功能支撑，包括连接管理、事务管理、配置加载和缓存处理，这些都是共用的东西，将他们抽取出来作为最基础的组件。为上层的数据处理层提供最基础的支撑。")])]),s._v(" "),n("p",[s._v("更多介绍可以参考："),n("a",{attrs:{href:"https://mybatis.org/mybatis-3/",target:"_blank",rel:"noopener noreferrer"}},[s._v("MyBatis3 官方网站 在新窗口打开"),n("OutboundLink")],1)]),s._v(" "),n("h3",{attrs:{id:"为什么说mybatis是半自动orm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#为什么说mybatis是半自动orm"}},[s._v("#")]),s._v(" 为什么说MyBatis是半自动ORM？")]),s._v(" "),n("blockquote",[n("p",[s._v("为什么说MyBatis是半自动ORM？")])]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("什么是ORM")]),s._v("？")])]),s._v(" "),n("p",[s._v("JDBC，ORM知识点可以参考"),n("a",{attrs:{href:"https://pdai.tech/md/spring/springboot/springboot-x-hello-h2-jpa.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("SpringBoot入门 - 添加内存数据库H2"),n("OutboundLink")],1)]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("什么是全自动ORM")]),s._v("？")])]),s._v(" "),n("p",[s._v("ORM框架可以根据对象关系模型直接获取，查询关联对象或者关联集合对象，简单而言使用全自动的ORM框架查询时可以不再写SQL。典型的框架如Hibernate； 因为Spring-data-jpa很多代码也是Hibernate团队贡献的，所以spring-data-jpa也是全自动ORM框架。")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("MyBatis是半自动ORM")]),s._v("？")])]),s._v(" "),n("p",[s._v("Mybatis 在查询关联对象或关联集合对象时，需要手动编写 sql 来完成，所以，称之为半自动ORM 映射工具。")]),s._v(" "),n("p",[s._v("（PS: 正是由于MyBatis是半自动框架，基于MyBatis技术栈的框架开始考虑兼容MyBatis开发框架的基础上提供自动化的能力，比如MyBatis-plus等框架）")]),s._v(" "),n("h3",{attrs:{id:"mybatis栈技术演进"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mybatis栈技术演进"}},[s._v("#")]),s._v(" MyBatis栈技术演进")]),s._v(" "),n("blockquote",[n("p",[s._v("了解MyBatis技术栈的演进，对你构建基于MyBatis的知识体系极为重要。@pdai")])]),s._v(" "),n("h4",{attrs:{id:"jdbc-自行封装jdbcutil"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jdbc-自行封装jdbcutil"}},[s._v("#")]),s._v(" JDBC，自行封装JDBCUtil")]),s._v(" "),n("p",[s._v("Java5的时代，通常的开发中会自行封装JDBC的Util，比如创建 Connection，以及确保关闭 Connection等。")]),s._v(" "),n("h4",{attrs:{id:"ibatis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ibatis"}},[s._v("#")]),s._v(" IBatis")]),s._v(" "),n("p",[s._v("MyBatis的前身，它封装了绝大多数的 JDBC 样板代码，使得开发者只需关注 SQL 本身，而不需要花费精力去处理例如注册驱动，创建 Connection，以及确保关闭 Connection 这样繁杂的代码。")]),s._v(" "),n("h4",{attrs:{id:"mybatis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mybatis"}},[s._v("#")]),s._v(" MyBatis")]),s._v(" "),n("p",[s._v("伴随着JDK5+ 泛型和注解特性开始流行，IBatis在3.0变更为MyBatis，对泛型和注解等特性开始全面支持，同时支持了很多新的特性，比如：")]),s._v(" "),n("ol",[n("li",[s._v("mybatis实现了接口绑定，通过Dao接口 和xml映射文件的绑定，自动生成接口的具体实现")]),s._v(" "),n("li",[s._v("mybatis支持 ognl表达式，比如 "),n("code",[s._v("<if>, <else>")]),s._v("使用ognl进行解析")]),s._v(" "),n("li",[s._v("mybatis插件机制等，（PageHelper分页插件应用而生，解决了数据库层的分页封装问题）")])]),s._v(" "),n("p",[s._v("所以这个时期，"),n("strong",[s._v("MyBatis XML 配置方式 + PageHelper")]),s._v(" 成为重要的开发方式。")]),s._v(" "),n("h4",{attrs:{id:"mybatis衍生-代码生成工具等"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mybatis衍生-代码生成工具等"}},[s._v("#")]),s._v(" MyBatis衍生：代码生成工具等")]),s._v(" "),n("p",[s._v("MyBatis提供了开发上的便捷，但是依然需要写大量的xml配置，并且很多都是CRUD级别的（这便有了很多重复性的工作），所以为了减少重复编码，衍生出了MyBatis代码生成工具, 比如CodeGenerator等。")]),s._v(" "),n("p",[s._v("其它开发IDE也开始出现封装一些工具和插件来生成代码生成工具等。")]),s._v(" "),n("p",[s._v("由于后端视图解析引擎多样性（比如freemarker, volicty, thymeleaf等），以及前后端分离前端独立等，为了进一步减少重复代码的编写（包括视图层），自动生成的代码工具也开始演化为自动生成前端视图代码。")]),s._v(" "),n("h4",{attrs:{id:"spring-mybatis基于注解的配置集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-mybatis基于注解的配置集成"}},[s._v("#")]),s._v(" Spring+MyBatis基于注解的配置集成")]),s._v(" "),n("p",[s._v("与此同时，Spring 2.5 开始完全支持基于注解的配置并且也支持JSR250 注解。在Spring后续的版本发展倾向于通过注解和Java配置结合使用。基于Spring+MyBatis开发技术栈开始有xml配置方式往注解和java配置方式反向发展。")]),s._v(" "),n("p",[s._v("Spring Boot的出现便是要解决配置过多的问题，它实际上通过约定大于配置的方式大大简化了用户的配置，对于三方组件使用xx-starter统一的对Bean进行默认初始化，用户只需要很少的配置就可以进行开发了。所以出现了mybatis-spring-boot-starter的封装等。")]),s._v(" "),n("p",[s._v("这个阶段，主要的开发技术栈是 "),n("strong",[s._v("Spring + mybatis-spring-boot-starter 自动化配置 + PageHelper")]),s._v("，并且很多数据库实体mapper还是通过xml方式配置的（伴随着使用一些自动化生成工具）。")]),s._v(" "),n("h4",{attrs:{id:"mybatis-plus"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-plus"}},[s._v("#")]),s._v(" MyBatis-Plus")]),s._v(" "),n("p",[s._v("为了更高的效率，出现了MyBatis-Plus这类工具，对MyBatis进行增强。")]),s._v(" "),n("ol",[n("li",[n("strong",[s._v("考虑到MyBatis是半自动化ORM")]),s._v("，MyBatis-Plus 启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作; 并且内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求；总体上让其支持全自动化的使用方式（本质上借鉴了Hibernate思路）。")]),s._v(" "),n("li",[n("strong",[s._v("考虑到Java8 Lambda（函数式编程）开始流行")]),s._v("，MyBatis-Plus支持 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错")]),s._v(" "),n("li",[n("strong",[s._v("考虑到MyBatis还需要独立引入PageHelper分页插件")]),s._v("，MyBatis-Plus支持了内置分页插件，同PageHelper一样基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询")]),s._v(" "),n("li",[n("strong",[s._v("考虑到自动化代码生成方式")]),s._v("，MyBatis-Plus也支持了内置代码生成器，采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用")]),s._v(" "),n("li",[n("strong",[s._v("考虑到SQL性能优化等问题")]),s._v("，MyBatis-Plus内置性能分析插件, 可输出 SQL 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询")]),s._v(" "),n("li",[s._v("其它还有解决一些常见开发问题，比如"),n("strong",[s._v("支持主键自动生成")]),s._v("，支持4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题；以及"),n("strong",[s._v("内置全局拦截插件")]),s._v("，提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作")])]),s._v(" "),n("p",[s._v("顶层思维能力")]),s._v(" "),n("p",[s._v("用这种思路去理解，你便能很快了解MyBatis技术栈的演化（能够快速维护老一些的技术框架），以及理解新的中小项目中MyBatis-Plus被大量使用的原因（新项目的技术选型参考）；所以java全栈知识体系的目标是帮助你构建知识体系，甚至是辅助你培养顶层思维能力。@pdai")]),s._v(" "),n("h1",{attrs:{id:"简单示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简单示例"}},[s._v("#")]),s._v(" 简单示例")]),s._v(" "),n("hr"),s._v(" "),n("blockquote",[n("p",[s._v("尽管MyBatis-Plus大行其道，MyBatis XML 配置方式 + PageHelper依然是基础使用方式。本例依然向你展示MyBatis XML 配置方式，考虑到和spring-data-jpa方式对比，这里沿用上一篇文章的数据库。后续的案例中将具体介绍MyBatis分页，以及MyBatis-Plus的使用等。")])]),s._v(" "),n("h3",{attrs:{id:"准备db和依赖配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#准备db和依赖配置"}},[s._v("#")]),s._v(" 准备DB和依赖配置")]),s._v(" "),n("p",[s._v("创建MySQL的schema test_db, 导入SQL 文件如下")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("-- MySQL dump 10.13  Distrib 5.7.12, for Win64 (x86_64)\n--\n-- Host: localhost    Database: test_db\n-- ------------------------------------------------------\n-- Server version\t5.7.17-log\n\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n/*!40101 SET NAMES utf8 */;\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\n/*!40103 SET TIME_ZONE='+00:00' */;\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\n\n--\n-- Table structure for table `tb_role`\n--\n\nDROP TABLE IF EXISTS `tb_role`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!40101 SET character_set_client = utf8 */;\nCREATE TABLE `tb_role` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(255) NOT NULL,\n  `role_key` varchar(255) NOT NULL,\n  `description` varchar(255) DEFAULT NULL,\n  `create_time` datetime DEFAULT NULL,\n  `update_time` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `tb_role`\n--\n\nLOCK TABLES `tb_role` WRITE;\n/*!40000 ALTER TABLE `tb_role` DISABLE KEYS */;\nINSERT INTO `tb_role` VALUES (1,'admin','admin','admin','2021-09-08 17:09:15','2021-09-08 17:09:15');\n/*!40000 ALTER TABLE `tb_role` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `tb_user`\n--\n\nDROP TABLE IF EXISTS `tb_user`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!40101 SET character_set_client = utf8 */;\nCREATE TABLE `tb_user` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `user_name` varchar(45) NOT NULL,\n  `password` varchar(45) NOT NULL,\n  `email` varchar(45) DEFAULT NULL,\n  `phone_number` int(11) DEFAULT NULL,\n  `description` varchar(255) DEFAULT NULL,\n  `create_time` datetime DEFAULT NULL,\n  `update_time` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `tb_user`\n--\n\nLOCK TABLES `tb_user` WRITE;\n/*!40000 ALTER TABLE `tb_user` DISABLE KEYS */;\nINSERT INTO `tb_user` VALUES (1,'pdai','dfasdf','suzhou.daipeng@gmail.com',1212121213,'afsdfsaf','2021-09-08 17:09:15','2021-09-08 17:09:15');\n/*!40000 ALTER TABLE `tb_user` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `tb_user_role`\n--\n\nDROP TABLE IF EXISTS `tb_user_role`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!40101 SET character_set_client = utf8 */;\nCREATE TABLE `tb_user_role` (\n  `user_id` int(11) NOT NULL,\n  `role_id` int(11) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `tb_user_role`\n--\n\nLOCK TABLES `tb_user_role` WRITE;\n/*!40000 ALTER TABLE `tb_user_role` DISABLE KEYS */;\nINSERT INTO `tb_user_role` VALUES (1,1);\n/*!40000 ALTER TABLE `tb_user_role` ENABLE KEYS */;\nUNLOCK TABLES;\n/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;\n\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\n/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\n\n-- Dump completed on 2021-09-08 17:12:11\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br")])]),n("p",[s._v("引入maven依赖")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>5.1.47</version>\n</dependency>\n<dependency>\n    <groupId>org.mybatis.spring.boot</groupId>\n    <artifactId>mybatis-spring-boot-starter</artifactId>\n    <version>2.1.0</version>\n</dependency>\n\x3c!--pagehelper分页 --\x3e\n<dependency>\n    <groupId>com.github.pagehelper</groupId>\n    <artifactId>pagehelper-spring-boot-starter</artifactId>\n    <version>1.2.10</version>\n</dependency>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("增加yml配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/test_db?useSSL=false&autoReconnect=true&characterEncoding=utf8\n    driver-class-name: com.mysql.jdbc.Driver\n    username: root\n    password: bfXa4Pt2lUUScy8jakXf\n\nmybatis:\n  mapper-locations: classpath:mybatis/mapper/*.xml\n  type-aliases-package: tech.pdai.springboot.mysql57.xml.entity\n  configuration:\n    cache-enabled: true\n    use-generated-keys: true\n    default-executor-type: REUSE\n    use-actual-param-name: true\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[n("code",[s._v("classpath:mybatis/mapper/*.xml")]),s._v("是mapper的位置。")]),s._v(" "),n("h3",{attrs:{id:"mapper文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mapper文件"}},[s._v("#")]),s._v(" Mapper文件")]),s._v(" "),n("p",[s._v("mapper文件定义在配置的路径中（"),n("code",[s._v("classpath:mybatis/mapper/*.xml")]),s._v("）")]),s._v(" "),n("p",[s._v("UserMapper.xml")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\nPUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n"http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="tech.pdai.springboot.mysql57.mybatis.xml.dao.IUserDao">\n\n\t<resultMap type="tech.pdai.springboot.mysql57.mybatis.xml.entity.User" id="UserResult">\n\t\t<id     property="id"       \tcolumn="id"      \t\t/>\n\t\t<result property="userName"     column="user_name"    \t/>\n\t\t<result property="password"     column="password"    \t/>\n\t\t<result property="email"        column="email"        \t/>\n\t\t<result property="phoneNumber"  column="phone_number"  \t/>\n\t\t<result property="description"  column="description"  \t/>\n\t\t<result property="createTime"   column="create_time"  \t/>\n\t\t<result property="updateTime"   column="update_time"  \t/>\n\t\t<collection property="roles" ofType="tech.pdai.springboot.mysql57.mybatis.xml.entity.Role">\n\t\t\t<result property="id" column="id"  />\n\t\t\t<result property="name" column="name"  />\n\t\t\t<result property="roleKey" column="role_key"  />\n\t\t\t<result property="description" column="description"  />\n\t\t\t<result property="createTime"   column="create_time"  \t/>\n\t\t\t<result property="updateTime"   column="update_time"  \t/>\n\t\t</collection>\n\t</resultMap>\n\t\n\t<sql id="selectUserSql">\n        select u.id, u.password, u.user_name, u.email, u.phone_number, u.description, u.create_time, u.update_time, r.name, r.role_key, r.description, r.create_time, r.update_time\n\t\tfrom tb_user u\n\t\tleft join tb_user_role ur on u.id=ur.user_id\n\t\tinner join tb_role r on ur.role_id=r.id\n    </sql>\n\t\n\t<select id="findList" parameterType="tech.pdai.springboot.mysql57.mybatis.xml.entity.query.UserQueryBean" resultMap="UserResult">\n\t\t<include refid="selectUserSql"/>\n\t\twhere u.id != 0\n\t\t<if test="userName != null and userName != \'\'">\n\t\t\tAND u.user_name like concat(\'%\', #{user_name}, \'%\')\n\t\t</if>\n\t\t<if test="description != null and description != \'\'">\n\t\t\tAND u.description like concat(\'%\', #{description}, \'%\')\n\t\t</if>\n\t\t<if test="phoneNumber != null and phoneNumber != \'\'">\n\t\t\tAND u.phone_number like concat(\'%\', #{phoneNumber}, \'%\')\n\t\t</if>\n\t\t<if test="email != null and email != \'\'">\n\t\t\tAND u.email like concat(\'%\', #{email}, \'%\')\n\t\t</if>\n\t</select>\n\t\n\t<select id="findById" parameterType="Long" resultMap="UserResult">\n\t\t<include refid="selectUserSql"/>\n\t\twhere u.id = #{id}\n\t</select>\n\t\n\t<delete id="deleteById" parameterType="Long">\n \t\tdelete from tb_user where id = #{id}\n \t</delete>\n \t\n \t<delete id="deleteByIds" parameterType="Long">\n\t\tdelete from tb_user where id in\n \t\t<foreach collection="array" item="id" open="(" separator="," close=")">\n \t\t\t#{id}\n        </foreach> \n \t</delete>\n \t\n \t<update id="update" parameterType="tech.pdai.springboot.mysql57.mybatis.xml.entity.User">\n \t\tupdate tb_user\n \t\t<set>\n \t\t\t<if test="userName != null and userName != \'\'">user_name = #{userName},</if>\n \t\t\t<if test="email != null and email != \'\'">email = #{email},</if>\n \t\t\t<if test="phoneNumber != null and phoneNumber != \'\'">phone_number = #{phoneNumber},</if>\n\t\t\t<if test="description != null and description != \'\'">description = #{description},</if>\n \t\t\tupdate_time = sysdate()\n \t\t</set>\n \t\twhere id = #{id}\n\t</update>\n\n\t<update id="updatePassword" parameterType="tech.pdai.springboot.mysql57.mybatis.xml.entity.User">\n\t\tupdate tb_user\n\t\t<set>\n\t\t\tpassword = #{password}, update_time = sysdate()\n\t\t</set>\n\t\twhere id = #{id}\n\t</update>\n \t\n \t<insert id="save" parameterType="tech.pdai.springboot.mysql57.mybatis.xml.entity.User" useGeneratedKeys="true" keyProperty="id">\n \t\tinsert into tb_user(\n \t\t\t<if test="userName != null and userName != \'\'">user_name,</if>\n\t\t\t<if test="password != null and password != \'\'">password,</if>\n \t\t\t<if test="email != null and email != \'\'">email,</if>\n\t\t\t<if test="phoneNumber != null and phoneNumber != \'\'">phone_number,</if>\n \t\t\t<if test="description != null and description != \'\'">description,</if>\n \t\t\tcreate_time,\n\t\t\tupdate_time\n \t\t)values(\n \t\t\t<if test="userName != null and userName != \'\'">#{userName},</if>\n\t\t\t<if test="password != null and password != \'\'">#{password},</if>\n \t\t\t<if test="email != null and email != \'\'">#{email},</if>\n \t\t\t<if test="phoneNumber != null and phoneNumber != \'\'">#{phone_number},</if>\n \t\t\t<if test="description != null and description != \'\'">#{description},</if>\n \t\t\tsysdate(),\n\t\t\tsysdate()\n \t\t)\n\t</insert>\n\t\n</mapper> \n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br")])]),n("p",[s._v("RoleMapper.xml")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\nPUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n"http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="tech.pdai.springboot.mysql57.mybatis.xml.dao.IRoleDao">\n\n\t<resultMap type="tech.pdai.springboot.mysql57.mybatis.xml.entity.Role" id="RoleResult">\n\t\t<id     property="id"       \tcolumn="id"      \t\t/>\n\t\t<result property="name" \t\tcolumn="name"  />\n\t\t<result property="roleKey" \t\tcolumn="role_key"  />\n\t\t<result property="description" \tcolumn="description"  />\n\t\t<result property="createTime"   column="create_time"  \t/>\n\t\t<result property="updateTime"   column="update_time"  \t/>\n\t</resultMap>\n\t\n\t<sql id="selectRoleSql">\n        select  r.id, r.name, r.role_key, r.description, r.create_time, r.update_time\n\t\t\tfrom tb_role r\n    </sql>\n\t\n\t<select id="findList" parameterType="tech.pdai.springboot.mysql57.mybatis.xml.entity.query.RoleQueryBean" resultMap="RoleResult">\n\t\t<include refid="selectRoleSql"/>\n\t\twhere r.id != 0\n\t\t<if test="name != null and name != \'\'">\n\t\t\tAND r.name like concat(\'%\', #{name}, \'%\')\n\t\t</if>\n\t\t<if test="roleKey != null and roleKey != \'\'">\n\t\t\tAND r.role_key = #{roleKey}\n\t\t</if>\n\t\t<if test="description != null and description != \'\'">\n\t\t\tAND r.description like concat(\'%\', #{description}, \'%\')\n\t\t</if>\n\t</select>\n\t\n</mapper> \n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("h3",{attrs:{id:"定义dao"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义dao"}},[s._v("#")]),s._v(" 定义dao")]),s._v(" "),n("p",[s._v("与Mapper文件中方法对应")]),s._v(" "),n("p",[s._v("UserDao")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("package tech.pdai.springboot.mysql57.mybatis.xml.dao;\n\nimport java.util.List;\n\nimport org.apache.ibatis.annotations.Mapper;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.User;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.query.UserQueryBean;\n\n/**\n * @author pdai\n */\n@Mapper\npublic interface IUserDao {\n\n    List<User> findList(UserQueryBean userQueryBean);\n\n    User findById(Long id);\n\n    int deleteById(Long id);\n\n    int deleteByIds(Long[] ids);\n\n    int update(User user);\n\n    int save(User user);\n\n    int updatePassword(User user);\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("RoleDao")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("package tech.pdai.springboot.mysql57.mybatis.xml.dao;\n\nimport java.util.List;\n\nimport org.apache.ibatis.annotations.Mapper;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.Role;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.query.RoleQueryBean;\n\n/**\n * @author pdai\n */\n@Mapper\npublic interface IRoleDao {\n    List<Role> findList(RoleQueryBean roleQueryBean);\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("h3",{attrs:{id:"定义service接口和实现类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定义service接口和实现类"}},[s._v("#")]),s._v(" 定义Service接口和实现类")]),s._v(" "),n("p",[s._v("UserService接口")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("package tech.pdai.springboot.mysql57.mybatis.xml.service;\n\nimport java.util.List;\n\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.User;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.query.UserQueryBean;\n\n\n/**\n * @author pdai\n */\npublic interface IUserService {\n\n    List<User> findList(UserQueryBean userQueryBean);\n\n    User findById(Long id);\n\n    int deleteById(Long id);\n\n    int deleteByIds(Long[] ids);\n\n    int update(User user);\n\n    int save(User user);\n\n    int updatePassword(User user);\n\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("User Service的实现类")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("package tech.pdai.springboot.mysql57.mybatis.xml.service.impl;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Service;\nimport tech.pdai.springboot.mysql57.mybatis.xml.dao.IUserDao;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.User;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.query.UserQueryBean;\nimport tech.pdai.springboot.mysql57.mybatis.xml.service.IUserService;\n\n@Service\npublic class UserDoServiceImpl implements IUserService {\n\n    /**\n     * userDao.\n     */\n    private final IUserDao userDao;\n\n    /**\n     * init.\n     *\n     * @param userDao2 user dao\n     */\n    public UserDoServiceImpl(final IUserDao userDao2) {\n        this.userDao = userDao2;\n    }\n\n    @Override\n    public List<User> findList(UserQueryBean userQueryBean) {\n        return userDao.findList(userQueryBean);\n    }\n\n    @Override\n    public User findById(Long id) {\n        return userDao.findById(id);\n    }\n\n    @Override\n    public int deleteById(Long id) {\n        return userDao.deleteById(id);\n    }\n\n    @Override\n    public int deleteByIds(Long[] ids) {\n        return userDao.deleteByIds(ids);\n    }\n\n    @Override\n    public int update(User user) {\n        return userDao.update(user);\n    }\n\n    @Override\n    public int save(User user) {\n        return userDao.save(user);\n    }\n\n    @Override\n    public int updatePassword(User user) {\n        return userDao.updatePassword(user);\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br")])]),n("p",[s._v("Role Service 接口")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("package tech.pdai.springboot.mysql57.mybatis.xml.service;\n\nimport java.util.List;\n\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.Role;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.query.RoleQueryBean;\n\npublic interface IRoleService {\n\n    List<Role> findList(RoleQueryBean roleQueryBean);\n\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("Role Service 实现类")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("package tech.pdai.springboot.mysql57.mybatis.xml.service.impl;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Service;\nimport tech.pdai.springboot.mysql57.mybatis.xml.dao.IRoleDao;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.Role;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.query.RoleQueryBean;\nimport tech.pdai.springboot.mysql57.mybatis.xml.service.IRoleService;\n\n@Service\npublic class RoleDoServiceImpl implements IRoleService {\n\n    /**\n     * roleDao.\n     */\n    private final IRoleDao roleDao;\n\n    /**\n     * init.\n     *\n     * @param roleDao2 role dao\n     */\n    public RoleDoServiceImpl(final IRoleDao roleDao2) {\n        this.roleDao = roleDao2;\n    }\n\n    @Override\n    public List<Role> findList(RoleQueryBean roleQueryBean) {\n        return roleDao.findList(roleQueryBean);\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("h3",{attrs:{id:"controller"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#controller"}},[s._v("#")]),s._v(" controller")]),s._v(" "),n("p",[s._v("User Controller")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('package tech.pdai.springboot.mysql57.mybatis.xml.controller;\n\n\nimport java.time.LocalDateTime;\nimport java.util.List;\n\nimport io.swagger.annotations.ApiOperation;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.User;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.query.UserQueryBean;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.response.ResponseResult;\nimport tech.pdai.springboot.mysql57.mybatis.xml.service.IUserService;\n\n/**\n * @author pdai\n */\n@RestController\n@RequestMapping("/user")\npublic class UserController {\n\n    @Autowired\n    private IUserService userService;\n\n    /**\n     * @param user user param\n     * @return user\n     */\n    @ApiOperation("Add/Edit User")\n    @PostMapping("add")\n    public ResponseResult<User> add(User user) {\n        if (user.getId()==null) {\n            user.setCreateTime(LocalDateTime.now());\n            user.setUpdateTime(LocalDateTime.now());\n            userService.save(user);\n        } else {\n            user.setUpdateTime(LocalDateTime.now());\n            userService.update(user);\n        }\n        return ResponseResult.success(userService.findById(user.getId()));\n    }\n\n\n    /**\n     * @return user list\n     */\n    @ApiOperation("Query User One")\n    @GetMapping("edit/{userId}")\n    public ResponseResult<User> edit(@PathVariable("userId") Long userId) {\n        return ResponseResult.success(userService.findById(userId));\n    }\n\n    /**\n     * @return user list\n     */\n    @ApiOperation("Query User List")\n    @GetMapping("list")\n    public ResponseResult<List<User>> list(UserQueryBean userQueryBean) {\n        return ResponseResult.success(userService.findList(userQueryBean));\n    }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br")])]),n("p",[s._v("Role Controller")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('package tech.pdai.springboot.mysql57.mybatis.xml.controller;\n\n\nimport java.util.List;\n\nimport io.swagger.annotations.ApiOperation;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.Role;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.query.RoleQueryBean;\nimport tech.pdai.springboot.mysql57.mybatis.xml.entity.response.ResponseResult;\nimport tech.pdai.springboot.mysql57.mybatis.xml.service.IRoleService;\n\n/**\n * @author pdai\n */\n@RestController\n@RequestMapping("/role")\npublic class RoleController {\n\n    @Autowired\n    private IRoleService roleService;\n\n    /**\n     * @return user list\n     */\n    @ApiOperation("Query Role List")\n    @GetMapping("list")\n    public ResponseResult<List<Role>> list(RoleQueryBean roleQueryBean) {\n        return ResponseResult.success(roleService.findList(roleQueryBean));\n    }\n}\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("h1",{attrs:{id:"示例源码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#示例源码"}},[s._v("#")]),s._v(" 示例源码")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("（上述代码中一些实体类和配置的完整代码，请参考如下代码仓库）")]),s._v(" "),n("p",[s._v("https://github.com/realpdai/tech-pdai-spring-demos")])])}),[],!1,null,null,null);n.default=t.exports}}]);