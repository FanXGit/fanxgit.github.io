(window.webpackJsonp=window.webpackJsonp||[]).push([[514],{3597:function(s,a,n){"use strict";n.r(a);var e=n(7),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"调试排错-java-问题排查之linux命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试排错-java-问题排查之linux命令"}},[s._v("#")]),s._v(" 调试排错 - Java 问题排查之Linux命令")]),s._v(" "),a("p",[s._v("=====================================================")]),s._v(" "),a("blockquote",[a("p",[s._v("Java 在线问题排查主要分两篇：本文是第一篇，通过linux常用命令排查。@pdai")])]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E8%B0%83%E8%AF%95%E6%8E%92%E9%94%99---java-%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E4%B9%8Blinux%E5%91%BD%E4%BB%A4"}},[s._v("调试排错 - Java 问题排查之Linux命令")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%96%87%E6%9C%AC%E6%93%8D%E4%BD%9C"}},[s._v("文本操作")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%96%87%E6%9C%AC%E6%9F%A5%E6%89%BE---grep"}},[s._v("文本查找 - grep")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90---awk"}},[s._v("文本分析 - awk")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86---sed"}},[s._v("文本处理 - sed")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"}},[s._v("文件操作")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%96%87%E4%BB%B6%E7%9B%91%E5%90%AC---tail"}},[s._v("文件监听 - tail")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE---find"}},[s._v("文件查找 - find")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#pgm"}},[s._v("pgm")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E5%92%8C%E8%BF%9B%E7%A8%8B"}},[s._v("查看网络和进程")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B1%9E%E6%80%A7"}},[s._v("查看所有网络接口的属性")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E9%98%B2%E7%81%AB%E5%A2%99%E8%AE%BE%E7%BD%AE"}},[s._v("查看防火墙设置")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E8%B7%AF%E7%94%B1%E8%A1%A8"}},[s._v("查看路由表")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#netstat"}},[s._v("netstat")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B"}},[s._v("查看所有进程")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#top"}},[s._v("top")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%A3%81%E7%9B%98%E5%92%8C%E5%86%85%E5%AD%98%E7%9B%B8%E5%85%B3"}},[s._v("查看磁盘和内存相关")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8---free--m"}},[s._v("查看内存使用 - free -m")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E5%90%84%E5%88%86%E5%8C%BA%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5"}},[s._v("查看各分区使用情况")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E5%A4%A7%E5%B0%8F"}},[s._v("查看指定目录的大小")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E5%86%85%E5%AD%98%E6%80%BB%E9%87%8F"}},[s._v("查看内存总量")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%A9%BA%E9%97%B2%E5%86%85%E5%AD%98%E9%87%8F"}},[s._v("查看空闲内存量")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E8%B4%9F%E8%BD%BD%E7%A3%81%E7%9B%98%E5%92%8C%E5%88%86%E5%8C%BA"}},[s._v("查看系统负载磁盘和分区")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E8%B4%9F%E8%BD%BD%E7%A3%81%E7%9B%98%E5%92%8C%E5%88%86%E5%8C%BA-1"}},[s._v("查看系统负载磁盘和分区")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%8C%82%E6%8E%A5%E7%9A%84%E5%88%86%E5%8C%BA%E7%8A%B6%E6%80%81"}},[s._v("查看挂接的分区状态")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E5%88%86%E5%8C%BA"}},[s._v("查看所有分区")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA"}},[s._v("查看所有交换分区")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%A1%AC%E7%9B%98%E5%A4%A7%E5%B0%8F"}},[s._v("查看硬盘大小")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%9B%B8%E5%85%B3"}},[s._v("查看用户和组相关")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%B4%BB%E5%8A%A8%E7%94%A8%E6%88%B7"}},[s._v("查看活动用户")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"}},[s._v("查看指定用户信息")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%97%A5%E5%BF%97"}},[s._v("查看用户登录日志")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E6%89%80%E6%9C%89%E7%94%A8%E6%88%B7"}},[s._v("查看系统所有用户")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E6%89%80%E6%9C%89%E7%BB%84"}},[s._v("查看系统所有组")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85%E7%9B%B8%E5%85%B3"}},[s._v("查看服务，模块和包相关")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E8%AE%BE%E5%A4%87%E7%8E%AF%E5%A2%83%E4%BF%A1%E6%81%AF"}},[s._v("查看系统，设备，环境信息")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#tsar"}},[s._v("tsar")])])])])]),s._v(" "),a("h1",{attrs:{id:"文本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本操作"}},[s._v("#")]),s._v(" 文本操作")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"文本查找-grep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本查找-grep"}},[s._v("#")]),s._v(" 文本查找 - grep")]),s._v(" "),a("p",[s._v("grep常用命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 基本使用\ngrep yoursearchkeyword f.txt     #文件查找\ngrep 'KeyWord otherKeyWord' f.txt cpf.txt #多文件查找, 含空格加引号\ngrep 'KeyWord' /home/admin -r -n #目录下查找所有符合关键字的文件\ngrep 'keyword' /home/admin -r -n -i # -i 忽略大小写\ngrep 'KeyWord' /home/admin -r -n --include *.{vm,java} #指定文件后缀\ngrep 'KeyWord' /home/admin -r -n --exclude *.{vm,java} #反匹配\n\n# cat + grep\ncat f.txt | grep -i keyword # 查找所有keyword且不分大小写  \ncat f.txt | grep -c 'KeyWord' # 统计Keyword次数\n\n# seq + grep\nseq 10 | grep 5 -A 3    #上匹配\nseq 10 | grep 5 -B 3    #下匹配\nseq 10 | grep 5 -C 3    #上下匹配，平时用这个就妥了\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("Grep的参数：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("--color=auto：显示颜色;\n-i, --ignore-case：忽略字符大小写;\n-o, --only-matching：只显示匹配到的部分;\n-n, --line-number：显示行号;\n-v, --invert-match：反向显示,显示未匹配到的行;\n-E, --extended-regexp：支持使用扩展的正则表达式;\n-q, --quiet, --silent：静默模式,即不输出任何信息;\n-w, --word-regexp：整行匹配整个单词;\n-c, --count：统计匹配到的行数; print a count of matching lines;\n\n-B, --before-context=NUM：print NUM lines of leading context   后#行 \n-A, --after-context=NUM：print NUM lines of trailing context   前#行 \n-C, --context=NUM：print NUM lines of output context           前后各#行 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"文本分析-awk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本分析-awk"}},[s._v("#")]),s._v(" 文本分析 - awk")]),s._v(" "),a("p",[s._v("awk基本命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 基本使用\nawk '{print $4,$6}' f.txt\nawk '{print NR,$0}' f.txt cpf.txt    \nawk '{print FNR,$0}' f.txt cpf.txt\nawk '{print FNR,FILENAME,$0}' f.txt cpf.txt\nawk '{print FILENAME,\"NR=\"NR,\"FNR=\"FNR,\"$\"NF\"=\"$NF}' f.txt cpf.txt\necho 1:2:3:4 | awk -F: '{print $1,$2,$3,$4}'\n\n# 匹配\nawk '/ldb/ {print}' f.txt   #匹配ldb\nawk '!/ldb/ {print}' f.txt  #不匹配ldb\nawk '/ldb/ && /LISTEN/ {print}' f.txt   #匹配ldb和LISTEN\nawk '$5 ~ /ldb/ {print}' f.txt #第五列匹配ldb\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("内建变量")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("`NR`: NR表示从awk开始执行后，按照记录分隔符读取的数据次数，默认的记录分隔符为换行符，因此默认的就是读取的数据行数，NR可以理解为Number of Record的缩写。\n\n`FNR`: 在awk处理多个输入文件的时候，在处理完第一个文件后，NR并不会从1开始，而是继续累加，因此就出现了FNR，每当处理一个新文件的时候，FNR就从1开始计数，FNR可以理解为File Number of Record。\n\n`NF`: NF表示目前的记录被分割的字段的数目，NF可以理解为Number of Field。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("更多请参考："),a("a",{attrs:{href:"https://www.runoob.com/linux/linux-comm-awk.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux awk 命令 在新窗口打开"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"文本处理-sed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本处理-sed"}},[s._v("#")]),s._v(" 文本处理 - sed")]),s._v(" "),a("p",[s._v("sed常用：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 文本打印\nsed -n '3p' xxx.log #只打印第三行\nsed -n '$p' xxx.log #只打印最后一行\nsed -n '3,9p' xxx.log #只查看文件的第3行到第9行\nsed -n -e '3,9p' -e '=' xxx.log #打印3-9行，并显示行号\nsed -n '/root/p' xxx.log #显示包含root的行\nsed -n '/hhh/,/omc/p' xxx.log # 显示包含\"hhh\"的行到包含\"omc\"的行之间的行\n\n# 文本替换\nsed -i 's/root/world/g' xxx.log # 用world 替换xxx.log文件中的root; s==search  查找并替换, g==global  全部替换, -i: implace\n\n# 文本插入\nsed '1,4i hahaha' xxx.log # 在文件第一行和第四行的每行下面添加hahaha\nsed -e '1i happy' -e '$a new year' xxx.log  #【界面显示】在文件第一行添加happy,文件结尾添加new year\nsed -i -e '1i happy' -e '$a new year' xxx.log #【真实写入文件】在文件第一行添加happy,文件结尾添加new year\n\n# 文本删除\nsed  '3,9d' xxx.log # 删除第3到第9行,只是不显示而已\nsed '/hhh/,/omc/d' xxx.log # 删除包含\"hhh\"的行到包含\"omc\"的行之间的行\nsed '/omc/,10d' xxx.log # 删除包含\"omc\"的行到第十行的内容\n\n# 与find结合\nfind . -name  \"*.txt\" |xargs   sed -i 's/hhhh/\\hHHh/g'\nfind . -name  \"*.txt\" |xargs   sed -i 's#hhhh#hHHh#g'\nfind . -name  \"*.txt\" -exec sed -i 's/hhhh/\\hHHh/g' {} \\;\nfind . -name  \"*.txt\" |xargs cat\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("更多请参考："),a("a",{attrs:{href:"https://www.runoob.com/linux/linux-comm-sed.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux sed 命令 在新窗口打开"),a("OutboundLink")],1),s._v(" 或者 "),a("a",{attrs:{href:"https://www.cnblogs.com/ftl1012/p/9250171.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux sed命令详解 在新窗口打开"),a("OutboundLink")],1)]),s._v(" "),a("h1",{attrs:{id:"文件操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件操作"}},[s._v("#")]),s._v(" 文件操作")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"文件监听-tail"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件监听-tail"}},[s._v("#")]),s._v(" 文件监听 - tail")]),s._v(" "),a("p",[s._v("最常用的"),a("code",[s._v("tail -f filename")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 基本使用\ntail -f xxx.log # 循环监听文件\ntail -300f xxx.log #倒数300行并追踪文件\ntail +20 xxx.log #从第 20 行至文件末尾显示文件内容\n\n# tailf使用\ntailf xxx.log #等同于tail -f -n 10 打印最后10行，然后追踪文件\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("tail -f 与tail F 与tailf三者区别")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("`tail  -f `  等于--follow=descriptor，根据文件描述进行追踪，当文件改名或删除后，停止追踪。\n\n`tail -F` 等于 --follow=name ==retry，根据文件名字进行追踪，当文件改名或删除后，保持重试，当有新的文件和他同名时，继续追踪\n\n`tailf` 等于tail -f -n 10（tail -f或-F默认也是打印最后10行，然后追踪文件），与tail -f不同的是，如果文件不增长，它不会去访问磁盘文件，所以tailf特别适合那些便携机上跟踪日志文件，因为它减少了磁盘访问，可以省电。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("tail的参数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-f 循环读取\n-q 不显示处理信息\n-v 显示详细的处理信息\n-c<数目> 显示的字节数\n-n<行数> 显示文件的尾部 n 行内容\n--pid=PID 与-f合用,表示在进程ID,PID死掉之后结束\n-q, --quiet, --silent 从不输出给出文件名的首部\n-s, --sleep-interval=S 与-f合用,表示在每次反复的间隔休眠S秒\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"文件查找-find"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件查找-find"}},[s._v("#")]),s._v(" 文件查找 - find")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sudo -u admin find /home/admin /tmp /usr -name \\*.log(多个目录去找)\nfind . -iname \\*.txt(大小写都匹配)\nfind . -type d(当前目录下的所有子目录)\nfind /usr -type l(当前目录下所有的符号链接)\nfind /usr -type l -name "z*" -ls(符号链接的详细信息 eg:inode,目录)\nfind /home/admin -size +250000k(超过250000k的文件，当然+改成-就是小于了)\nfind /home/admin f -perm 777 -exec ls -l {} \\; (按照权限查询文件)\nfind /home/admin -atime -1  1天内访问过的文件\nfind /home/admin -ctime -1  1天内状态改变过的文件    \nfind /home/admin -mtime -1  1天内修改过的文件\nfind /home/admin -amin -1  1分钟内访问过的文件\nfind /home/admin -cmin -1  1分钟内状态改变过的文件    \nfind /home/admin -mmin -1  1分钟内修改过的文件\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"pgm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pgm"}},[s._v("#")]),s._v(" pgm")]),s._v(" "),a("p",[s._v("批量查询vm-shopbase满足条件的日志")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("pgm -A -f vm-shopbase 'cat /home/admin/shopbase/logs/shopbase.log.2017-01-17|grep 2069861630'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h1",{attrs:{id:"查看网络和进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看网络和进程"}},[s._v("#")]),s._v(" 查看网络和进程")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"查看所有网络接口的属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看所有网络接口的属性"}},[s._v("#")]),s._v(" 查看所有网络接口的属性")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# ifconfig\neth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 172.31.165.194  netmask 255.255.240.0  broadcast 172.31.175.255\n        ether 00:16:3e:08:c1:ea  txqueuelen 1000  (Ethernet)\n        RX packets 21213152  bytes 2812084823 (2.6 GiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 25264438  bytes 46566724676 (43.3 GiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        loop  txqueuelen 1000  (Local Loopback)\n        RX packets 502  bytes 86350 (84.3 KiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 502  bytes 86350 (84.3 KiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"查看防火墙设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看防火墙设置"}},[s._v("#")]),s._v(" 查看防火墙设置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# iptables -L\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"查看路由表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看路由表"}},[s._v("#")]),s._v(" 查看路由表")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# route -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         172.31.175.253  0.0.0.0         UG    0      0        0 eth0\n169.254.0.0     0.0.0.0         255.255.0.0     U     1002   0        0 eth0\n172.31.160.0    0.0.0.0         255.255.240.0   U     0      0        0 eth0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"netstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#netstat"}},[s._v("#")]),s._v(" netstat")]),s._v(" "),a("p",[s._v("查看所有监听端口")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# netstat -lntp\nActive Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name  \ntcp        0      0 0.0.0.0:443             0.0.0.0:*               LISTEN      970/nginx: master p\ntcp        0      0 0.0.0.0:9999            0.0.0.0:*               LISTEN      1249/java         \ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      970/nginx: master p\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1547/sshd         \ntcp6       0      0 :::3306                 :::*                    LISTEN      1894/mysqld       \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("查看所有已经建立的连接")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# netstat -antp\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        0      0 0.0.0.0:443             0.0.0.0:*               LISTEN      970/nginx: master p\ntcp        0      0 0.0.0.0:9999            0.0.0.0:*               LISTEN      1249/java\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      970/nginx: master p\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1547/sshd\ntcp        0      0 172.31.165.194:53874    100.100.30.25:80        ESTABLISHED 18041/AliYunDun\ntcp        0     64 172.31.165.194:22       xxx.194.1.200:2649      ESTABLISHED 32516/sshd: root@pt\ntcp6       0      0 :::3306                 :::*                    LISTEN      1894/m\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("查看当前连接")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# netstat -nat|awk  '{print $6}'|sort|uniq -c|sort -rn\n      5 LISTEN\n      2 ESTABLISHED\n      1 Foreign\n      1 established)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("查看网络统计信息进程")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# netstat -s\nIp:\n    21017132 total packets received\n    0 forwarded\n    0 incoming packets discarded\n    21017131 incoming packets delivered\n    25114367 requests sent out\n    324 dropped because of missing route\nIcmp:\n    18088 ICMP messages received\n    692 input ICMP message failed.\n    ICMP input histogram:\n        destination unreachable: 4241\n        timeout in transit: 19\n        echo requests: 13791\n        echo replies: 4\n        timestamp request: 33\n    13825 ICMP messages sent\n    0 ICMP messages failed\n    ICMP output histogram:\n        destination unreachable: 1\n        echo replies: 13791\n        timestamp replies: 33\nIcmpMsg:\n        InType0: 4\n        InType3: 4241\n        InType8: 13791\n        InType11: 19\n        InType13: 33\n        OutType0: 13791\n        OutType3: 1\n        OutType14: 33\nTcp:\n    12210 active connections openings\n    208820 passive connection openings\n    54198 failed connection attempts\n    9805 connection resets received\n...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br")])]),a("p",[s._v("netstat 请参考这篇文章: "),a("a",{attrs:{href:"https://www.cnblogs.com/ftl1012/p/netstat.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux netstat命令详解 在新窗口打开"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"查看所有进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看所有进程"}},[s._v("#")]),s._v(" 查看所有进程")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# ps -ef | grep java\nroot      1249     1  0 Nov04 ?        00:58:05 java -jar /opt/tech_doc/bin/tech_arch-0.0.1-RELEASE.jar --server.port=9999\nroot     32718 32518  0 08:36 pts/0    00:00:00 grep --color=auto java\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"top"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#top"}},[s._v("#")]),s._v(" top")]),s._v(" "),a("p",[s._v("top除了看一些基本信息之外，剩下的就是配合来查询vm的各种问题了")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# top -H -p pid\ntop - 08:37:51 up 45 days, 18:45,  1 user,  load average: 0.01, 0.03, 0.05\nThreads:  28 total,   0 running,  28 sleeping,   0 stopped,   0 zombie\n%Cpu(s):  0.7 us,  0.7 sy,  0.0 ni, 98.6 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nKiB Mem :  1882088 total,    74608 free,   202228 used,  1605252 buff/cache\nKiB Swap:  2097148 total,  1835392 free,   261756 used.  1502036 avail Mem\n\n  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\n 1347 root      20   0 2553808 113752   1024 S  0.3  6.0  48:46.74 VM Periodic Tas\n 1249 root      20   0 2553808 113752   1024 S  0.0  6.0   0:00.00 java\n 1289 root      20   0 2553808 113752   1024 S  0.0  6.0   0:03.74 java\n...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h1",{attrs:{id:"查看磁盘和内存相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看磁盘和内存相关"}},[s._v("#")]),s._v(" 查看磁盘和内存相关")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"查看内存使用-free-m"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看内存使用-free-m"}},[s._v("#")]),s._v(" 查看内存使用 - free -m")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# free -m\n              total        used        free      shared  buff/cache   available\nMem:           1837         196         824           0         816        1469\nSwap:          2047         255        1792\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"查看各分区使用情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看各分区使用情况"}},[s._v("#")]),s._v(" 查看各分区使用情况")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# df -h\nFilesystem      Size  Used Avail Use% Mounted on\ndevtmpfs        909M     0  909M   0% /dev\ntmpfs           919M     0  919M   0% /dev/shm\ntmpfs           919M  452K  919M   1% /run\ntmpfs           919M     0  919M   0% /sys/fs/cgroup\n/dev/vda1        40G   15G   23G  40% /\ntmpfs           184M     0  184M   0% /run/user/0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"查看指定目录的大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看指定目录的大小"}},[s._v("#")]),s._v(" 查看指定目录的大小")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# du -sh\n803M\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"查看内存总量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看内存总量"}},[s._v("#")]),s._v(" 查看内存总量")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# grep MemTotal /proc/meminfo\nMemTotal:        1882088 kB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"查看空闲内存量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看空闲内存量"}},[s._v("#")]),s._v(" 查看空闲内存量")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# grep MemFree /proc/meminfo\nMemFree:           74120 kB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"查看系统负载磁盘和分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统负载磁盘和分区"}},[s._v("#")]),s._v(" 查看系统负载磁盘和分区")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# grep MemFree /proc/meminfo\nMemFree:           74120 kB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"查看系统负载磁盘和分区-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统负载磁盘和分区-2"}},[s._v("#")]),s._v(" 查看系统负载磁盘和分区")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# cat /proc/loadavg\n0.01 0.04 0.05 2/174 32751\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"查看挂接的分区状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看挂接的分区状态"}},[s._v("#")]),s._v(" 查看挂接的分区状态")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# mount | column -t\nsysfs       on  /sys                             type  sysfs       (rw,nosuid,nodev,noexec,relatime)\nproc        on  /proc                            type  proc        (rw,nosuid,nodev,noexec,relatime)\ndevtmpfs    on  /dev                             type  devtmpfs    (rw,nosuid,size=930732k,nr_inodes=232683,mode=755)\nsecurityfs  on  /sys/kernel/security             type  securityfs  (rw,nosuid,nodev,noexec,relatime)\n...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"查看所有分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看所有分区"}},[s._v("#")]),s._v(" 查看所有分区")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# fdisk -l\n\nDisk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0x0008d73a\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/vda1   *        2048    83884031    41940992   83  Linux\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"查看所有交换分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看所有交换分区"}},[s._v("#")]),s._v(" 查看所有交换分区")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# swapon -s\nFilename                                Type            Size    Used    Priority\n/etc/swap                               file    2097148 261756  -2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"查看硬盘大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看硬盘大小"}},[s._v("#")]),s._v(" 查看硬盘大小")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# fdisk -l |grep Disk\nDisk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectors\nDisk label type: dos\nDisk identifier: 0x0008d73a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h1",{attrs:{id:"查看用户和组相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看用户和组相关"}},[s._v("#")]),s._v(" 查看用户和组相关")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"查看活动用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看活动用户"}},[s._v("#")]),s._v(" 查看活动用户")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# w\n 08:47:20 up 45 days, 18:54,  1 user,  load average: 0.01, 0.03, 0.05\nUSER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\nroot     pts/0    xxx.194.1.200    08:32    0.00s  0.32s  0.32s -bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"查看指定用户信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看指定用户信息"}},[s._v("#")]),s._v(" 查看指定用户信息")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# id\nuid=0(root) gid=0(root) groups=0(root)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"查看用户登录日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看用户登录日志"}},[s._v("#")]),s._v(" 查看用户登录日志")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# last\nroot     pts/0        xxx.194.1.200    Fri Dec 20 08:32   still logged in\nroot     pts/0        xxx.73.164.60     Thu Dec 19 21:47 - 00:28  (02:41)\nroot     pts/0        xxx.106.236.255  Thu Dec 19 16:00 - 18:24  (02:23)\nroot     pts/1        xxx.194.3.173    Tue Dec 17 13:35 - 17:37  (04:01)\nroot     pts/0        xxx.194.3.173    Tue Dec 17 13:35 - 17:37  (04:02)\n...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"查看系统所有用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统所有用户"}},[s._v("#")]),s._v(" 查看系统所有用户")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@pdai.tech ~]# cut -d: -f1 /etc/passwd\nroot\nbin\ndaemon\nadm\n...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"查看系统所有组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统所有组"}},[s._v("#")]),s._v(" 查看系统所有组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cut -d: -f1 /etc/group\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h1",{attrs:{id:"查看服务-模块和包相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看服务-模块和包相关"}},[s._v("#")]),s._v(" 查看服务，模块和包相关")]),s._v(" "),a("hr"),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 查看当前用户的计划任务服务\ncrontab -l \n\n# 列出所有系统服务\nchkconfig –list \n\n# 列出所有启动的系统服务程序\nchkconfig –list | grep on \n\n# 查看所有安装的软件包\nrpm -qa \n\n# 列出加载的内核模块\nlsmod \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h1",{attrs:{id:"查看系统-设备-环境信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统-设备-环境信息"}},[s._v("#")]),s._v(" 查看系统，设备，环境信息")]),s._v(" "),a("hr"),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# 常用\nenv # 查看环境变量资源\nuptime # 查看系统运行时间、用户数、负载\nlsusb -tv # 列出所有USB设备的linux系统信息命令\nlspci -tv # 列出所有PCI设备\nhead -n 1 /etc/issue # 查看操作系统版本，是数字1不是字母L\nuname -a # 查看内核/操作系统/CPU信息的linux系统信息命令\n\n# /proc/\ncat /proc/cpuinfo ：查看CPU相关参数的linux系统命令\ncat /proc/partitions ：查看linux硬盘和分区信息的系统信息命令\ncat /proc/meminfo ：查看linux系统内存信息的linux系统命令\ncat /proc/version ：查看版本，类似uname -r\ncat /proc/ioports ：查看设备io端口\ncat /proc/interrupts ：查看中断\ncat /proc/pci ：查看pci设备的信息\ncat /proc/swaps ：查看所有swap分区的信息\ncat /proc/cpuinfo |grep "model name" && cat /proc/cpuinfo |grep "physical id"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h1",{attrs:{id:"tsar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tsar"}},[s._v("#")]),s._v(" tsar")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("tsar是淘宝开源的的采集工具。很好用, 将历史收集到的数据持久化在磁盘上，所以我们快速来查询历史的系统数据。当然实时的应用情况也是可以查询的啦。大部分机器上都有安装。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("tsar  ##可以查看最近一天的各项指标\ntsar --live ##可以查看实时指标，默认五秒一刷\ntsar -d 20161218 ##指定查看某天的数据，貌似最多只能看四个月的数据\ntsar --mem\ntsar --load\ntsar --cpu ##当然这个也可以和-d参数配合来查询某天的单个指标的情况 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("具体可以看这篇文章："),a("a",{attrs:{href:"https://www.jianshu.com/p/5562854ed901",target:"_blank",rel:"noopener noreferrer"}},[s._v("linux 淘宝开源监控工具tsar 在新窗口打开"),a("OutboundLink")],1),s._v(")")])])}),[],!1,null,null,null);a.default=t.exports}}]);