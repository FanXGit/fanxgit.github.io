<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES详解 - 原理-从图解构筑对ES原理的初步认知 | Fanx 知识库</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/logo.svg">[object Object]
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.6ece31e0.css" as="style"><link rel="preload" href="/assets/js/app.38fd400a.js" as="script"><link rel="preload" href="/assets/js/3.e11db813.js" as="script"><link rel="preload" href="/assets/js/4.c1dcb1a7.js" as="script"><link rel="prefetch" href="/assets/js/10.939e2dd4.js"><link rel="prefetch" href="/assets/js/100.4a08f581.js"><link rel="prefetch" href="/assets/js/101.45cd45c9.js"><link rel="prefetch" href="/assets/js/102.ac1359d1.js"><link rel="prefetch" href="/assets/js/103.22344102.js"><link rel="prefetch" href="/assets/js/104.5071cdfd.js"><link rel="prefetch" href="/assets/js/105.7767c121.js"><link rel="prefetch" href="/assets/js/106.809b79f1.js"><link rel="prefetch" href="/assets/js/107.62fd626a.js"><link rel="prefetch" href="/assets/js/108.0583fdc1.js"><link rel="prefetch" href="/assets/js/109.fa127771.js"><link rel="prefetch" href="/assets/js/11.6463adc8.js"><link rel="prefetch" href="/assets/js/110.5cf9f09c.js"><link rel="prefetch" href="/assets/js/111.9d963667.js"><link rel="prefetch" href="/assets/js/112.bc2b8a6e.js"><link rel="prefetch" href="/assets/js/113.2ae29573.js"><link rel="prefetch" href="/assets/js/114.0b2cedfa.js"><link rel="prefetch" href="/assets/js/115.652e433e.js"><link rel="prefetch" href="/assets/js/116.bcc5d64a.js"><link rel="prefetch" href="/assets/js/117.30b02d0d.js"><link rel="prefetch" href="/assets/js/118.87f4f927.js"><link rel="prefetch" href="/assets/js/119.05839492.js"><link rel="prefetch" href="/assets/js/12.a17960e5.js"><link rel="prefetch" href="/assets/js/120.3d772c9c.js"><link rel="prefetch" href="/assets/js/121.bd8fcebf.js"><link rel="prefetch" href="/assets/js/122.e58d2205.js"><link rel="prefetch" href="/assets/js/123.f2c2826d.js"><link rel="prefetch" href="/assets/js/124.12d9ff87.js"><link rel="prefetch" href="/assets/js/125.c7e4bf1c.js"><link rel="prefetch" href="/assets/js/126.71c358fb.js"><link rel="prefetch" href="/assets/js/127.fb1922e5.js"><link rel="prefetch" href="/assets/js/128.25cbf771.js"><link rel="prefetch" href="/assets/js/129.50047ea3.js"><link rel="prefetch" href="/assets/js/13.727ebfda.js"><link rel="prefetch" href="/assets/js/130.a77cfa28.js"><link rel="prefetch" href="/assets/js/131.1618c1f5.js"><link rel="prefetch" href="/assets/js/132.4073573b.js"><link rel="prefetch" href="/assets/js/133.f6e4882f.js"><link rel="prefetch" href="/assets/js/134.1de81973.js"><link rel="prefetch" href="/assets/js/135.43148a0c.js"><link rel="prefetch" href="/assets/js/136.12b3ef34.js"><link rel="prefetch" href="/assets/js/137.accefc34.js"><link rel="prefetch" href="/assets/js/138.8d3115ff.js"><link rel="prefetch" href="/assets/js/139.6e492e2b.js"><link rel="prefetch" href="/assets/js/14.bc6d3062.js"><link rel="prefetch" href="/assets/js/140.3d98f006.js"><link rel="prefetch" href="/assets/js/141.542d08af.js"><link rel="prefetch" href="/assets/js/142.c91a19a2.js"><link rel="prefetch" href="/assets/js/143.0c681ed2.js"><link rel="prefetch" href="/assets/js/144.62e9c646.js"><link rel="prefetch" href="/assets/js/145.ebc34777.js"><link rel="prefetch" href="/assets/js/146.d94a04a7.js"><link rel="prefetch" href="/assets/js/147.b45158de.js"><link rel="prefetch" href="/assets/js/148.5dfa6740.js"><link rel="prefetch" href="/assets/js/149.cb6f2cb0.js"><link rel="prefetch" href="/assets/js/15.a9468bf1.js"><link rel="prefetch" href="/assets/js/150.9f58dbc6.js"><link rel="prefetch" href="/assets/js/151.0a1c07e3.js"><link rel="prefetch" href="/assets/js/152.eafe4843.js"><link rel="prefetch" href="/assets/js/153.fb94cab5.js"><link rel="prefetch" href="/assets/js/154.07f7a11d.js"><link rel="prefetch" href="/assets/js/155.7f6da40b.js"><link rel="prefetch" href="/assets/js/156.2f007ca1.js"><link rel="prefetch" href="/assets/js/157.a35b5249.js"><link rel="prefetch" href="/assets/js/158.540f7a5a.js"><link rel="prefetch" href="/assets/js/159.f62e0315.js"><link rel="prefetch" href="/assets/js/16.ace3b806.js"><link rel="prefetch" href="/assets/js/160.e043c758.js"><link rel="prefetch" href="/assets/js/161.d90141bf.js"><link rel="prefetch" href="/assets/js/162.ddcdbfb9.js"><link rel="prefetch" href="/assets/js/163.f1ba395e.js"><link rel="prefetch" href="/assets/js/164.9f398973.js"><link rel="prefetch" href="/assets/js/165.0db3da51.js"><link rel="prefetch" href="/assets/js/166.b5305797.js"><link rel="prefetch" href="/assets/js/167.e7b2f76b.js"><link rel="prefetch" href="/assets/js/168.a2ecf883.js"><link rel="prefetch" href="/assets/js/169.88bd4d26.js"><link rel="prefetch" href="/assets/js/17.60481837.js"><link rel="prefetch" href="/assets/js/170.fb1699e2.js"><link rel="prefetch" href="/assets/js/171.47268bef.js"><link rel="prefetch" href="/assets/js/172.79002327.js"><link rel="prefetch" href="/assets/js/173.3b1813fb.js"><link rel="prefetch" href="/assets/js/174.362811a9.js"><link rel="prefetch" href="/assets/js/175.bb48bcd7.js"><link rel="prefetch" href="/assets/js/176.97bbf32c.js"><link rel="prefetch" href="/assets/js/177.0717ff7a.js"><link rel="prefetch" href="/assets/js/178.75bff3b7.js"><link rel="prefetch" href="/assets/js/179.3e7db0a2.js"><link rel="prefetch" href="/assets/js/18.dd3c5709.js"><link rel="prefetch" href="/assets/js/180.c81da8dd.js"><link rel="prefetch" href="/assets/js/181.142d6d1c.js"><link rel="prefetch" href="/assets/js/182.fb312040.js"><link rel="prefetch" href="/assets/js/183.3684267e.js"><link rel="prefetch" href="/assets/js/184.ec2a13bc.js"><link rel="prefetch" href="/assets/js/185.a7acace4.js"><link rel="prefetch" href="/assets/js/186.7df28551.js"><link rel="prefetch" href="/assets/js/187.347e9348.js"><link rel="prefetch" href="/assets/js/188.07356026.js"><link rel="prefetch" href="/assets/js/189.0816176d.js"><link rel="prefetch" href="/assets/js/19.cc2d4ad1.js"><link rel="prefetch" href="/assets/js/190.fd5dd8cc.js"><link rel="prefetch" href="/assets/js/191.a938967e.js"><link rel="prefetch" href="/assets/js/192.859b71a1.js"><link rel="prefetch" href="/assets/js/193.adcf2ec3.js"><link rel="prefetch" href="/assets/js/194.69d1169c.js"><link rel="prefetch" href="/assets/js/195.ad7cbcc4.js"><link rel="prefetch" href="/assets/js/196.b65138da.js"><link rel="prefetch" href="/assets/js/197.b4fca73b.js"><link rel="prefetch" href="/assets/js/198.2494a23f.js"><link rel="prefetch" href="/assets/js/199.404b9ce1.js"><link rel="prefetch" href="/assets/js/2.938bab56.js"><link rel="prefetch" href="/assets/js/20.361e2bf6.js"><link rel="prefetch" href="/assets/js/200.42b54eae.js"><link rel="prefetch" href="/assets/js/201.ab495eb8.js"><link rel="prefetch" href="/assets/js/202.2cbc5c9a.js"><link rel="prefetch" href="/assets/js/203.abf3fde5.js"><link rel="prefetch" href="/assets/js/204.4fdd4cfb.js"><link rel="prefetch" href="/assets/js/205.411987d7.js"><link rel="prefetch" href="/assets/js/206.dbcab3ae.js"><link rel="prefetch" href="/assets/js/207.f1429354.js"><link rel="prefetch" href="/assets/js/208.f763286c.js"><link rel="prefetch" href="/assets/js/209.c1edbca5.js"><link rel="prefetch" href="/assets/js/21.ae1e88a3.js"><link rel="prefetch" href="/assets/js/210.b2a1501d.js"><link rel="prefetch" href="/assets/js/211.fe1fd5f7.js"><link rel="prefetch" href="/assets/js/212.0fd39a8f.js"><link rel="prefetch" href="/assets/js/213.bb3fc163.js"><link rel="prefetch" href="/assets/js/214.c42e1ef3.js"><link rel="prefetch" href="/assets/js/215.4f0fa915.js"><link rel="prefetch" href="/assets/js/216.07c485c9.js"><link rel="prefetch" href="/assets/js/217.ada25e7a.js"><link rel="prefetch" href="/assets/js/218.2f761d3c.js"><link rel="prefetch" href="/assets/js/219.32d1a663.js"><link rel="prefetch" href="/assets/js/22.0b09d67f.js"><link rel="prefetch" href="/assets/js/220.36c56cf4.js"><link rel="prefetch" href="/assets/js/221.3e0431e2.js"><link rel="prefetch" href="/assets/js/222.90aa0ff7.js"><link rel="prefetch" href="/assets/js/223.5966d7df.js"><link rel="prefetch" href="/assets/js/224.7e2329e1.js"><link rel="prefetch" href="/assets/js/225.2ed3675d.js"><link rel="prefetch" href="/assets/js/226.fa3cef02.js"><link rel="prefetch" href="/assets/js/227.07bf7bca.js"><link rel="prefetch" href="/assets/js/228.9ac2589a.js"><link rel="prefetch" href="/assets/js/229.b980e141.js"><link rel="prefetch" href="/assets/js/23.31ed5c2f.js"><link rel="prefetch" href="/assets/js/230.2c32e874.js"><link rel="prefetch" href="/assets/js/231.723e20cb.js"><link rel="prefetch" href="/assets/js/232.1f94511c.js"><link rel="prefetch" href="/assets/js/233.2d477f71.js"><link rel="prefetch" href="/assets/js/234.10141c75.js"><link rel="prefetch" href="/assets/js/235.a328b127.js"><link rel="prefetch" href="/assets/js/236.42419c3b.js"><link rel="prefetch" href="/assets/js/237.648ca44e.js"><link rel="prefetch" href="/assets/js/238.4b363b75.js"><link rel="prefetch" href="/assets/js/239.fe711a73.js"><link rel="prefetch" href="/assets/js/24.fe75e3fa.js"><link rel="prefetch" href="/assets/js/240.6baa12bf.js"><link rel="prefetch" href="/assets/js/241.6f375dc4.js"><link rel="prefetch" href="/assets/js/242.aee8e39d.js"><link rel="prefetch" href="/assets/js/243.bfc7f6e1.js"><link rel="prefetch" href="/assets/js/244.c73a14a7.js"><link rel="prefetch" href="/assets/js/245.a2352aa1.js"><link rel="prefetch" href="/assets/js/246.b12c3ae6.js"><link rel="prefetch" href="/assets/js/247.2f768275.js"><link rel="prefetch" href="/assets/js/248.3f79dfb1.js"><link rel="prefetch" href="/assets/js/249.7fd0cb75.js"><link rel="prefetch" href="/assets/js/25.f2e379df.js"><link rel="prefetch" href="/assets/js/250.df3f1d0a.js"><link rel="prefetch" href="/assets/js/251.a3865750.js"><link rel="prefetch" href="/assets/js/252.d62542df.js"><link rel="prefetch" href="/assets/js/253.59b2f200.js"><link rel="prefetch" href="/assets/js/254.522d17b5.js"><link rel="prefetch" href="/assets/js/255.0f95a196.js"><link rel="prefetch" href="/assets/js/256.31b37cbe.js"><link rel="prefetch" href="/assets/js/257.ff22ad12.js"><link rel="prefetch" href="/assets/js/258.15205e0b.js"><link rel="prefetch" href="/assets/js/259.f3b7c5aa.js"><link rel="prefetch" href="/assets/js/26.45264b04.js"><link rel="prefetch" href="/assets/js/260.fec3c7aa.js"><link rel="prefetch" href="/assets/js/261.d965ee56.js"><link rel="prefetch" href="/assets/js/262.76a7105b.js"><link rel="prefetch" href="/assets/js/263.e684cc46.js"><link rel="prefetch" href="/assets/js/264.59297da0.js"><link rel="prefetch" href="/assets/js/265.66182ed2.js"><link rel="prefetch" href="/assets/js/266.eec50d90.js"><link rel="prefetch" href="/assets/js/267.c85bce12.js"><link rel="prefetch" href="/assets/js/268.ef544f0c.js"><link rel="prefetch" href="/assets/js/269.8cfb5c6a.js"><link rel="prefetch" href="/assets/js/27.4e065810.js"><link rel="prefetch" href="/assets/js/270.b66cab3c.js"><link rel="prefetch" href="/assets/js/271.c1b7d136.js"><link rel="prefetch" href="/assets/js/272.0d7950c3.js"><link rel="prefetch" href="/assets/js/273.06349cca.js"><link rel="prefetch" href="/assets/js/274.9b442c09.js"><link rel="prefetch" href="/assets/js/275.11082d81.js"><link rel="prefetch" href="/assets/js/276.ce0abe31.js"><link rel="prefetch" href="/assets/js/277.4b7fcc53.js"><link rel="prefetch" href="/assets/js/278.129d0397.js"><link rel="prefetch" href="/assets/js/279.5c021f7c.js"><link rel="prefetch" href="/assets/js/28.126ecd33.js"><link rel="prefetch" href="/assets/js/280.d183c9e3.js"><link rel="prefetch" href="/assets/js/281.0df67750.js"><link rel="prefetch" href="/assets/js/282.8fdd2372.js"><link rel="prefetch" href="/assets/js/283.dae956df.js"><link rel="prefetch" href="/assets/js/284.c5dc7189.js"><link rel="prefetch" href="/assets/js/285.7f5a7367.js"><link rel="prefetch" href="/assets/js/286.d9bfcef5.js"><link rel="prefetch" href="/assets/js/287.4fa6a5c5.js"><link rel="prefetch" href="/assets/js/288.57904d2d.js"><link rel="prefetch" href="/assets/js/289.b96d7c2f.js"><link rel="prefetch" href="/assets/js/29.8f5db82a.js"><link rel="prefetch" href="/assets/js/290.8dda9646.js"><link rel="prefetch" href="/assets/js/291.ab433493.js"><link rel="prefetch" href="/assets/js/292.e2d59796.js"><link rel="prefetch" href="/assets/js/293.30f9fcc4.js"><link rel="prefetch" href="/assets/js/294.158492dc.js"><link rel="prefetch" href="/assets/js/295.33e3a53d.js"><link rel="prefetch" href="/assets/js/296.49d7a2de.js"><link rel="prefetch" href="/assets/js/297.1b7572ac.js"><link rel="prefetch" href="/assets/js/298.00e4586a.js"><link rel="prefetch" href="/assets/js/299.d8fb6ff9.js"><link rel="prefetch" href="/assets/js/30.ef97cb8e.js"><link rel="prefetch" href="/assets/js/300.90e9dadf.js"><link rel="prefetch" href="/assets/js/301.d5592ea1.js"><link rel="prefetch" href="/assets/js/302.b08dc1ea.js"><link rel="prefetch" href="/assets/js/303.bef541c8.js"><link rel="prefetch" href="/assets/js/304.be3f7081.js"><link rel="prefetch" href="/assets/js/305.13718421.js"><link rel="prefetch" href="/assets/js/306.41685aa2.js"><link rel="prefetch" href="/assets/js/307.6d569102.js"><link rel="prefetch" href="/assets/js/308.aaabab89.js"><link rel="prefetch" href="/assets/js/309.910ecc42.js"><link rel="prefetch" href="/assets/js/31.795b3334.js"><link rel="prefetch" href="/assets/js/310.104b7753.js"><link rel="prefetch" href="/assets/js/311.45f4a7da.js"><link rel="prefetch" href="/assets/js/312.180c7e45.js"><link rel="prefetch" href="/assets/js/313.87d3a801.js"><link rel="prefetch" href="/assets/js/314.7739b1ef.js"><link rel="prefetch" href="/assets/js/315.54a1fac0.js"><link rel="prefetch" href="/assets/js/316.a978a787.js"><link rel="prefetch" href="/assets/js/317.84f65f2c.js"><link rel="prefetch" href="/assets/js/318.7f8caff8.js"><link rel="prefetch" href="/assets/js/319.0b5276f3.js"><link rel="prefetch" href="/assets/js/32.e65c7229.js"><link rel="prefetch" href="/assets/js/320.ba90589a.js"><link rel="prefetch" href="/assets/js/321.b6810c5a.js"><link rel="prefetch" href="/assets/js/322.2eaa727d.js"><link rel="prefetch" href="/assets/js/323.17573ee3.js"><link rel="prefetch" href="/assets/js/324.806fd6ca.js"><link rel="prefetch" href="/assets/js/325.4cd65079.js"><link rel="prefetch" href="/assets/js/326.fe0e2e22.js"><link rel="prefetch" href="/assets/js/327.a64d0209.js"><link rel="prefetch" href="/assets/js/328.aca1c89a.js"><link rel="prefetch" href="/assets/js/329.53ccf1dd.js"><link rel="prefetch" href="/assets/js/33.9a57aab8.js"><link rel="prefetch" href="/assets/js/330.92822a09.js"><link rel="prefetch" href="/assets/js/331.6b82baff.js"><link rel="prefetch" href="/assets/js/332.fc20f585.js"><link rel="prefetch" href="/assets/js/333.005ba8e3.js"><link rel="prefetch" href="/assets/js/334.9d3309b8.js"><link rel="prefetch" href="/assets/js/335.0e938f19.js"><link rel="prefetch" href="/assets/js/336.01fe9903.js"><link rel="prefetch" href="/assets/js/337.e207d67c.js"><link rel="prefetch" href="/assets/js/338.bfcf6bc8.js"><link rel="prefetch" href="/assets/js/339.a502aa64.js"><link rel="prefetch" href="/assets/js/34.3835d35c.js"><link rel="prefetch" href="/assets/js/340.3888b147.js"><link rel="prefetch" href="/assets/js/341.20297f95.js"><link rel="prefetch" href="/assets/js/342.9cd149e9.js"><link rel="prefetch" href="/assets/js/343.faac8369.js"><link rel="prefetch" href="/assets/js/344.da8cd079.js"><link rel="prefetch" href="/assets/js/345.78303b88.js"><link rel="prefetch" href="/assets/js/346.d8eaca82.js"><link rel="prefetch" href="/assets/js/347.edd389a1.js"><link rel="prefetch" href="/assets/js/348.21ee9617.js"><link rel="prefetch" href="/assets/js/349.0251471a.js"><link rel="prefetch" href="/assets/js/35.76dc7096.js"><link rel="prefetch" href="/assets/js/350.710b7d30.js"><link rel="prefetch" href="/assets/js/351.535f8d60.js"><link rel="prefetch" href="/assets/js/352.c66fe42e.js"><link rel="prefetch" href="/assets/js/353.ebbcd333.js"><link rel="prefetch" href="/assets/js/354.7cbba2f1.js"><link rel="prefetch" href="/assets/js/355.0106db16.js"><link rel="prefetch" href="/assets/js/356.7debf350.js"><link rel="prefetch" href="/assets/js/357.a43eb887.js"><link rel="prefetch" href="/assets/js/358.28e5d2ed.js"><link rel="prefetch" href="/assets/js/359.956fc3b8.js"><link rel="prefetch" href="/assets/js/36.fc54452c.js"><link rel="prefetch" href="/assets/js/360.13fb600a.js"><link rel="prefetch" href="/assets/js/361.d100f85b.js"><link rel="prefetch" href="/assets/js/362.35277df2.js"><link rel="prefetch" href="/assets/js/363.d993a7fc.js"><link rel="prefetch" href="/assets/js/364.0168c2b0.js"><link rel="prefetch" href="/assets/js/365.bc8af0bb.js"><link rel="prefetch" href="/assets/js/366.2645dc0d.js"><link rel="prefetch" href="/assets/js/367.87368acb.js"><link rel="prefetch" href="/assets/js/368.0b7d41fc.js"><link rel="prefetch" href="/assets/js/369.4bf3f46e.js"><link rel="prefetch" href="/assets/js/37.5a47cee9.js"><link rel="prefetch" href="/assets/js/370.ea5f965e.js"><link rel="prefetch" href="/assets/js/371.1af764ef.js"><link rel="prefetch" href="/assets/js/372.bf6c68e2.js"><link rel="prefetch" href="/assets/js/373.1a605cc8.js"><link rel="prefetch" href="/assets/js/374.34a41a4a.js"><link rel="prefetch" href="/assets/js/375.1d2d3776.js"><link rel="prefetch" href="/assets/js/376.4b7b0b10.js"><link rel="prefetch" href="/assets/js/377.b3d9748a.js"><link rel="prefetch" href="/assets/js/378.7f00fa88.js"><link rel="prefetch" href="/assets/js/379.adcd298a.js"><link rel="prefetch" href="/assets/js/38.6614c565.js"><link rel="prefetch" href="/assets/js/380.6d08bb56.js"><link rel="prefetch" href="/assets/js/381.164bb4e3.js"><link rel="prefetch" href="/assets/js/382.f71f0ca4.js"><link rel="prefetch" href="/assets/js/383.01ba70ad.js"><link rel="prefetch" href="/assets/js/384.22b98cde.js"><link rel="prefetch" href="/assets/js/385.5f1298a9.js"><link rel="prefetch" href="/assets/js/386.01a912bc.js"><link rel="prefetch" href="/assets/js/387.3db4713f.js"><link rel="prefetch" href="/assets/js/388.4cde7d0f.js"><link rel="prefetch" href="/assets/js/389.d96bafad.js"><link rel="prefetch" href="/assets/js/39.1a09ed15.js"><link rel="prefetch" href="/assets/js/390.343bbc06.js"><link rel="prefetch" href="/assets/js/391.68b3e72a.js"><link rel="prefetch" href="/assets/js/392.f4f15e43.js"><link rel="prefetch" href="/assets/js/393.82475934.js"><link rel="prefetch" href="/assets/js/394.3101ea10.js"><link rel="prefetch" href="/assets/js/395.34083342.js"><link rel="prefetch" href="/assets/js/396.780d6efe.js"><link rel="prefetch" href="/assets/js/397.cb686f39.js"><link rel="prefetch" href="/assets/js/398.c4ad669f.js"><link rel="prefetch" href="/assets/js/399.ee8d28ad.js"><link rel="prefetch" href="/assets/js/40.4216f4f9.js"><link rel="prefetch" href="/assets/js/400.23d48a38.js"><link rel="prefetch" href="/assets/js/401.319d7a68.js"><link rel="prefetch" href="/assets/js/402.25b27bd0.js"><link rel="prefetch" href="/assets/js/403.9a898a40.js"><link rel="prefetch" href="/assets/js/404.e3b49b79.js"><link rel="prefetch" href="/assets/js/405.7695b9f1.js"><link rel="prefetch" href="/assets/js/406.edb801f7.js"><link rel="prefetch" href="/assets/js/407.03c3f725.js"><link rel="prefetch" href="/assets/js/408.4345ef1f.js"><link rel="prefetch" href="/assets/js/409.77c34447.js"><link rel="prefetch" href="/assets/js/41.f035663a.js"><link rel="prefetch" href="/assets/js/410.7f6c0744.js"><link rel="prefetch" href="/assets/js/411.cb19323e.js"><link rel="prefetch" href="/assets/js/412.4b16959d.js"><link rel="prefetch" href="/assets/js/413.ff4f1ca2.js"><link rel="prefetch" href="/assets/js/414.b1ca1298.js"><link rel="prefetch" href="/assets/js/415.c2111593.js"><link rel="prefetch" href="/assets/js/416.a6d18039.js"><link rel="prefetch" href="/assets/js/417.dc36c66d.js"><link rel="prefetch" href="/assets/js/418.e7eba879.js"><link rel="prefetch" href="/assets/js/419.57673b9e.js"><link rel="prefetch" href="/assets/js/42.9c8cf569.js"><link rel="prefetch" href="/assets/js/420.ccd41fe0.js"><link rel="prefetch" href="/assets/js/421.ea69f0b0.js"><link rel="prefetch" href="/assets/js/422.093448e2.js"><link rel="prefetch" href="/assets/js/423.ae003f31.js"><link rel="prefetch" href="/assets/js/424.f670cd2b.js"><link rel="prefetch" href="/assets/js/425.6e814335.js"><link rel="prefetch" href="/assets/js/426.faf45206.js"><link rel="prefetch" href="/assets/js/427.cf6be942.js"><link rel="prefetch" href="/assets/js/428.9ff6199c.js"><link rel="prefetch" href="/assets/js/429.b6ef4678.js"><link rel="prefetch" href="/assets/js/43.717fe06b.js"><link rel="prefetch" href="/assets/js/430.e9575d07.js"><link rel="prefetch" href="/assets/js/431.8bf26a3e.js"><link rel="prefetch" href="/assets/js/432.5eaa2162.js"><link rel="prefetch" href="/assets/js/433.6dab12a1.js"><link rel="prefetch" href="/assets/js/434.fca918e8.js"><link rel="prefetch" href="/assets/js/435.4c8f9ad9.js"><link rel="prefetch" href="/assets/js/436.0f0de1a8.js"><link rel="prefetch" href="/assets/js/437.2221ab9f.js"><link rel="prefetch" href="/assets/js/438.37f28cfb.js"><link rel="prefetch" href="/assets/js/439.1e3f3611.js"><link rel="prefetch" href="/assets/js/44.705dc411.js"><link rel="prefetch" href="/assets/js/440.28ab35e8.js"><link rel="prefetch" href="/assets/js/441.8d006af8.js"><link rel="prefetch" href="/assets/js/442.2618a6e3.js"><link rel="prefetch" href="/assets/js/443.a7723674.js"><link rel="prefetch" href="/assets/js/444.18f23e7c.js"><link rel="prefetch" href="/assets/js/445.f4807c5a.js"><link rel="prefetch" href="/assets/js/446.77a5afc2.js"><link rel="prefetch" href="/assets/js/447.7f653483.js"><link rel="prefetch" href="/assets/js/448.1143c566.js"><link rel="prefetch" href="/assets/js/449.b788a288.js"><link rel="prefetch" href="/assets/js/45.6a225373.js"><link rel="prefetch" href="/assets/js/450.b6463ba3.js"><link rel="prefetch" href="/assets/js/451.fd4d46b9.js"><link rel="prefetch" href="/assets/js/452.e8de4fc2.js"><link rel="prefetch" href="/assets/js/453.4125e5e6.js"><link rel="prefetch" href="/assets/js/454.30af5d0a.js"><link rel="prefetch" href="/assets/js/455.9c919e58.js"><link rel="prefetch" href="/assets/js/456.22dbfa8f.js"><link rel="prefetch" href="/assets/js/457.e9c5248a.js"><link rel="prefetch" href="/assets/js/458.c0a9cf1d.js"><link rel="prefetch" href="/assets/js/459.b5e96042.js"><link rel="prefetch" href="/assets/js/46.515d085a.js"><link rel="prefetch" href="/assets/js/460.b4097efb.js"><link rel="prefetch" href="/assets/js/461.5d545741.js"><link rel="prefetch" href="/assets/js/462.402d4cdd.js"><link rel="prefetch" href="/assets/js/463.e6d6ea07.js"><link rel="prefetch" href="/assets/js/464.df817445.js"><link rel="prefetch" href="/assets/js/465.18a6bc2b.js"><link rel="prefetch" href="/assets/js/466.da313c0c.js"><link rel="prefetch" href="/assets/js/467.41294182.js"><link rel="prefetch" href="/assets/js/468.41c59467.js"><link rel="prefetch" href="/assets/js/469.d55da13c.js"><link rel="prefetch" href="/assets/js/47.a41193df.js"><link rel="prefetch" href="/assets/js/470.7457a92e.js"><link rel="prefetch" href="/assets/js/471.ed739bdf.js"><link rel="prefetch" href="/assets/js/472.83882459.js"><link rel="prefetch" href="/assets/js/473.fe2df51c.js"><link rel="prefetch" href="/assets/js/474.d40797b8.js"><link rel="prefetch" href="/assets/js/475.a00992a2.js"><link rel="prefetch" href="/assets/js/476.c7687189.js"><link rel="prefetch" href="/assets/js/477.fd4fd227.js"><link rel="prefetch" href="/assets/js/478.1ae08c3b.js"><link rel="prefetch" href="/assets/js/479.04a246c6.js"><link rel="prefetch" href="/assets/js/48.fe693306.js"><link rel="prefetch" href="/assets/js/480.36acb4ff.js"><link rel="prefetch" href="/assets/js/481.05d3129e.js"><link rel="prefetch" href="/assets/js/482.1741a02c.js"><link rel="prefetch" href="/assets/js/483.44cf2d25.js"><link rel="prefetch" href="/assets/js/484.9c14e5c6.js"><link rel="prefetch" href="/assets/js/485.ea0c1de1.js"><link rel="prefetch" href="/assets/js/486.8c683697.js"><link rel="prefetch" href="/assets/js/487.8b1eb604.js"><link rel="prefetch" href="/assets/js/488.ae16fca6.js"><link rel="prefetch" href="/assets/js/489.7f674a0d.js"><link rel="prefetch" href="/assets/js/49.a7d05a3d.js"><link rel="prefetch" href="/assets/js/490.52983854.js"><link rel="prefetch" href="/assets/js/491.968e7af4.js"><link rel="prefetch" href="/assets/js/492.e7f58bac.js"><link rel="prefetch" href="/assets/js/493.55afbb68.js"><link rel="prefetch" href="/assets/js/494.ac17d05b.js"><link rel="prefetch" href="/assets/js/495.d1ca2a12.js"><link rel="prefetch" href="/assets/js/496.d6841a0e.js"><link rel="prefetch" href="/assets/js/497.99431b4b.js"><link rel="prefetch" href="/assets/js/498.cacac1d8.js"><link rel="prefetch" href="/assets/js/499.c6b7fab0.js"><link rel="prefetch" href="/assets/js/5.f74a04c4.js"><link rel="prefetch" href="/assets/js/50.f59b29ea.js"><link rel="prefetch" href="/assets/js/500.abba24c7.js"><link rel="prefetch" href="/assets/js/501.e9496674.js"><link rel="prefetch" href="/assets/js/502.3ece0e86.js"><link rel="prefetch" href="/assets/js/503.974421d1.js"><link rel="prefetch" href="/assets/js/504.6e8d8539.js"><link rel="prefetch" href="/assets/js/505.b8161483.js"><link rel="prefetch" href="/assets/js/506.a6a6f2de.js"><link rel="prefetch" href="/assets/js/507.9c6955ee.js"><link rel="prefetch" href="/assets/js/508.223e145d.js"><link rel="prefetch" href="/assets/js/509.553e6f2c.js"><link rel="prefetch" href="/assets/js/51.428c5495.js"><link rel="prefetch" href="/assets/js/510.46e2eab7.js"><link rel="prefetch" href="/assets/js/511.24962b3f.js"><link rel="prefetch" href="/assets/js/512.a29fe236.js"><link rel="prefetch" href="/assets/js/513.8729b339.js"><link rel="prefetch" href="/assets/js/514.41199019.js"><link rel="prefetch" href="/assets/js/515.b1a71e99.js"><link rel="prefetch" href="/assets/js/516.001e3634.js"><link rel="prefetch" href="/assets/js/517.4de05581.js"><link rel="prefetch" href="/assets/js/518.57697c31.js"><link rel="prefetch" href="/assets/js/519.e962365e.js"><link rel="prefetch" href="/assets/js/52.c97c3911.js"><link rel="prefetch" href="/assets/js/520.e7775961.js"><link rel="prefetch" href="/assets/js/521.05b0ce57.js"><link rel="prefetch" href="/assets/js/522.49f7412e.js"><link rel="prefetch" href="/assets/js/523.b3d821b2.js"><link rel="prefetch" href="/assets/js/524.ab2395b7.js"><link rel="prefetch" href="/assets/js/525.25559bb4.js"><link rel="prefetch" href="/assets/js/526.23111d2a.js"><link rel="prefetch" href="/assets/js/527.c61f6e86.js"><link rel="prefetch" href="/assets/js/528.032fa7b6.js"><link rel="prefetch" href="/assets/js/529.3953f346.js"><link rel="prefetch" href="/assets/js/53.77f22b1a.js"><link rel="prefetch" href="/assets/js/530.b882066e.js"><link rel="prefetch" href="/assets/js/531.62dddf23.js"><link rel="prefetch" href="/assets/js/532.1826fe1a.js"><link rel="prefetch" href="/assets/js/533.a2e014bb.js"><link rel="prefetch" href="/assets/js/534.d5d89c00.js"><link rel="prefetch" href="/assets/js/535.4e5d7739.js"><link rel="prefetch" href="/assets/js/536.f2c700db.js"><link rel="prefetch" href="/assets/js/537.80aa278c.js"><link rel="prefetch" href="/assets/js/538.95e2f471.js"><link rel="prefetch" href="/assets/js/539.4e4ecfe8.js"><link rel="prefetch" href="/assets/js/54.d85b2f2e.js"><link rel="prefetch" href="/assets/js/540.00bd44e5.js"><link rel="prefetch" href="/assets/js/541.d740df14.js"><link rel="prefetch" href="/assets/js/542.5aadeaee.js"><link rel="prefetch" href="/assets/js/543.d42c9d9a.js"><link rel="prefetch" href="/assets/js/544.29704685.js"><link rel="prefetch" href="/assets/js/545.7fdb1a83.js"><link rel="prefetch" href="/assets/js/546.6b5655ea.js"><link rel="prefetch" href="/assets/js/547.c98e27c4.js"><link rel="prefetch" href="/assets/js/548.8edec06f.js"><link rel="prefetch" href="/assets/js/549.33b8eae3.js"><link rel="prefetch" href="/assets/js/55.80a4fa71.js"><link rel="prefetch" href="/assets/js/550.cb706b0e.js"><link rel="prefetch" href="/assets/js/551.79598cc6.js"><link rel="prefetch" href="/assets/js/552.69aa5f8b.js"><link rel="prefetch" href="/assets/js/553.7ccb8831.js"><link rel="prefetch" href="/assets/js/554.954013b2.js"><link rel="prefetch" href="/assets/js/555.960d7f8b.js"><link rel="prefetch" href="/assets/js/556.5c054c14.js"><link rel="prefetch" href="/assets/js/557.890045ea.js"><link rel="prefetch" href="/assets/js/558.f72f6668.js"><link rel="prefetch" href="/assets/js/559.452d8ff3.js"><link rel="prefetch" href="/assets/js/56.009b0340.js"><link rel="prefetch" href="/assets/js/560.1656e33f.js"><link rel="prefetch" href="/assets/js/561.bb4650eb.js"><link rel="prefetch" href="/assets/js/562.7322fd81.js"><link rel="prefetch" href="/assets/js/563.a34a68ea.js"><link rel="prefetch" href="/assets/js/564.6da92e18.js"><link rel="prefetch" href="/assets/js/565.01d288e5.js"><link rel="prefetch" href="/assets/js/566.6a3459a1.js"><link rel="prefetch" href="/assets/js/567.e3eb8e54.js"><link rel="prefetch" href="/assets/js/568.f95e0fba.js"><link rel="prefetch" href="/assets/js/569.a42d134c.js"><link rel="prefetch" href="/assets/js/57.25e8dd1c.js"><link rel="prefetch" href="/assets/js/570.87887d15.js"><link rel="prefetch" href="/assets/js/571.ce4b478b.js"><link rel="prefetch" href="/assets/js/572.634418a6.js"><link rel="prefetch" href="/assets/js/573.cd4cf02b.js"><link rel="prefetch" href="/assets/js/574.8bf073fa.js"><link rel="prefetch" href="/assets/js/575.c194dddb.js"><link rel="prefetch" href="/assets/js/576.7750193f.js"><link rel="prefetch" href="/assets/js/577.5daa388a.js"><link rel="prefetch" href="/assets/js/578.54bb0029.js"><link rel="prefetch" href="/assets/js/579.92f58c76.js"><link rel="prefetch" href="/assets/js/58.9c1eb9e5.js"><link rel="prefetch" href="/assets/js/580.0e543efb.js"><link rel="prefetch" href="/assets/js/581.4e0b0b47.js"><link rel="prefetch" href="/assets/js/582.8c172f83.js"><link rel="prefetch" href="/assets/js/583.c91c43e0.js"><link rel="prefetch" href="/assets/js/584.ca68d52b.js"><link rel="prefetch" href="/assets/js/585.663b17d3.js"><link rel="prefetch" href="/assets/js/586.9494847d.js"><link rel="prefetch" href="/assets/js/587.f3805773.js"><link rel="prefetch" href="/assets/js/588.8ae14be1.js"><link rel="prefetch" href="/assets/js/589.b4af88be.js"><link rel="prefetch" href="/assets/js/59.2a730e41.js"><link rel="prefetch" href="/assets/js/590.fb77fea8.js"><link rel="prefetch" href="/assets/js/591.a3aaa57c.js"><link rel="prefetch" href="/assets/js/592.54ec5f32.js"><link rel="prefetch" href="/assets/js/593.96eab5cb.js"><link rel="prefetch" href="/assets/js/594.e356725c.js"><link rel="prefetch" href="/assets/js/595.0a2c4ad4.js"><link rel="prefetch" href="/assets/js/596.2c075cd8.js"><link rel="prefetch" href="/assets/js/597.e904811b.js"><link rel="prefetch" href="/assets/js/598.f6ca8b71.js"><link rel="prefetch" href="/assets/js/599.ae3d12c4.js"><link rel="prefetch" href="/assets/js/6.451e012f.js"><link rel="prefetch" href="/assets/js/60.e6b60343.js"><link rel="prefetch" href="/assets/js/600.e71a0062.js"><link rel="prefetch" href="/assets/js/601.2571a19d.js"><link rel="prefetch" href="/assets/js/602.0f4fa961.js"><link rel="prefetch" href="/assets/js/603.d8387c37.js"><link rel="prefetch" href="/assets/js/604.69433906.js"><link rel="prefetch" href="/assets/js/605.1bc7d87a.js"><link rel="prefetch" href="/assets/js/606.ec419517.js"><link rel="prefetch" href="/assets/js/607.b473fb0b.js"><link rel="prefetch" href="/assets/js/608.a361b48c.js"><link rel="prefetch" href="/assets/js/609.9186f226.js"><link rel="prefetch" href="/assets/js/61.d50a156d.js"><link rel="prefetch" href="/assets/js/610.ff3cf241.js"><link rel="prefetch" href="/assets/js/611.c3c7e648.js"><link rel="prefetch" href="/assets/js/612.2a520ebd.js"><link rel="prefetch" href="/assets/js/613.42936ffc.js"><link rel="prefetch" href="/assets/js/614.3ca0de21.js"><link rel="prefetch" href="/assets/js/615.ecf60a47.js"><link rel="prefetch" href="/assets/js/616.17185e83.js"><link rel="prefetch" href="/assets/js/617.769d4cdf.js"><link rel="prefetch" href="/assets/js/618.015c6376.js"><link rel="prefetch" href="/assets/js/619.3af186d0.js"><link rel="prefetch" href="/assets/js/62.e24b7811.js"><link rel="prefetch" href="/assets/js/620.f8ff3784.js"><link rel="prefetch" href="/assets/js/621.4c21311f.js"><link rel="prefetch" href="/assets/js/622.355178df.js"><link rel="prefetch" href="/assets/js/623.45a30695.js"><link rel="prefetch" href="/assets/js/624.61e89d34.js"><link rel="prefetch" href="/assets/js/625.49e0d1ce.js"><link rel="prefetch" href="/assets/js/626.1b7ae767.js"><link rel="prefetch" href="/assets/js/627.b8c507cf.js"><link rel="prefetch" href="/assets/js/628.c5a43517.js"><link rel="prefetch" href="/assets/js/629.274eb0fd.js"><link rel="prefetch" href="/assets/js/63.b804baab.js"><link rel="prefetch" href="/assets/js/630.69e055ce.js"><link rel="prefetch" href="/assets/js/631.0892fc51.js"><link rel="prefetch" href="/assets/js/632.6a68e9a2.js"><link rel="prefetch" href="/assets/js/633.d536fe74.js"><link rel="prefetch" href="/assets/js/634.24695f39.js"><link rel="prefetch" href="/assets/js/635.3aeede9c.js"><link rel="prefetch" href="/assets/js/636.3628d8a6.js"><link rel="prefetch" href="/assets/js/637.40af5a79.js"><link rel="prefetch" href="/assets/js/638.15e257ae.js"><link rel="prefetch" href="/assets/js/639.31e6597c.js"><link rel="prefetch" href="/assets/js/64.eb5699ff.js"><link rel="prefetch" href="/assets/js/640.a071f6df.js"><link rel="prefetch" href="/assets/js/641.f9edd7bf.js"><link rel="prefetch" href="/assets/js/642.adcb583f.js"><link rel="prefetch" href="/assets/js/643.7c98a990.js"><link rel="prefetch" href="/assets/js/644.fb1213d8.js"><link rel="prefetch" href="/assets/js/645.220a5034.js"><link rel="prefetch" href="/assets/js/646.d66a419b.js"><link rel="prefetch" href="/assets/js/647.12ef89ab.js"><link rel="prefetch" href="/assets/js/648.a3112300.js"><link rel="prefetch" href="/assets/js/649.f457dfa5.js"><link rel="prefetch" href="/assets/js/65.0d8501b5.js"><link rel="prefetch" href="/assets/js/650.cc63d03b.js"><link rel="prefetch" href="/assets/js/651.16d1bbd6.js"><link rel="prefetch" href="/assets/js/652.0f5343f0.js"><link rel="prefetch" href="/assets/js/653.28f7710a.js"><link rel="prefetch" href="/assets/js/654.b343d473.js"><link rel="prefetch" href="/assets/js/655.215fe67b.js"><link rel="prefetch" href="/assets/js/656.79aa1653.js"><link rel="prefetch" href="/assets/js/657.c57f2b5c.js"><link rel="prefetch" href="/assets/js/658.d0aa0b95.js"><link rel="prefetch" href="/assets/js/659.2dfaed93.js"><link rel="prefetch" href="/assets/js/66.8361cc16.js"><link rel="prefetch" href="/assets/js/660.c00b347e.js"><link rel="prefetch" href="/assets/js/661.ecc4f968.js"><link rel="prefetch" href="/assets/js/662.06f83919.js"><link rel="prefetch" href="/assets/js/663.67d8849e.js"><link rel="prefetch" href="/assets/js/664.74dba1a9.js"><link rel="prefetch" href="/assets/js/665.28b450f0.js"><link rel="prefetch" href="/assets/js/666.0f4bb6ba.js"><link rel="prefetch" href="/assets/js/667.586074e3.js"><link rel="prefetch" href="/assets/js/668.b13c0e70.js"><link rel="prefetch" href="/assets/js/669.9d0d4cbc.js"><link rel="prefetch" href="/assets/js/67.37f46ba2.js"><link rel="prefetch" href="/assets/js/670.6b36ca72.js"><link rel="prefetch" href="/assets/js/671.33b2e754.js"><link rel="prefetch" href="/assets/js/672.3b02c287.js"><link rel="prefetch" href="/assets/js/673.3f274929.js"><link rel="prefetch" href="/assets/js/674.7d75584f.js"><link rel="prefetch" href="/assets/js/675.0de52334.js"><link rel="prefetch" href="/assets/js/676.6734133e.js"><link rel="prefetch" href="/assets/js/677.c6f4a973.js"><link rel="prefetch" href="/assets/js/678.1344b6be.js"><link rel="prefetch" href="/assets/js/679.23fed56f.js"><link rel="prefetch" href="/assets/js/68.27dbce5b.js"><link rel="prefetch" href="/assets/js/680.c49329d6.js"><link rel="prefetch" href="/assets/js/681.8df66615.js"><link rel="prefetch" href="/assets/js/682.77b4bff8.js"><link rel="prefetch" href="/assets/js/683.6cf41cf4.js"><link rel="prefetch" href="/assets/js/684.58deecd5.js"><link rel="prefetch" href="/assets/js/685.d2f7480e.js"><link rel="prefetch" href="/assets/js/686.0b77a241.js"><link rel="prefetch" href="/assets/js/687.2cc04b4f.js"><link rel="prefetch" href="/assets/js/688.da24cbae.js"><link rel="prefetch" href="/assets/js/689.a9961f74.js"><link rel="prefetch" href="/assets/js/69.8052a977.js"><link rel="prefetch" href="/assets/js/690.cb736269.js"><link rel="prefetch" href="/assets/js/691.21c13be1.js"><link rel="prefetch" href="/assets/js/692.3ed557d0.js"><link rel="prefetch" href="/assets/js/693.066efe93.js"><link rel="prefetch" href="/assets/js/694.5368f98a.js"><link rel="prefetch" href="/assets/js/695.4fdb93d5.js"><link rel="prefetch" href="/assets/js/696.9c055ac6.js"><link rel="prefetch" href="/assets/js/697.51e0c47c.js"><link rel="prefetch" href="/assets/js/698.08ca1dbd.js"><link rel="prefetch" href="/assets/js/699.ce7e9e2a.js"><link rel="prefetch" href="/assets/js/7.7e21c947.js"><link rel="prefetch" href="/assets/js/70.19faeb78.js"><link rel="prefetch" href="/assets/js/700.3676fa7f.js"><link rel="prefetch" href="/assets/js/701.82db4887.js"><link rel="prefetch" href="/assets/js/702.73425f22.js"><link rel="prefetch" href="/assets/js/703.d9391c74.js"><link rel="prefetch" href="/assets/js/704.d6e275cf.js"><link rel="prefetch" href="/assets/js/705.d2f23969.js"><link rel="prefetch" href="/assets/js/706.1c66dcc1.js"><link rel="prefetch" href="/assets/js/707.0fc5a26a.js"><link rel="prefetch" href="/assets/js/708.97471ee6.js"><link rel="prefetch" href="/assets/js/709.9b4d5665.js"><link rel="prefetch" href="/assets/js/71.d1683810.js"><link rel="prefetch" href="/assets/js/710.75fa8103.js"><link rel="prefetch" href="/assets/js/711.43777b40.js"><link rel="prefetch" href="/assets/js/712.5c583e39.js"><link rel="prefetch" href="/assets/js/713.5aa72111.js"><link rel="prefetch" href="/assets/js/714.e8215702.js"><link rel="prefetch" href="/assets/js/715.46614e7c.js"><link rel="prefetch" href="/assets/js/716.eaac6d69.js"><link rel="prefetch" href="/assets/js/717.c344c042.js"><link rel="prefetch" href="/assets/js/718.437bf0b2.js"><link rel="prefetch" href="/assets/js/719.23aa3deb.js"><link rel="prefetch" href="/assets/js/72.9fa783f0.js"><link rel="prefetch" href="/assets/js/720.9456a449.js"><link rel="prefetch" href="/assets/js/721.67fd324a.js"><link rel="prefetch" href="/assets/js/722.fc5e79ca.js"><link rel="prefetch" href="/assets/js/723.46db8115.js"><link rel="prefetch" href="/assets/js/724.31a11b8c.js"><link rel="prefetch" href="/assets/js/725.49cef603.js"><link rel="prefetch" href="/assets/js/726.7d0a2e7f.js"><link rel="prefetch" href="/assets/js/727.a1de6f02.js"><link rel="prefetch" href="/assets/js/728.7e0a727e.js"><link rel="prefetch" href="/assets/js/729.b6bf04fa.js"><link rel="prefetch" href="/assets/js/73.1ac0ac37.js"><link rel="prefetch" href="/assets/js/730.1c102528.js"><link rel="prefetch" href="/assets/js/731.80403e3d.js"><link rel="prefetch" href="/assets/js/732.cf8b4a6d.js"><link rel="prefetch" href="/assets/js/733.aab88d38.js"><link rel="prefetch" href="/assets/js/734.965a0adc.js"><link rel="prefetch" href="/assets/js/735.f9d33608.js"><link rel="prefetch" href="/assets/js/736.d1621f9e.js"><link rel="prefetch" href="/assets/js/737.a12ea0d3.js"><link rel="prefetch" href="/assets/js/738.96e61512.js"><link rel="prefetch" href="/assets/js/739.9bce4dfe.js"><link rel="prefetch" href="/assets/js/74.1913daec.js"><link rel="prefetch" href="/assets/js/740.c1a0bf7b.js"><link rel="prefetch" href="/assets/js/741.0185115e.js"><link rel="prefetch" href="/assets/js/742.21e99d78.js"><link rel="prefetch" href="/assets/js/743.e5f2407e.js"><link rel="prefetch" href="/assets/js/744.53d4e25a.js"><link rel="prefetch" href="/assets/js/745.9fb6722c.js"><link rel="prefetch" href="/assets/js/746.893e3a2f.js"><link rel="prefetch" href="/assets/js/747.ad94fed4.js"><link rel="prefetch" href="/assets/js/748.3421b09b.js"><link rel="prefetch" href="/assets/js/749.15c364e9.js"><link rel="prefetch" href="/assets/js/75.d63a9540.js"><link rel="prefetch" href="/assets/js/750.4e5379b7.js"><link rel="prefetch" href="/assets/js/751.18b0273f.js"><link rel="prefetch" href="/assets/js/752.24717596.js"><link rel="prefetch" href="/assets/js/753.5868bcc4.js"><link rel="prefetch" href="/assets/js/754.77808a6c.js"><link rel="prefetch" href="/assets/js/755.af7f7a71.js"><link rel="prefetch" href="/assets/js/76.342d837c.js"><link rel="prefetch" href="/assets/js/77.466349c3.js"><link rel="prefetch" href="/assets/js/78.886d05b6.js"><link rel="prefetch" href="/assets/js/79.b478bdab.js"><link rel="prefetch" href="/assets/js/8.9f40767d.js"><link rel="prefetch" href="/assets/js/80.9205cc43.js"><link rel="prefetch" href="/assets/js/81.77f831c9.js"><link rel="prefetch" href="/assets/js/82.650475d1.js"><link rel="prefetch" href="/assets/js/83.aa7e3d4b.js"><link rel="prefetch" href="/assets/js/84.2fc92fb4.js"><link rel="prefetch" href="/assets/js/85.0f633e10.js"><link rel="prefetch" href="/assets/js/86.e862f4bc.js"><link rel="prefetch" href="/assets/js/87.8a869468.js"><link rel="prefetch" href="/assets/js/88.6c584051.js"><link rel="prefetch" href="/assets/js/89.3ab84e02.js"><link rel="prefetch" href="/assets/js/9.7ed864ce.js"><link rel="prefetch" href="/assets/js/90.41e6925d.js"><link rel="prefetch" href="/assets/js/91.55055993.js"><link rel="prefetch" href="/assets/js/92.ced7b439.js"><link rel="prefetch" href="/assets/js/93.41cc8a7f.js"><link rel="prefetch" href="/assets/js/94.6d2b144f.js"><link rel="prefetch" href="/assets/js/95.399a7909.js"><link rel="prefetch" href="/assets/js/96.556f8f9f.js"><link rel="prefetch" href="/assets/js/97.47ecdf46.js"><link rel="prefetch" href="/assets/js/98.fdbe6822.js"><link rel="prefetch" href="/assets/js/99.db8442e4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ece31e0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Fanx 知识库" class="logo"> <span class="site-name can-hide">Fanx 知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/779590/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/pages/dc7834/" class="nav-link">Java集合框架</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d7db/" class="nav-link">Java多线程并发</a></li><li class="dropdown-item"><!----> <a href="/pages/dbec4d/" class="nav-link">JavaIo&amp;NIO&amp;AIO</a></li><li class="dropdown-item"><!----> <a href="/pages/b908ce/" class="nav-link">JDK相关特性</a></li><li class="dropdown-item"><!----> <a href="/pages/e59bea/" class="nav-link">JVM相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f8c059/" class="nav-link">数据库基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/d192fd/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/8aa877/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/077e7c/" class="nav-link">MogoDb</a></li><li class="dropdown-item"><!----> <a href="/pages/68281b/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/commonFrameworks/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/8f6500/" class="nav-link">Spring Framework 5基础</a></li><li class="dropdown-item"><!----> <a href="/pages/7c08d4/" class="nav-link">SpringBoot 2.5.x系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源代码学习" class="dropdown-title"><!----> <span class="title" style="display:;">源代码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/23a632/" class="nav-link">mybatis源码学习</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/java/" class="nav-link">java源代码</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/spring/" class="nav-link">Spring源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><!----> <span class="title" style="display:;">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2cef48/" class="nav-link">Java 基础</a></li><li class="dropdown-item"><!----> <a href="/pages/ad2692/" class="nav-link">Spring 框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用的技术工具" class="dropdown-title"><!----> <span class="title" style="display:;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/linux/common/" class="nav-link">linux常用命令实践</a></li><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">Mavan</a></li><li class="dropdown-item"><!----> <a href="/pages/b25802/" class="nav-link">开发工具详解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它语言" class="dropdown-title"><!----> <span class="title" style="display:;">其它语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fc414d/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题总结" class="dropdown-title"><!----> <span class="title" style="display:;">问题总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/question/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/4d0fa7/" class="nav-link">团队相关</a></li><li class="dropdown-item"><!----> <a href="/pages/75c3d7/" class="nav-link">fanx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/caf303/" class="nav-link">数据结构基础</a></li><li class="dropdown-item"><!----> <a href="/pages/395e23/" class="nav-link">常见排序算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fa3dd3/" class="nav-link">算法思想</a></li><li class="dropdown-item"><!----> <a href="/pages/79d342/" class="nav-link">一些领域算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fdb54d/" class="nav-link">其它算法相关</a></li></ul></div></div> <a href="https://fanxgit.github.io/fanxNotes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/779590/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/pages/dc7834/" class="nav-link">Java集合框架</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d7db/" class="nav-link">Java多线程并发</a></li><li class="dropdown-item"><!----> <a href="/pages/dbec4d/" class="nav-link">JavaIo&amp;NIO&amp;AIO</a></li><li class="dropdown-item"><!----> <a href="/pages/b908ce/" class="nav-link">JDK相关特性</a></li><li class="dropdown-item"><!----> <a href="/pages/e59bea/" class="nav-link">JVM相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f8c059/" class="nav-link">数据库基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/d192fd/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/8aa877/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/077e7c/" class="nav-link">MogoDb</a></li><li class="dropdown-item"><!----> <a href="/pages/68281b/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/commonFrameworks/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/8f6500/" class="nav-link">Spring Framework 5基础</a></li><li class="dropdown-item"><!----> <a href="/pages/7c08d4/" class="nav-link">SpringBoot 2.5.x系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源代码学习" class="dropdown-title"><!----> <span class="title" style="display:;">源代码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/23a632/" class="nav-link">mybatis源码学习</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/java/" class="nav-link">java源代码</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/spring/" class="nav-link">Spring源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><!----> <span class="title" style="display:;">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2cef48/" class="nav-link">Java 基础</a></li><li class="dropdown-item"><!----> <a href="/pages/ad2692/" class="nav-link">Spring 框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用的技术工具" class="dropdown-title"><!----> <span class="title" style="display:;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/linux/common/" class="nav-link">linux常用命令实践</a></li><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">Mavan</a></li><li class="dropdown-item"><!----> <a href="/pages/b25802/" class="nav-link">开发工具详解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它语言" class="dropdown-title"><!----> <span class="title" style="display:;">其它语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fc414d/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题总结" class="dropdown-title"><!----> <span class="title" style="display:;">问题总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/question/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/4d0fa7/" class="nav-link">团队相关</a></li><li class="dropdown-item"><!----> <a href="/pages/75c3d7/" class="nav-link">fanx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/caf303/" class="nav-link">数据结构基础</a></li><li class="dropdown-item"><!----> <a href="/pages/395e23/" class="nav-link">常见排序算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fa3dd3/" class="nav-link">算法思想</a></li><li class="dropdown-item"><!----> <a href="/pages/79d342/" class="nav-link">一些领域算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fdb54d/" class="nav-link">其它算法相关</a></li></ul></div></div> <a href="https://fanxgit.github.io/fanxNotes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库基础和原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL 语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL - MySQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSQL - Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSQL - MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>NoSQL - ElasticSearch</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/68281b/" class="sidebar-link">♥ElasticSearch知识体系详解♥</a></li><li><a href="/pages/0f4ae1/" class="sidebar-link">ES详解 - 认知-ElasticSearch基础概念</a></li><li><a href="/pages/34773d/" class="sidebar-link">ES详解 - 认知-Elastic Stack生态和场景方案</a></li><li><a href="/pages/26395b/" class="sidebar-link">ES详解 - 安装-ElasticSearch和Kibana安装</a></li><li><a href="/pages/1a2c2d/" class="sidebar-link">ES详解 - 入门-查询和聚合的基础使用</a></li><li><a href="/pages/8619f4/" class="sidebar-link">ES详解 - 索引-索引管理详解</a></li><li><a href="/pages/f5722e/" class="sidebar-link">ES详解 - 索引-索引模板(Index Template)详解</a></li><li><a href="/pages/22600b/" class="sidebar-link">ES详解 - 查询-DSL查询之复合查询详解</a></li><li><a href="/pages/ca6096/" class="sidebar-link">ES详解 - 查询-DSL查询之全文搜索详解</a></li><li><a href="/pages/be5113/" class="sidebar-link">ES详解 - 查询-DSL查询之Term详解</a></li><li><a href="/pages/cd972b/" class="sidebar-link">ES详解 - 聚合-聚合查询之Bucket聚合详解</a></li><li><a href="/pages/e56aa6/" class="sidebar-link">ES详解 - 聚合-聚合查询之Metric聚合详解</a></li><li><a href="/pages/af13d0/" class="sidebar-link">ES详解 - 聚合-聚合查询之Pipline聚合详解</a></li><li><a href="/pages/23c4ab/" aria-current="page" class="active sidebar-link">ES详解 - 原理-从图解构筑对ES原理的初步认知</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/3f7859/" class="sidebar-link">ES详解 - 原理-ES原理知识点补充和整体结构</a></li><li><a href="/pages/ecc207/" class="sidebar-link">ES详解 - 原理-ES原理之索引文档流程详解</a></li><li><a href="/pages/a75ec4/" class="sidebar-link">ES详解 - 原理-ES原理之读取文档流程详解</a></li><li><a href="/pages/eaf4de/" class="sidebar-link">ES详解 - 优化-ElasticSearch性能优化详解</a></li><li><a href="/pages/ea48fb/" class="sidebar-link">大厂实践 - 哈啰-记录一次ElasticSearch的查询性能优化</a></li><li><a href="/pages/da50d6/" class="sidebar-link">大厂实践 - 腾讯-腾讯万亿级 Elasticsearch 技术实践</a></li><li><a href="/pages/05fe86/" class="sidebar-link">大厂实践 - 美团-美团外卖搜索基于Elasticsearch的优化实践</a></li><li><a href="/pages/bf681e/" class="sidebar-link">ES详解 - 资料-Awesome Elasticsearch</a></li><li><a href="/pages/eae483/" class="sidebar-link">ElasticSearch - WrapperQuery</a></li><li><a href="/pages/f3a293/" class="sidebar-link">ElasticSearch - 备份和迁移</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=database" title="分类" data-v-06225672>database</a></li><li data-v-06225672><a href="/categories/?category=NoSQL%20-%20ElasticSearch" title="分类" data-v-06225672>NoSQL - ElasticSearch</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/FanXGit" target="_blank" title="作者" class="beLink" data-v-06225672>fanx</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-08-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">ES详解 - 原理-从图解构筑对ES原理的初步认知<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="es详解-原理-从图解构筑对es原理的初步认知"><a href="#es详解-原理-从图解构筑对es原理的初步认知" class="header-anchor">#</a> ES详解 - 原理：从图解构筑对ES原理的初步认知</h1> <p>=======================================================</p> <blockquote><p>在学习ElasticSearch原理时，我推荐你先通过官方博客中的一篇图解文章(虽然是基于2.x版本）来构筑对ES的初步认知（这种认识是体系上的快速认知）。@pdai</p></blockquote> <ul><li><a href="#es%E8%AF%A6%E8%A7%A3---%E5%8E%9F%E7%90%86%E4%BB%8E%E5%9B%BE%E8%A7%A3%E6%9E%84%E7%AD%91%E5%AF%B9es%E5%8E%9F%E7%90%86%E7%9A%84%E5%88%9D%E6%AD%A5%E8%AE%A4%E7%9F%A5">ES详解 - 原理：从图解构筑对ES原理的初步认知</a> <ul><li><a href="#%E5%89%8D%E8%A8%80">前言</a></li> <li><a href="#%E5%9B%BE%E8%A7%A3elasticsearch">图解ElasticSearch</a></li> <li><a href="#%E5%9B%BE%E8%A7%A3lucene">图解Lucene</a> <ul><li><a href="#segment">Segment</a> <ul><li><a href="#inverted-index">Inverted Index</a></li> <li><a href="#stored-field%E5%AD%97%E6%AE%B5%E6%9F%A5%E6%89%BE">Stored Field字段查找</a></li> <li><a href="#document-values%E4%B8%BA%E4%BA%86%E6%8E%92%E5%BA%8F%E8%81%9A%E5%90%88">Document Values为了排序，聚合</a></li></ul></li> <li><a href="#%E6%90%9C%E7%B4%A2%E5%8F%91%E7%94%9F%E6%97%B6">搜索发生时</a></li> <li><a href="#%E7%BC%93%E5%AD%98%E7%9A%84%E6%95%85%E4%BA%8B">缓存的故事</a></li> <li><a href="#%E5%9C%A8shard%E4%B8%AD%E6%90%9C%E7%B4%A2">在Shard中搜索</a></li></ul></li> <li><a href="#%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E7%9A%84%E8%AF%B7%E6%B1%82">一个真实的请求</a></li> <li><a href="#%E5%8F%82%E8%80%83%E6%9D%A5%E6%BA%90">参考来源</a></li></ul></li></ul> <h1 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h1> <hr> <p>本文先自上而下，后自底向上的介绍ElasticSearch的底层工作原理，试图回答以下问题：</p> <ul><li><p>为什么我的搜索 <code>*foo-bar*</code> 无法匹配 <code>foo-bar</code> ？</p></li> <li><p>为什么增加更多的文件会压缩索引（Index）？</p></li> <li><p>为什么ElasticSearch占用很多内存？</p></li></ul> <p><strong>版本</strong></p> <p>elasticsearch版本: elasticsearch-2.2.0</p> <h1 id="图解elasticsearch"><a href="#图解elasticsearch" class="header-anchor">#</a> 图解ElasticSearch</h1> <hr> <ul><li>云上的集群</li></ul> <p><img src="/assets/img/es-th-1-1.c41d039e.png" alt=""></p> <ul><li>集群里的盒子</li></ul> <p>云里面的每个白色正方形的盒子代表一个节点——Node。</p> <p><img src="/assets/img/es-th-1-2.a4df535c.png" alt=""></p> <ul><li>节点之间</li></ul> <p>在一个或者多个节点直接，多个绿色小方块组合在一起形成一个ElasticSearch的索引。</p> <p><img src="/assets/img/es-th-1-3.15617134.png" alt=""></p> <ul><li>索引里的小方块</li></ul> <p>在一个索引下，分布在多个节点里的绿色小方块称为分片——Shard。</p> <p><img src="data:image/png;base64,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" alt=""></p> <ul><li>Shard＝Lucene Index</li></ul> <p>一个ElasticSearch的Shard本质上是一个Lucene Index。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>Lucene是一个Full Text 搜索库（也有很多其他形式的搜索库），ElasticSearch是建立在Lucene之上的。接下来的故事要说的大部分内容实际上是ElasticSearch如何基于Lucene工作的。</p> <h1 id="图解lucene"><a href="#图解lucene" class="header-anchor">#</a> 图解Lucene</h1> <hr> <h3 id="segment"><a href="#segment" class="header-anchor">#</a> Segment</h3> <ul><li><strong>Mini索引——segment</strong></li></ul> <p>在Lucene里面有很多小的segment，我们可以把它们看成Lucene内部的mini-index。</p> <p><img src="/assets/img/es-th-1-6.f5d92624.png" alt=""></p> <ul><li><strong>Segment内部</strong>（有着许多数据结构）
<ul><li>Inverted Index</li> <li>Stored Fields</li> <li>Document Values</li> <li>Cache</li></ul></li></ul> <p><img src="/assets/img/es-th-1-7.d3bd6e18.png" alt=""></p> <h4 id="inverted-index"><a href="#inverted-index" class="header-anchor">#</a> Inverted Index</h4> <p>最最重要的Inverted Index</p> <p><img src="/assets/img/es-th-1-8.4c83dfe7.png" alt=""></p> <p>Inverted Index主要包括两部分：</p> <ul><li>一个有序的数据字典Dictionary（包括单词Term和它出现的频率）。</li> <li>与单词Term对应的Postings（即存在这个单词的文件）。</li></ul> <p>当我们搜索的时候，首先将搜索的内容分解，然后在字典里找到对应Term，从而查找到与搜索相关的文件内容。</p> <p><img src="/assets/img/es-th-1-9.d57b377d.png" alt=""></p> <ul><li><strong>查询“the fury”</strong></li></ul> <p><img src="/assets/img/es-th-1-10.440eb0d9.png" alt=""></p> <ul><li><strong>自动补全</strong>（AutoCompletion-Prefix）</li></ul> <p>如果想要查找以字母“c”开头的字母，可以简单的通过二分查找（Binary Search）在Inverted Index表中找到例如“choice”、“coming”这样的词（Term）。</p> <p><img src="/assets/img/es-th-1-11.8567478a.png" alt=""></p> <ul><li><strong>昂贵的查找</strong></li></ul> <p>如果想要查找所有包含“our”字母的单词，那么系统会扫描整个Inverted Index，这是非常昂贵的。</p> <p><img src="/assets/img/es-th-1-12.a8ad5621.png" alt=""></p> <p>在此种情况下，如果想要做优化，那么我们面对的问题是如何生成合适的Term。</p> <ul><li><strong>问题的转化</strong></li></ul> <p><img src="/assets/img/es-th-1-13.c7f5c2d1.png" alt=""></p> <p>对于以上诸如此类的问题，我们可能会有几种可行的解决方案：</p> <ol><li><code>* suffix -&gt; xiffus *</code></li></ol> <p>如果我们想以后缀作为搜索条件，可以为Term做反向处理。</p> <ol start="2"><li><code>(60.6384, 6.5017) -&gt; u4u8gyykk</code></li></ol> <p>对于GEO位置信息，可以将它转换为GEO Hash。</p> <ol start="3"><li><code>123 -&gt; {1-hundreds, 12-tens, 123}</code></li></ol> <p>对于简单的数字，可以为它生成多重形式的Term。</p> <ul><li><strong>解决拼写错误</strong></li></ul> <p>一个Python库 为单词生成了一个包含错误拼写信息的树形状态机，解决拼写错误的问题。</p> <p><img src="/assets/img/es-th-1-14.378157bf.png" alt=""></p> <h4 id="stored-field字段查找"><a href="#stored-field字段查找" class="header-anchor">#</a> Stored Field字段查找</h4> <p>当我们想要查找包含某个特定标题内容的文件时，Inverted Index就不能很好的解决这个问题，所以Lucene提供了另外一种数据结构Stored Fields来解决这个问题。本质上，Stored Fields是一个简单的键值对key-value。默认情况下，ElasticSearch会存储整个文件的JSON source。</p> <p><img src="/assets/img/es-th-1-15.8c9efc6f.png" alt=""></p> <h4 id="document-values为了排序-聚合"><a href="#document-values为了排序-聚合" class="header-anchor">#</a> Document Values为了排序，聚合</h4> <p>即使这样，我们发现以上结构仍然无法解决诸如：排序、聚合、facet，因为我们可能会要读取大量不需要的信息。</p> <p>所以，另一种数据结构解决了此种问题：Document Values。这种结构本质上就是一个列式的存储，它高度优化了具有相同类型的数据的存储结构。</p> <p><img src="/assets/img/es-th-1-16.350cd782.png" alt=""></p> <p>为了提高效率，ElasticSearch可以将索引下某一个Document Value全部读取到内存中进行操作，这大大提升访问速度，但是也同时会消耗掉大量的内存空间。</p> <p>总之，这些数据结构Inverted Index、Stored Fields、Document Values及其缓存，都在segment内部。</p> <h3 id="搜索发生时"><a href="#搜索发生时" class="header-anchor">#</a> 搜索发生时</h3> <p>搜索时，Lucene会搜索所有的segment然后将每个segment的搜索结果返回，最后合并呈现给客户。</p> <p>Lucene的一些特性使得这个过程非常重要：</p> <ul><li>Segments是不可变的（immutable）
<ul><li>Delete? 当删除发生时，Lucene做的只是将其标志位置为删除，但是文件还是会在它原来的地方，不会发生改变</li> <li>Update? 所以对于更新来说，本质上它做的工作是：先删除，然后重新索引（Re-index）</li></ul></li> <li>随处可见的压缩
<ul><li>Lucene非常擅长压缩数据，基本上所有教科书上的压缩方式，都能在Lucene中找到。</li></ul></li> <li>缓存所有的所有
<ul><li>Lucene也会将所有的信息做缓存，这大大提高了它的查询效率。</li></ul></li></ul> <h3 id="缓存的故事"><a href="#缓存的故事" class="header-anchor">#</a> 缓存的故事</h3> <p>当ElasticSearch索引一个文件的时候，会为文件建立相应的缓存，并且会定期（每秒）刷新这些数据，然后这些文件就可以被搜索到。</p> <p><img src="/assets/img/es-th-1-17.7320339f.png" alt=""></p> <p>随着时间的增加，我们会有很多segments，</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>所以ElasticSearch会将这些segment合并，在这个过程中，segment会最终被删除掉</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这就是为什么增加文件可能会使索引所占空间变小，它会引起merge，从而可能会有更多的压缩。</p> <ul><li><strong>举个栗子</strong></li></ul> <p>有两个segment将会merge</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这两个segment最终会被删除，然后合并成一个新的segment</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这时这个新的segment在缓存中处于cold状态，但是大多数segment仍然保持不变，处于warm状态。</p> <p>以上场景经常在Lucene Index内部发生的。</p> <p><img src="data:image/png;base64,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" alt=""></p> <h3 id="在shard中搜索"><a href="#在shard中搜索" class="header-anchor">#</a> 在Shard中搜索</h3> <p>ElasticSearch从Shard中搜索的过程与Lucene Segment中搜索的过程类似。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>与在Lucene Segment中搜索不同的是，Shard可能是分布在不同Node上的，所以在搜索与返回结果时，所有的信息都会通过网络传输。</p> <p>需要注意的是：</p> <p>1次搜索查找2个shard ＝ 2次分别搜索shard</p> <p><img src="data:image/png;base64,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" alt=""></p> <ul><li><strong>对于日志文件的处理</strong></li></ul> <p>当我们想搜索特定日期产生的日志时，通过根据时间戳对日志文件进行分块与索引，会极大提高搜索效率。</p> <p>当我们想要删除旧的数据时也非常方便，只需删除老的索引即可。</p> <p><img src="/assets/img/es-th-1-25.b8ae81df.png" alt=""></p> <p>在上种情况下，每个index有两个shards</p> <ul><li><strong>如何Scale</strong></li></ul> <p><img src="/assets/img/es-th-1-26.a42c4d56.png" alt=""></p> <p>shard不会进行更进一步的拆分，但是shard可能会被转移到不同节点上</p> <p><img src="/assets/img/es-th-1-27.a42c4d56.png" alt=""></p> <p>所以，如果当集群节点压力增长到一定的程度，我们可能会考虑增加新的节点，这就会要求我们对所有数据进行重新索引，这是我们不太希望看到的，所以我们需要在规划的时候就考虑清楚，如何去平衡足够多的节点与不足节点之间的关系。</p> <ul><li><strong>节点分配与Shard优化</strong> <ul><li>为更重要的数据索引节点，分配性能更好的机器</li> <li>确保每个shard都有副本信息replica</li></ul></li></ul> <p><img src="/assets/img/es-th-1-28.17fb97ee.png" alt=""></p> <ul><li><strong>路由Routing</strong></li></ul> <p>每个节点，每个都存留一份路由表，所以当请求到任何一个节点时，ElasticSearch都有能力将请求转发到期望节点的shard进一步处理。</p> <p><img src="/assets/img/es-th-1-29.e30e452b.png" alt=""></p> <h1 id="一个真实的请求"><a href="#一个真实的请求" class="header-anchor">#</a> 一个真实的请求</h1> <hr> <p><img src="/assets/img/es-th-1-30.d4a2bae6.png" alt=""></p> <ul><li><strong>Query</strong></li></ul> <p><img src="/assets/img/es-th-1-31.d4a2bae6.png" alt=""></p> <p>Query有一个类型filtered，以及一个multi_match的查询</p> <ul><li><strong>Aggregation</strong></li></ul> <p><img src="/assets/img/es-th-1-32.418c8516.png" alt=""></p> <p>根据作者进行聚合，得到top10的hits的top10作者的信息</p> <ul><li><strong>请求分发</strong></li></ul> <p>这个请求可能被分发到集群里的任意一个节点</p> <p><img src="data:image/png;base64,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" alt=""></p> <ul><li><strong>上帝节点</strong></li></ul> <p><img src="/assets/img/es-th-1-34.b63f58bd.png" alt=""></p> <p>这时这个节点就成为当前请求的协调者（Coordinator），它决定： a) 根据索引信息，判断请求会被路由到哪个核心节点 b) 以及哪个副本是可用的 c) 等等</p> <ul><li><strong>路由</strong></li></ul> <p><img src="/assets/img/es-th-1-35.822fc1ed.png" alt=""></p> <ul><li><strong>在真实搜索之前</strong></li></ul> <p>ElasticSearch 会将Query转换成Lucene Query</p> <p><img src="/assets/img/es-th-1-36.bddee755.png" alt=""></p> <p>然后在所有的segment中执行计算</p> <p><img src="/assets/img/es-th-1-37.4448ed3e.png" alt=""></p> <p>对于Filter条件本身也会有缓存</p> <p><img src="/assets/img/es-th-1-38.664ee2c9.png" alt=""></p> <p>但queries不会被缓存，所以如果相同的Query重复执行，应用程序自己需要做缓存</p> <p><img src="/assets/img/es-th-1-39.1e155d63.png" alt=""></p> <p>所以，</p> <p>a) filters可以在任何时候使用 b) query只有在需要score的时候才使用</p> <ul><li><strong>返回</strong></li></ul> <p>搜索结束之后，结果会沿着下行的路径向上逐层返回。</p> <p><img src="/assets/img/es-th-1-40.302399dd.png" alt=""></p> <p><img src="/assets/img/es-th-1-41.44780131.png" alt=""></p> <p><img src="/assets/img/es-th-1-42.4c712e6a.png" alt=""></p> <p><img src="/assets/img/es-th-1-43.7d346e09.png" alt=""></p> <p><img src="/assets/img/es-th-1-44.247ef1b3.png" alt=""></p> <h1 id="参考来源"><a href="#参考来源" class="header-anchor">#</a> 参考来源</h1> <hr> <p>SlideShare: Elasticsearch From the Bottom Up</p> <p>Youtube: Elasticsearch from the bottom up</p> <p>Wiki: Document-term matrix</p> <p>Wiki: Search engine indexing</p> <p>Skip list</p> <p>Standford Edu: Faster postings list intersection via skip pointers</p> <p>StackOverflow: how an search index works when querying many words?</p> <p>StackOverflow: how does lucene calculate intersection of documents so fast?</p> <p>Lucene and its magical indexes</p> <p>misspellings 2.0c: A tool to detect misspellings)</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://fanxgit.github.io/fanxNotes/edit/master/docs/database/06.NoSQL - ElasticSearch/14.ES详解 - 原理-从图解构筑对ES原理的初步认知.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">8/17/2023, 5:04:28 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/af13d0/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">ES详解 - 聚合-聚合查询之Pipline聚合详解</div></a> <a href="/pages/3f7859/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">ES详解 - 原理-ES原理知识点补充和整体结构</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/af13d0/" class="prev">ES详解 - 聚合-聚合查询之Pipline聚合详解</a></span> <span class="next"><a href="/pages/3f7859/">ES详解 - 原理-ES原理知识点补充和整体结构</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/797621/"><div>
            VuePress+GithubPages教程
            <!----></div></a> <span class="date">11-19</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/016620/"><div>
            java打jar包整理
            <!----></div></a> <span class="date">11-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/b23a10/"><div>
            多线程问题总结
            <!----></div></a> <span class="date">11-14</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.38fd400a.js" defer></script><script src="/assets/js/3.e11db813.js" defer></script><script src="/assets/js/4.c1dcb1a7.js" defer></script>
  </body>
</html>
