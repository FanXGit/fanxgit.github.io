<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>分布式算法 - ZAB算法 | Fanx 知识库</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/logo.svg">[object Object]
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.6ece31e0.css" as="style"><link rel="preload" href="/assets/js/app.38fd400a.js" as="script"><link rel="preload" href="/assets/js/3.e11db813.js" as="script"><link rel="preload" href="/assets/js/194.69d1169c.js" as="script"><link rel="prefetch" href="/assets/js/10.939e2dd4.js"><link rel="prefetch" href="/assets/js/100.4a08f581.js"><link rel="prefetch" href="/assets/js/101.45cd45c9.js"><link rel="prefetch" href="/assets/js/102.ac1359d1.js"><link rel="prefetch" href="/assets/js/103.22344102.js"><link rel="prefetch" href="/assets/js/104.5071cdfd.js"><link rel="prefetch" href="/assets/js/105.7767c121.js"><link rel="prefetch" href="/assets/js/106.809b79f1.js"><link rel="prefetch" href="/assets/js/107.62fd626a.js"><link rel="prefetch" href="/assets/js/108.0583fdc1.js"><link rel="prefetch" href="/assets/js/109.fa127771.js"><link rel="prefetch" href="/assets/js/11.6463adc8.js"><link rel="prefetch" href="/assets/js/110.5cf9f09c.js"><link rel="prefetch" href="/assets/js/111.9d963667.js"><link rel="prefetch" href="/assets/js/112.bc2b8a6e.js"><link rel="prefetch" href="/assets/js/113.2ae29573.js"><link rel="prefetch" href="/assets/js/114.0b2cedfa.js"><link rel="prefetch" href="/assets/js/115.652e433e.js"><link rel="prefetch" href="/assets/js/116.bcc5d64a.js"><link rel="prefetch" href="/assets/js/117.30b02d0d.js"><link rel="prefetch" href="/assets/js/118.87f4f927.js"><link rel="prefetch" href="/assets/js/119.05839492.js"><link rel="prefetch" href="/assets/js/12.a17960e5.js"><link rel="prefetch" href="/assets/js/120.3d772c9c.js"><link rel="prefetch" href="/assets/js/121.bd8fcebf.js"><link rel="prefetch" href="/assets/js/122.e58d2205.js"><link rel="prefetch" href="/assets/js/123.f2c2826d.js"><link rel="prefetch" href="/assets/js/124.12d9ff87.js"><link rel="prefetch" href="/assets/js/125.c7e4bf1c.js"><link rel="prefetch" href="/assets/js/126.71c358fb.js"><link rel="prefetch" href="/assets/js/127.fb1922e5.js"><link rel="prefetch" href="/assets/js/128.25cbf771.js"><link rel="prefetch" href="/assets/js/129.50047ea3.js"><link rel="prefetch" href="/assets/js/13.727ebfda.js"><link rel="prefetch" href="/assets/js/130.a77cfa28.js"><link rel="prefetch" href="/assets/js/131.1618c1f5.js"><link rel="prefetch" href="/assets/js/132.4073573b.js"><link rel="prefetch" href="/assets/js/133.f6e4882f.js"><link rel="prefetch" href="/assets/js/134.1de81973.js"><link rel="prefetch" href="/assets/js/135.43148a0c.js"><link rel="prefetch" href="/assets/js/136.12b3ef34.js"><link rel="prefetch" href="/assets/js/137.accefc34.js"><link rel="prefetch" href="/assets/js/138.8d3115ff.js"><link rel="prefetch" href="/assets/js/139.6e492e2b.js"><link rel="prefetch" href="/assets/js/14.bc6d3062.js"><link rel="prefetch" href="/assets/js/140.3d98f006.js"><link rel="prefetch" href="/assets/js/141.542d08af.js"><link rel="prefetch" href="/assets/js/142.c91a19a2.js"><link rel="prefetch" href="/assets/js/143.0c681ed2.js"><link rel="prefetch" href="/assets/js/144.62e9c646.js"><link rel="prefetch" href="/assets/js/145.ebc34777.js"><link rel="prefetch" href="/assets/js/146.d94a04a7.js"><link rel="prefetch" href="/assets/js/147.b45158de.js"><link rel="prefetch" href="/assets/js/148.5dfa6740.js"><link rel="prefetch" href="/assets/js/149.cb6f2cb0.js"><link rel="prefetch" href="/assets/js/15.a9468bf1.js"><link rel="prefetch" href="/assets/js/150.9f58dbc6.js"><link rel="prefetch" href="/assets/js/151.0a1c07e3.js"><link rel="prefetch" href="/assets/js/152.eafe4843.js"><link rel="prefetch" href="/assets/js/153.fb94cab5.js"><link rel="prefetch" href="/assets/js/154.07f7a11d.js"><link rel="prefetch" href="/assets/js/155.7f6da40b.js"><link rel="prefetch" href="/assets/js/156.2f007ca1.js"><link rel="prefetch" href="/assets/js/157.a35b5249.js"><link rel="prefetch" href="/assets/js/158.540f7a5a.js"><link rel="prefetch" href="/assets/js/159.f62e0315.js"><link rel="prefetch" href="/assets/js/16.ace3b806.js"><link rel="prefetch" href="/assets/js/160.e043c758.js"><link rel="prefetch" href="/assets/js/161.d90141bf.js"><link rel="prefetch" href="/assets/js/162.ddcdbfb9.js"><link rel="prefetch" href="/assets/js/163.f1ba395e.js"><link rel="prefetch" href="/assets/js/164.9f398973.js"><link rel="prefetch" href="/assets/js/165.0db3da51.js"><link rel="prefetch" href="/assets/js/166.b5305797.js"><link rel="prefetch" href="/assets/js/167.e7b2f76b.js"><link rel="prefetch" href="/assets/js/168.a2ecf883.js"><link rel="prefetch" href="/assets/js/169.88bd4d26.js"><link rel="prefetch" href="/assets/js/17.60481837.js"><link rel="prefetch" href="/assets/js/170.fb1699e2.js"><link rel="prefetch" href="/assets/js/171.47268bef.js"><link rel="prefetch" href="/assets/js/172.79002327.js"><link rel="prefetch" href="/assets/js/173.3b1813fb.js"><link rel="prefetch" href="/assets/js/174.362811a9.js"><link rel="prefetch" href="/assets/js/175.bb48bcd7.js"><link rel="prefetch" href="/assets/js/176.97bbf32c.js"><link rel="prefetch" href="/assets/js/177.0717ff7a.js"><link rel="prefetch" href="/assets/js/178.75bff3b7.js"><link rel="prefetch" href="/assets/js/179.3e7db0a2.js"><link rel="prefetch" href="/assets/js/18.dd3c5709.js"><link rel="prefetch" href="/assets/js/180.c81da8dd.js"><link rel="prefetch" href="/assets/js/181.142d6d1c.js"><link rel="prefetch" href="/assets/js/182.fb312040.js"><link rel="prefetch" href="/assets/js/183.3684267e.js"><link rel="prefetch" href="/assets/js/184.ec2a13bc.js"><link rel="prefetch" href="/assets/js/185.a7acace4.js"><link rel="prefetch" href="/assets/js/186.7df28551.js"><link rel="prefetch" href="/assets/js/187.347e9348.js"><link rel="prefetch" href="/assets/js/188.07356026.js"><link rel="prefetch" href="/assets/js/189.0816176d.js"><link rel="prefetch" href="/assets/js/19.cc2d4ad1.js"><link rel="prefetch" href="/assets/js/190.fd5dd8cc.js"><link rel="prefetch" href="/assets/js/191.a938967e.js"><link rel="prefetch" href="/assets/js/192.859b71a1.js"><link rel="prefetch" href="/assets/js/193.adcf2ec3.js"><link rel="prefetch" href="/assets/js/195.ad7cbcc4.js"><link rel="prefetch" href="/assets/js/196.b65138da.js"><link rel="prefetch" href="/assets/js/197.b4fca73b.js"><link rel="prefetch" href="/assets/js/198.2494a23f.js"><link rel="prefetch" href="/assets/js/199.404b9ce1.js"><link rel="prefetch" href="/assets/js/2.938bab56.js"><link rel="prefetch" href="/assets/js/20.361e2bf6.js"><link rel="prefetch" href="/assets/js/200.42b54eae.js"><link rel="prefetch" href="/assets/js/201.ab495eb8.js"><link rel="prefetch" href="/assets/js/202.2cbc5c9a.js"><link rel="prefetch" href="/assets/js/203.abf3fde5.js"><link rel="prefetch" href="/assets/js/204.4fdd4cfb.js"><link rel="prefetch" href="/assets/js/205.411987d7.js"><link rel="prefetch" href="/assets/js/206.dbcab3ae.js"><link rel="prefetch" href="/assets/js/207.f1429354.js"><link rel="prefetch" href="/assets/js/208.f763286c.js"><link rel="prefetch" href="/assets/js/209.c1edbca5.js"><link rel="prefetch" href="/assets/js/21.ae1e88a3.js"><link rel="prefetch" href="/assets/js/210.b2a1501d.js"><link rel="prefetch" href="/assets/js/211.fe1fd5f7.js"><link rel="prefetch" href="/assets/js/212.0fd39a8f.js"><link rel="prefetch" href="/assets/js/213.bb3fc163.js"><link rel="prefetch" href="/assets/js/214.c42e1ef3.js"><link rel="prefetch" href="/assets/js/215.4f0fa915.js"><link rel="prefetch" href="/assets/js/216.07c485c9.js"><link rel="prefetch" href="/assets/js/217.ada25e7a.js"><link rel="prefetch" href="/assets/js/218.2f761d3c.js"><link rel="prefetch" href="/assets/js/219.32d1a663.js"><link rel="prefetch" href="/assets/js/22.0b09d67f.js"><link rel="prefetch" href="/assets/js/220.36c56cf4.js"><link rel="prefetch" href="/assets/js/221.3e0431e2.js"><link rel="prefetch" href="/assets/js/222.90aa0ff7.js"><link rel="prefetch" href="/assets/js/223.5966d7df.js"><link rel="prefetch" href="/assets/js/224.7e2329e1.js"><link rel="prefetch" href="/assets/js/225.2ed3675d.js"><link rel="prefetch" href="/assets/js/226.fa3cef02.js"><link rel="prefetch" href="/assets/js/227.07bf7bca.js"><link rel="prefetch" href="/assets/js/228.9ac2589a.js"><link rel="prefetch" href="/assets/js/229.b980e141.js"><link rel="prefetch" href="/assets/js/23.31ed5c2f.js"><link rel="prefetch" href="/assets/js/230.2c32e874.js"><link rel="prefetch" href="/assets/js/231.723e20cb.js"><link rel="prefetch" href="/assets/js/232.1f94511c.js"><link rel="prefetch" href="/assets/js/233.2d477f71.js"><link rel="prefetch" href="/assets/js/234.10141c75.js"><link rel="prefetch" href="/assets/js/235.a328b127.js"><link rel="prefetch" href="/assets/js/236.42419c3b.js"><link rel="prefetch" href="/assets/js/237.648ca44e.js"><link rel="prefetch" href="/assets/js/238.4b363b75.js"><link rel="prefetch" href="/assets/js/239.fe711a73.js"><link rel="prefetch" href="/assets/js/24.fe75e3fa.js"><link rel="prefetch" href="/assets/js/240.6baa12bf.js"><link rel="prefetch" href="/assets/js/241.6f375dc4.js"><link rel="prefetch" href="/assets/js/242.aee8e39d.js"><link rel="prefetch" href="/assets/js/243.bfc7f6e1.js"><link rel="prefetch" href="/assets/js/244.c73a14a7.js"><link rel="prefetch" href="/assets/js/245.a2352aa1.js"><link rel="prefetch" href="/assets/js/246.b12c3ae6.js"><link rel="prefetch" href="/assets/js/247.2f768275.js"><link rel="prefetch" href="/assets/js/248.3f79dfb1.js"><link rel="prefetch" href="/assets/js/249.7fd0cb75.js"><link rel="prefetch" href="/assets/js/25.f2e379df.js"><link rel="prefetch" href="/assets/js/250.df3f1d0a.js"><link rel="prefetch" href="/assets/js/251.a3865750.js"><link rel="prefetch" href="/assets/js/252.d62542df.js"><link rel="prefetch" href="/assets/js/253.59b2f200.js"><link rel="prefetch" href="/assets/js/254.522d17b5.js"><link rel="prefetch" href="/assets/js/255.0f95a196.js"><link rel="prefetch" href="/assets/js/256.31b37cbe.js"><link rel="prefetch" href="/assets/js/257.ff22ad12.js"><link rel="prefetch" href="/assets/js/258.15205e0b.js"><link rel="prefetch" href="/assets/js/259.f3b7c5aa.js"><link rel="prefetch" href="/assets/js/26.45264b04.js"><link rel="prefetch" href="/assets/js/260.fec3c7aa.js"><link rel="prefetch" href="/assets/js/261.d965ee56.js"><link rel="prefetch" href="/assets/js/262.76a7105b.js"><link rel="prefetch" href="/assets/js/263.e684cc46.js"><link rel="prefetch" href="/assets/js/264.59297da0.js"><link rel="prefetch" href="/assets/js/265.66182ed2.js"><link rel="prefetch" href="/assets/js/266.eec50d90.js"><link rel="prefetch" href="/assets/js/267.c85bce12.js"><link rel="prefetch" href="/assets/js/268.ef544f0c.js"><link rel="prefetch" href="/assets/js/269.8cfb5c6a.js"><link rel="prefetch" href="/assets/js/27.4e065810.js"><link rel="prefetch" href="/assets/js/270.b66cab3c.js"><link rel="prefetch" href="/assets/js/271.c1b7d136.js"><link rel="prefetch" href="/assets/js/272.0d7950c3.js"><link rel="prefetch" href="/assets/js/273.06349cca.js"><link rel="prefetch" href="/assets/js/274.9b442c09.js"><link rel="prefetch" href="/assets/js/275.11082d81.js"><link rel="prefetch" href="/assets/js/276.ce0abe31.js"><link rel="prefetch" href="/assets/js/277.4b7fcc53.js"><link rel="prefetch" href="/assets/js/278.129d0397.js"><link rel="prefetch" href="/assets/js/279.5c021f7c.js"><link rel="prefetch" href="/assets/js/28.126ecd33.js"><link rel="prefetch" href="/assets/js/280.d183c9e3.js"><link rel="prefetch" href="/assets/js/281.0df67750.js"><link rel="prefetch" href="/assets/js/282.8fdd2372.js"><link rel="prefetch" href="/assets/js/283.dae956df.js"><link rel="prefetch" href="/assets/js/284.c5dc7189.js"><link rel="prefetch" href="/assets/js/285.7f5a7367.js"><link rel="prefetch" href="/assets/js/286.d9bfcef5.js"><link rel="prefetch" href="/assets/js/287.4fa6a5c5.js"><link rel="prefetch" href="/assets/js/288.57904d2d.js"><link rel="prefetch" href="/assets/js/289.b96d7c2f.js"><link rel="prefetch" href="/assets/js/29.8f5db82a.js"><link rel="prefetch" href="/assets/js/290.8dda9646.js"><link rel="prefetch" href="/assets/js/291.ab433493.js"><link rel="prefetch" href="/assets/js/292.e2d59796.js"><link rel="prefetch" href="/assets/js/293.30f9fcc4.js"><link rel="prefetch" href="/assets/js/294.158492dc.js"><link rel="prefetch" href="/assets/js/295.33e3a53d.js"><link rel="prefetch" href="/assets/js/296.49d7a2de.js"><link rel="prefetch" href="/assets/js/297.1b7572ac.js"><link rel="prefetch" href="/assets/js/298.00e4586a.js"><link rel="prefetch" href="/assets/js/299.d8fb6ff9.js"><link rel="prefetch" href="/assets/js/30.ef97cb8e.js"><link rel="prefetch" href="/assets/js/300.90e9dadf.js"><link rel="prefetch" href="/assets/js/301.d5592ea1.js"><link rel="prefetch" href="/assets/js/302.b08dc1ea.js"><link rel="prefetch" href="/assets/js/303.bef541c8.js"><link rel="prefetch" href="/assets/js/304.be3f7081.js"><link rel="prefetch" href="/assets/js/305.13718421.js"><link rel="prefetch" href="/assets/js/306.41685aa2.js"><link rel="prefetch" href="/assets/js/307.6d569102.js"><link rel="prefetch" href="/assets/js/308.aaabab89.js"><link rel="prefetch" href="/assets/js/309.910ecc42.js"><link rel="prefetch" href="/assets/js/31.795b3334.js"><link rel="prefetch" href="/assets/js/310.104b7753.js"><link rel="prefetch" href="/assets/js/311.45f4a7da.js"><link rel="prefetch" href="/assets/js/312.180c7e45.js"><link rel="prefetch" href="/assets/js/313.87d3a801.js"><link rel="prefetch" href="/assets/js/314.7739b1ef.js"><link rel="prefetch" href="/assets/js/315.54a1fac0.js"><link rel="prefetch" href="/assets/js/316.a978a787.js"><link rel="prefetch" href="/assets/js/317.84f65f2c.js"><link rel="prefetch" href="/assets/js/318.7f8caff8.js"><link rel="prefetch" href="/assets/js/319.0b5276f3.js"><link rel="prefetch" href="/assets/js/32.e65c7229.js"><link rel="prefetch" href="/assets/js/320.ba90589a.js"><link rel="prefetch" href="/assets/js/321.b6810c5a.js"><link rel="prefetch" href="/assets/js/322.2eaa727d.js"><link rel="prefetch" href="/assets/js/323.17573ee3.js"><link rel="prefetch" href="/assets/js/324.806fd6ca.js"><link rel="prefetch" href="/assets/js/325.4cd65079.js"><link rel="prefetch" href="/assets/js/326.fe0e2e22.js"><link rel="prefetch" href="/assets/js/327.a64d0209.js"><link rel="prefetch" href="/assets/js/328.aca1c89a.js"><link rel="prefetch" href="/assets/js/329.53ccf1dd.js"><link rel="prefetch" href="/assets/js/33.9a57aab8.js"><link rel="prefetch" href="/assets/js/330.92822a09.js"><link rel="prefetch" href="/assets/js/331.6b82baff.js"><link rel="prefetch" href="/assets/js/332.fc20f585.js"><link rel="prefetch" href="/assets/js/333.005ba8e3.js"><link rel="prefetch" href="/assets/js/334.9d3309b8.js"><link rel="prefetch" href="/assets/js/335.0e938f19.js"><link rel="prefetch" href="/assets/js/336.01fe9903.js"><link rel="prefetch" href="/assets/js/337.e207d67c.js"><link rel="prefetch" href="/assets/js/338.bfcf6bc8.js"><link rel="prefetch" href="/assets/js/339.a502aa64.js"><link rel="prefetch" href="/assets/js/34.3835d35c.js"><link rel="prefetch" href="/assets/js/340.3888b147.js"><link rel="prefetch" href="/assets/js/341.20297f95.js"><link rel="prefetch" href="/assets/js/342.9cd149e9.js"><link rel="prefetch" href="/assets/js/343.faac8369.js"><link rel="prefetch" href="/assets/js/344.da8cd079.js"><link rel="prefetch" href="/assets/js/345.78303b88.js"><link rel="prefetch" href="/assets/js/346.d8eaca82.js"><link rel="prefetch" href="/assets/js/347.edd389a1.js"><link rel="prefetch" href="/assets/js/348.21ee9617.js"><link rel="prefetch" href="/assets/js/349.0251471a.js"><link rel="prefetch" href="/assets/js/35.76dc7096.js"><link rel="prefetch" href="/assets/js/350.710b7d30.js"><link rel="prefetch" href="/assets/js/351.535f8d60.js"><link rel="prefetch" href="/assets/js/352.c66fe42e.js"><link rel="prefetch" href="/assets/js/353.ebbcd333.js"><link rel="prefetch" href="/assets/js/354.7cbba2f1.js"><link rel="prefetch" href="/assets/js/355.0106db16.js"><link rel="prefetch" href="/assets/js/356.7debf350.js"><link rel="prefetch" href="/assets/js/357.a43eb887.js"><link rel="prefetch" href="/assets/js/358.28e5d2ed.js"><link rel="prefetch" href="/assets/js/359.956fc3b8.js"><link rel="prefetch" href="/assets/js/36.fc54452c.js"><link rel="prefetch" href="/assets/js/360.13fb600a.js"><link rel="prefetch" href="/assets/js/361.d100f85b.js"><link rel="prefetch" href="/assets/js/362.35277df2.js"><link rel="prefetch" href="/assets/js/363.d993a7fc.js"><link rel="prefetch" href="/assets/js/364.0168c2b0.js"><link rel="prefetch" href="/assets/js/365.bc8af0bb.js"><link rel="prefetch" href="/assets/js/366.2645dc0d.js"><link rel="prefetch" href="/assets/js/367.87368acb.js"><link rel="prefetch" href="/assets/js/368.0b7d41fc.js"><link rel="prefetch" href="/assets/js/369.4bf3f46e.js"><link rel="prefetch" href="/assets/js/37.5a47cee9.js"><link rel="prefetch" href="/assets/js/370.ea5f965e.js"><link rel="prefetch" href="/assets/js/371.1af764ef.js"><link rel="prefetch" href="/assets/js/372.bf6c68e2.js"><link rel="prefetch" href="/assets/js/373.1a605cc8.js"><link rel="prefetch" href="/assets/js/374.34a41a4a.js"><link rel="prefetch" href="/assets/js/375.1d2d3776.js"><link rel="prefetch" href="/assets/js/376.4b7b0b10.js"><link rel="prefetch" href="/assets/js/377.b3d9748a.js"><link rel="prefetch" href="/assets/js/378.7f00fa88.js"><link rel="prefetch" href="/assets/js/379.adcd298a.js"><link rel="prefetch" href="/assets/js/38.6614c565.js"><link rel="prefetch" href="/assets/js/380.6d08bb56.js"><link rel="prefetch" href="/assets/js/381.164bb4e3.js"><link rel="prefetch" href="/assets/js/382.f71f0ca4.js"><link rel="prefetch" href="/assets/js/383.01ba70ad.js"><link rel="prefetch" href="/assets/js/384.22b98cde.js"><link rel="prefetch" href="/assets/js/385.5f1298a9.js"><link rel="prefetch" href="/assets/js/386.01a912bc.js"><link rel="prefetch" href="/assets/js/387.3db4713f.js"><link rel="prefetch" href="/assets/js/388.4cde7d0f.js"><link rel="prefetch" href="/assets/js/389.d96bafad.js"><link rel="prefetch" href="/assets/js/39.1a09ed15.js"><link rel="prefetch" href="/assets/js/390.343bbc06.js"><link rel="prefetch" href="/assets/js/391.68b3e72a.js"><link rel="prefetch" href="/assets/js/392.f4f15e43.js"><link rel="prefetch" href="/assets/js/393.82475934.js"><link rel="prefetch" href="/assets/js/394.3101ea10.js"><link rel="prefetch" href="/assets/js/395.34083342.js"><link rel="prefetch" href="/assets/js/396.780d6efe.js"><link rel="prefetch" href="/assets/js/397.cb686f39.js"><link rel="prefetch" href="/assets/js/398.c4ad669f.js"><link rel="prefetch" href="/assets/js/399.ee8d28ad.js"><link rel="prefetch" href="/assets/js/4.c1dcb1a7.js"><link rel="prefetch" href="/assets/js/40.4216f4f9.js"><link rel="prefetch" href="/assets/js/400.23d48a38.js"><link rel="prefetch" href="/assets/js/401.319d7a68.js"><link rel="prefetch" href="/assets/js/402.25b27bd0.js"><link rel="prefetch" href="/assets/js/403.9a898a40.js"><link rel="prefetch" href="/assets/js/404.e3b49b79.js"><link rel="prefetch" href="/assets/js/405.7695b9f1.js"><link rel="prefetch" href="/assets/js/406.edb801f7.js"><link rel="prefetch" href="/assets/js/407.03c3f725.js"><link rel="prefetch" href="/assets/js/408.4345ef1f.js"><link rel="prefetch" href="/assets/js/409.77c34447.js"><link rel="prefetch" href="/assets/js/41.f035663a.js"><link rel="prefetch" href="/assets/js/410.7f6c0744.js"><link rel="prefetch" href="/assets/js/411.cb19323e.js"><link rel="prefetch" href="/assets/js/412.4b16959d.js"><link rel="prefetch" href="/assets/js/413.ff4f1ca2.js"><link rel="prefetch" href="/assets/js/414.b1ca1298.js"><link rel="prefetch" href="/assets/js/415.c2111593.js"><link rel="prefetch" href="/assets/js/416.a6d18039.js"><link rel="prefetch" href="/assets/js/417.dc36c66d.js"><link rel="prefetch" href="/assets/js/418.e7eba879.js"><link rel="prefetch" href="/assets/js/419.57673b9e.js"><link rel="prefetch" href="/assets/js/42.9c8cf569.js"><link rel="prefetch" href="/assets/js/420.ccd41fe0.js"><link rel="prefetch" href="/assets/js/421.ea69f0b0.js"><link rel="prefetch" href="/assets/js/422.093448e2.js"><link rel="prefetch" href="/assets/js/423.ae003f31.js"><link rel="prefetch" href="/assets/js/424.f670cd2b.js"><link rel="prefetch" href="/assets/js/425.6e814335.js"><link rel="prefetch" href="/assets/js/426.faf45206.js"><link rel="prefetch" href="/assets/js/427.cf6be942.js"><link rel="prefetch" href="/assets/js/428.9ff6199c.js"><link rel="prefetch" href="/assets/js/429.b6ef4678.js"><link rel="prefetch" href="/assets/js/43.717fe06b.js"><link rel="prefetch" href="/assets/js/430.e9575d07.js"><link rel="prefetch" href="/assets/js/431.8bf26a3e.js"><link rel="prefetch" href="/assets/js/432.5eaa2162.js"><link rel="prefetch" href="/assets/js/433.6dab12a1.js"><link rel="prefetch" href="/assets/js/434.fca918e8.js"><link rel="prefetch" href="/assets/js/435.4c8f9ad9.js"><link rel="prefetch" href="/assets/js/436.0f0de1a8.js"><link rel="prefetch" href="/assets/js/437.2221ab9f.js"><link rel="prefetch" href="/assets/js/438.37f28cfb.js"><link rel="prefetch" href="/assets/js/439.1e3f3611.js"><link rel="prefetch" href="/assets/js/44.705dc411.js"><link rel="prefetch" href="/assets/js/440.28ab35e8.js"><link rel="prefetch" href="/assets/js/441.8d006af8.js"><link rel="prefetch" href="/assets/js/442.2618a6e3.js"><link rel="prefetch" href="/assets/js/443.a7723674.js"><link rel="prefetch" href="/assets/js/444.18f23e7c.js"><link rel="prefetch" href="/assets/js/445.f4807c5a.js"><link rel="prefetch" href="/assets/js/446.77a5afc2.js"><link rel="prefetch" href="/assets/js/447.7f653483.js"><link rel="prefetch" href="/assets/js/448.1143c566.js"><link rel="prefetch" href="/assets/js/449.b788a288.js"><link rel="prefetch" href="/assets/js/45.6a225373.js"><link rel="prefetch" href="/assets/js/450.b6463ba3.js"><link rel="prefetch" href="/assets/js/451.fd4d46b9.js"><link rel="prefetch" href="/assets/js/452.e8de4fc2.js"><link rel="prefetch" href="/assets/js/453.4125e5e6.js"><link rel="prefetch" href="/assets/js/454.30af5d0a.js"><link rel="prefetch" href="/assets/js/455.9c919e58.js"><link rel="prefetch" href="/assets/js/456.22dbfa8f.js"><link rel="prefetch" href="/assets/js/457.e9c5248a.js"><link rel="prefetch" href="/assets/js/458.c0a9cf1d.js"><link rel="prefetch" href="/assets/js/459.b5e96042.js"><link rel="prefetch" href="/assets/js/46.515d085a.js"><link rel="prefetch" href="/assets/js/460.b4097efb.js"><link rel="prefetch" href="/assets/js/461.5d545741.js"><link rel="prefetch" href="/assets/js/462.402d4cdd.js"><link rel="prefetch" href="/assets/js/463.e6d6ea07.js"><link rel="prefetch" href="/assets/js/464.df817445.js"><link rel="prefetch" href="/assets/js/465.18a6bc2b.js"><link rel="prefetch" href="/assets/js/466.da313c0c.js"><link rel="prefetch" href="/assets/js/467.41294182.js"><link rel="prefetch" href="/assets/js/468.41c59467.js"><link rel="prefetch" href="/assets/js/469.d55da13c.js"><link rel="prefetch" href="/assets/js/47.a41193df.js"><link rel="prefetch" href="/assets/js/470.7457a92e.js"><link rel="prefetch" href="/assets/js/471.ed739bdf.js"><link rel="prefetch" href="/assets/js/472.83882459.js"><link rel="prefetch" href="/assets/js/473.fe2df51c.js"><link rel="prefetch" href="/assets/js/474.d40797b8.js"><link rel="prefetch" href="/assets/js/475.a00992a2.js"><link rel="prefetch" href="/assets/js/476.c7687189.js"><link rel="prefetch" href="/assets/js/477.fd4fd227.js"><link rel="prefetch" href="/assets/js/478.1ae08c3b.js"><link rel="prefetch" href="/assets/js/479.04a246c6.js"><link rel="prefetch" href="/assets/js/48.fe693306.js"><link rel="prefetch" href="/assets/js/480.36acb4ff.js"><link rel="prefetch" href="/assets/js/481.05d3129e.js"><link rel="prefetch" href="/assets/js/482.1741a02c.js"><link rel="prefetch" href="/assets/js/483.44cf2d25.js"><link rel="prefetch" href="/assets/js/484.9c14e5c6.js"><link rel="prefetch" href="/assets/js/485.ea0c1de1.js"><link rel="prefetch" href="/assets/js/486.8c683697.js"><link rel="prefetch" href="/assets/js/487.8b1eb604.js"><link rel="prefetch" href="/assets/js/488.ae16fca6.js"><link rel="prefetch" href="/assets/js/489.7f674a0d.js"><link rel="prefetch" href="/assets/js/49.a7d05a3d.js"><link rel="prefetch" href="/assets/js/490.52983854.js"><link rel="prefetch" href="/assets/js/491.968e7af4.js"><link rel="prefetch" href="/assets/js/492.e7f58bac.js"><link rel="prefetch" href="/assets/js/493.55afbb68.js"><link rel="prefetch" href="/assets/js/494.ac17d05b.js"><link rel="prefetch" href="/assets/js/495.d1ca2a12.js"><link rel="prefetch" href="/assets/js/496.d6841a0e.js"><link rel="prefetch" href="/assets/js/497.99431b4b.js"><link rel="prefetch" href="/assets/js/498.cacac1d8.js"><link rel="prefetch" href="/assets/js/499.c6b7fab0.js"><link rel="prefetch" href="/assets/js/5.f74a04c4.js"><link rel="prefetch" href="/assets/js/50.f59b29ea.js"><link rel="prefetch" href="/assets/js/500.abba24c7.js"><link rel="prefetch" href="/assets/js/501.e9496674.js"><link rel="prefetch" href="/assets/js/502.3ece0e86.js"><link rel="prefetch" href="/assets/js/503.974421d1.js"><link rel="prefetch" href="/assets/js/504.6e8d8539.js"><link rel="prefetch" href="/assets/js/505.b8161483.js"><link rel="prefetch" href="/assets/js/506.a6a6f2de.js"><link rel="prefetch" href="/assets/js/507.9c6955ee.js"><link rel="prefetch" href="/assets/js/508.223e145d.js"><link rel="prefetch" href="/assets/js/509.553e6f2c.js"><link rel="prefetch" href="/assets/js/51.428c5495.js"><link rel="prefetch" href="/assets/js/510.46e2eab7.js"><link rel="prefetch" href="/assets/js/511.24962b3f.js"><link rel="prefetch" href="/assets/js/512.a29fe236.js"><link rel="prefetch" href="/assets/js/513.8729b339.js"><link rel="prefetch" href="/assets/js/514.41199019.js"><link rel="prefetch" href="/assets/js/515.b1a71e99.js"><link rel="prefetch" href="/assets/js/516.001e3634.js"><link rel="prefetch" href="/assets/js/517.4de05581.js"><link rel="prefetch" href="/assets/js/518.57697c31.js"><link rel="prefetch" href="/assets/js/519.e962365e.js"><link rel="prefetch" href="/assets/js/52.c97c3911.js"><link rel="prefetch" href="/assets/js/520.e7775961.js"><link rel="prefetch" href="/assets/js/521.05b0ce57.js"><link rel="prefetch" href="/assets/js/522.49f7412e.js"><link rel="prefetch" href="/assets/js/523.b3d821b2.js"><link rel="prefetch" href="/assets/js/524.ab2395b7.js"><link rel="prefetch" href="/assets/js/525.25559bb4.js"><link rel="prefetch" href="/assets/js/526.23111d2a.js"><link rel="prefetch" href="/assets/js/527.c61f6e86.js"><link rel="prefetch" href="/assets/js/528.032fa7b6.js"><link rel="prefetch" href="/assets/js/529.3953f346.js"><link rel="prefetch" href="/assets/js/53.77f22b1a.js"><link rel="prefetch" href="/assets/js/530.b882066e.js"><link rel="prefetch" href="/assets/js/531.62dddf23.js"><link rel="prefetch" href="/assets/js/532.1826fe1a.js"><link rel="prefetch" href="/assets/js/533.a2e014bb.js"><link rel="prefetch" href="/assets/js/534.d5d89c00.js"><link rel="prefetch" href="/assets/js/535.4e5d7739.js"><link rel="prefetch" href="/assets/js/536.f2c700db.js"><link rel="prefetch" href="/assets/js/537.80aa278c.js"><link rel="prefetch" href="/assets/js/538.95e2f471.js"><link rel="prefetch" href="/assets/js/539.4e4ecfe8.js"><link rel="prefetch" href="/assets/js/54.d85b2f2e.js"><link rel="prefetch" href="/assets/js/540.00bd44e5.js"><link rel="prefetch" href="/assets/js/541.d740df14.js"><link rel="prefetch" href="/assets/js/542.5aadeaee.js"><link rel="prefetch" href="/assets/js/543.d42c9d9a.js"><link rel="prefetch" href="/assets/js/544.29704685.js"><link rel="prefetch" href="/assets/js/545.7fdb1a83.js"><link rel="prefetch" href="/assets/js/546.6b5655ea.js"><link rel="prefetch" href="/assets/js/547.c98e27c4.js"><link rel="prefetch" href="/assets/js/548.8edec06f.js"><link rel="prefetch" href="/assets/js/549.33b8eae3.js"><link rel="prefetch" href="/assets/js/55.80a4fa71.js"><link rel="prefetch" href="/assets/js/550.cb706b0e.js"><link rel="prefetch" href="/assets/js/551.79598cc6.js"><link rel="prefetch" href="/assets/js/552.69aa5f8b.js"><link rel="prefetch" href="/assets/js/553.7ccb8831.js"><link rel="prefetch" href="/assets/js/554.954013b2.js"><link rel="prefetch" href="/assets/js/555.960d7f8b.js"><link rel="prefetch" href="/assets/js/556.5c054c14.js"><link rel="prefetch" href="/assets/js/557.890045ea.js"><link rel="prefetch" href="/assets/js/558.f72f6668.js"><link rel="prefetch" href="/assets/js/559.452d8ff3.js"><link rel="prefetch" href="/assets/js/56.009b0340.js"><link rel="prefetch" href="/assets/js/560.1656e33f.js"><link rel="prefetch" href="/assets/js/561.bb4650eb.js"><link rel="prefetch" href="/assets/js/562.7322fd81.js"><link rel="prefetch" href="/assets/js/563.a34a68ea.js"><link rel="prefetch" href="/assets/js/564.6da92e18.js"><link rel="prefetch" href="/assets/js/565.01d288e5.js"><link rel="prefetch" href="/assets/js/566.6a3459a1.js"><link rel="prefetch" href="/assets/js/567.e3eb8e54.js"><link rel="prefetch" href="/assets/js/568.f95e0fba.js"><link rel="prefetch" href="/assets/js/569.a42d134c.js"><link rel="prefetch" href="/assets/js/57.25e8dd1c.js"><link rel="prefetch" href="/assets/js/570.87887d15.js"><link rel="prefetch" href="/assets/js/571.ce4b478b.js"><link rel="prefetch" href="/assets/js/572.634418a6.js"><link rel="prefetch" href="/assets/js/573.cd4cf02b.js"><link rel="prefetch" href="/assets/js/574.8bf073fa.js"><link rel="prefetch" href="/assets/js/575.c194dddb.js"><link rel="prefetch" href="/assets/js/576.7750193f.js"><link rel="prefetch" href="/assets/js/577.5daa388a.js"><link rel="prefetch" href="/assets/js/578.54bb0029.js"><link rel="prefetch" href="/assets/js/579.92f58c76.js"><link rel="prefetch" href="/assets/js/58.9c1eb9e5.js"><link rel="prefetch" href="/assets/js/580.0e543efb.js"><link rel="prefetch" href="/assets/js/581.4e0b0b47.js"><link rel="prefetch" href="/assets/js/582.8c172f83.js"><link rel="prefetch" href="/assets/js/583.c91c43e0.js"><link rel="prefetch" href="/assets/js/584.ca68d52b.js"><link rel="prefetch" href="/assets/js/585.663b17d3.js"><link rel="prefetch" href="/assets/js/586.9494847d.js"><link rel="prefetch" href="/assets/js/587.f3805773.js"><link rel="prefetch" href="/assets/js/588.8ae14be1.js"><link rel="prefetch" href="/assets/js/589.b4af88be.js"><link rel="prefetch" href="/assets/js/59.2a730e41.js"><link rel="prefetch" href="/assets/js/590.fb77fea8.js"><link rel="prefetch" href="/assets/js/591.a3aaa57c.js"><link rel="prefetch" href="/assets/js/592.54ec5f32.js"><link rel="prefetch" href="/assets/js/593.96eab5cb.js"><link rel="prefetch" href="/assets/js/594.e356725c.js"><link rel="prefetch" href="/assets/js/595.0a2c4ad4.js"><link rel="prefetch" href="/assets/js/596.2c075cd8.js"><link rel="prefetch" href="/assets/js/597.e904811b.js"><link rel="prefetch" href="/assets/js/598.f6ca8b71.js"><link rel="prefetch" href="/assets/js/599.ae3d12c4.js"><link rel="prefetch" href="/assets/js/6.451e012f.js"><link rel="prefetch" href="/assets/js/60.e6b60343.js"><link rel="prefetch" href="/assets/js/600.e71a0062.js"><link rel="prefetch" href="/assets/js/601.2571a19d.js"><link rel="prefetch" href="/assets/js/602.0f4fa961.js"><link rel="prefetch" href="/assets/js/603.d8387c37.js"><link rel="prefetch" href="/assets/js/604.69433906.js"><link rel="prefetch" href="/assets/js/605.1bc7d87a.js"><link rel="prefetch" href="/assets/js/606.ec419517.js"><link rel="prefetch" href="/assets/js/607.b473fb0b.js"><link rel="prefetch" href="/assets/js/608.a361b48c.js"><link rel="prefetch" href="/assets/js/609.9186f226.js"><link rel="prefetch" href="/assets/js/61.d50a156d.js"><link rel="prefetch" href="/assets/js/610.ff3cf241.js"><link rel="prefetch" href="/assets/js/611.c3c7e648.js"><link rel="prefetch" href="/assets/js/612.2a520ebd.js"><link rel="prefetch" href="/assets/js/613.42936ffc.js"><link rel="prefetch" href="/assets/js/614.3ca0de21.js"><link rel="prefetch" href="/assets/js/615.ecf60a47.js"><link rel="prefetch" href="/assets/js/616.17185e83.js"><link rel="prefetch" href="/assets/js/617.769d4cdf.js"><link rel="prefetch" href="/assets/js/618.015c6376.js"><link rel="prefetch" href="/assets/js/619.3af186d0.js"><link rel="prefetch" href="/assets/js/62.e24b7811.js"><link rel="prefetch" href="/assets/js/620.f8ff3784.js"><link rel="prefetch" href="/assets/js/621.4c21311f.js"><link rel="prefetch" href="/assets/js/622.355178df.js"><link rel="prefetch" href="/assets/js/623.45a30695.js"><link rel="prefetch" href="/assets/js/624.61e89d34.js"><link rel="prefetch" href="/assets/js/625.49e0d1ce.js"><link rel="prefetch" href="/assets/js/626.1b7ae767.js"><link rel="prefetch" href="/assets/js/627.b8c507cf.js"><link rel="prefetch" href="/assets/js/628.c5a43517.js"><link rel="prefetch" href="/assets/js/629.274eb0fd.js"><link rel="prefetch" href="/assets/js/63.b804baab.js"><link rel="prefetch" href="/assets/js/630.69e055ce.js"><link rel="prefetch" href="/assets/js/631.0892fc51.js"><link rel="prefetch" href="/assets/js/632.6a68e9a2.js"><link rel="prefetch" href="/assets/js/633.d536fe74.js"><link rel="prefetch" href="/assets/js/634.24695f39.js"><link rel="prefetch" href="/assets/js/635.3aeede9c.js"><link rel="prefetch" href="/assets/js/636.3628d8a6.js"><link rel="prefetch" href="/assets/js/637.40af5a79.js"><link rel="prefetch" href="/assets/js/638.15e257ae.js"><link rel="prefetch" href="/assets/js/639.31e6597c.js"><link rel="prefetch" href="/assets/js/64.eb5699ff.js"><link rel="prefetch" href="/assets/js/640.a071f6df.js"><link rel="prefetch" href="/assets/js/641.f9edd7bf.js"><link rel="prefetch" href="/assets/js/642.adcb583f.js"><link rel="prefetch" href="/assets/js/643.7c98a990.js"><link rel="prefetch" href="/assets/js/644.fb1213d8.js"><link rel="prefetch" href="/assets/js/645.220a5034.js"><link rel="prefetch" href="/assets/js/646.d66a419b.js"><link rel="prefetch" href="/assets/js/647.12ef89ab.js"><link rel="prefetch" href="/assets/js/648.a3112300.js"><link rel="prefetch" href="/assets/js/649.f457dfa5.js"><link rel="prefetch" href="/assets/js/65.0d8501b5.js"><link rel="prefetch" href="/assets/js/650.cc63d03b.js"><link rel="prefetch" href="/assets/js/651.16d1bbd6.js"><link rel="prefetch" href="/assets/js/652.0f5343f0.js"><link rel="prefetch" href="/assets/js/653.28f7710a.js"><link rel="prefetch" href="/assets/js/654.b343d473.js"><link rel="prefetch" href="/assets/js/655.215fe67b.js"><link rel="prefetch" href="/assets/js/656.79aa1653.js"><link rel="prefetch" href="/assets/js/657.c57f2b5c.js"><link rel="prefetch" href="/assets/js/658.d0aa0b95.js"><link rel="prefetch" href="/assets/js/659.2dfaed93.js"><link rel="prefetch" href="/assets/js/66.8361cc16.js"><link rel="prefetch" href="/assets/js/660.c00b347e.js"><link rel="prefetch" href="/assets/js/661.ecc4f968.js"><link rel="prefetch" href="/assets/js/662.06f83919.js"><link rel="prefetch" href="/assets/js/663.67d8849e.js"><link rel="prefetch" href="/assets/js/664.74dba1a9.js"><link rel="prefetch" href="/assets/js/665.28b450f0.js"><link rel="prefetch" href="/assets/js/666.0f4bb6ba.js"><link rel="prefetch" href="/assets/js/667.586074e3.js"><link rel="prefetch" href="/assets/js/668.b13c0e70.js"><link rel="prefetch" href="/assets/js/669.9d0d4cbc.js"><link rel="prefetch" href="/assets/js/67.37f46ba2.js"><link rel="prefetch" href="/assets/js/670.6b36ca72.js"><link rel="prefetch" href="/assets/js/671.33b2e754.js"><link rel="prefetch" href="/assets/js/672.3b02c287.js"><link rel="prefetch" href="/assets/js/673.3f274929.js"><link rel="prefetch" href="/assets/js/674.7d75584f.js"><link rel="prefetch" href="/assets/js/675.0de52334.js"><link rel="prefetch" href="/assets/js/676.6734133e.js"><link rel="prefetch" href="/assets/js/677.c6f4a973.js"><link rel="prefetch" href="/assets/js/678.1344b6be.js"><link rel="prefetch" href="/assets/js/679.23fed56f.js"><link rel="prefetch" href="/assets/js/68.27dbce5b.js"><link rel="prefetch" href="/assets/js/680.c49329d6.js"><link rel="prefetch" href="/assets/js/681.8df66615.js"><link rel="prefetch" href="/assets/js/682.77b4bff8.js"><link rel="prefetch" href="/assets/js/683.6cf41cf4.js"><link rel="prefetch" href="/assets/js/684.58deecd5.js"><link rel="prefetch" href="/assets/js/685.d2f7480e.js"><link rel="prefetch" href="/assets/js/686.0b77a241.js"><link rel="prefetch" href="/assets/js/687.2cc04b4f.js"><link rel="prefetch" href="/assets/js/688.da24cbae.js"><link rel="prefetch" href="/assets/js/689.a9961f74.js"><link rel="prefetch" href="/assets/js/69.8052a977.js"><link rel="prefetch" href="/assets/js/690.cb736269.js"><link rel="prefetch" href="/assets/js/691.21c13be1.js"><link rel="prefetch" href="/assets/js/692.3ed557d0.js"><link rel="prefetch" href="/assets/js/693.066efe93.js"><link rel="prefetch" href="/assets/js/694.5368f98a.js"><link rel="prefetch" href="/assets/js/695.4fdb93d5.js"><link rel="prefetch" href="/assets/js/696.9c055ac6.js"><link rel="prefetch" href="/assets/js/697.51e0c47c.js"><link rel="prefetch" href="/assets/js/698.08ca1dbd.js"><link rel="prefetch" href="/assets/js/699.ce7e9e2a.js"><link rel="prefetch" href="/assets/js/7.7e21c947.js"><link rel="prefetch" href="/assets/js/70.19faeb78.js"><link rel="prefetch" href="/assets/js/700.3676fa7f.js"><link rel="prefetch" href="/assets/js/701.82db4887.js"><link rel="prefetch" href="/assets/js/702.73425f22.js"><link rel="prefetch" href="/assets/js/703.d9391c74.js"><link rel="prefetch" href="/assets/js/704.d6e275cf.js"><link rel="prefetch" href="/assets/js/705.d2f23969.js"><link rel="prefetch" href="/assets/js/706.1c66dcc1.js"><link rel="prefetch" href="/assets/js/707.0fc5a26a.js"><link rel="prefetch" href="/assets/js/708.97471ee6.js"><link rel="prefetch" href="/assets/js/709.9b4d5665.js"><link rel="prefetch" href="/assets/js/71.d1683810.js"><link rel="prefetch" href="/assets/js/710.75fa8103.js"><link rel="prefetch" href="/assets/js/711.43777b40.js"><link rel="prefetch" href="/assets/js/712.5c583e39.js"><link rel="prefetch" href="/assets/js/713.5aa72111.js"><link rel="prefetch" href="/assets/js/714.e8215702.js"><link rel="prefetch" href="/assets/js/715.46614e7c.js"><link rel="prefetch" href="/assets/js/716.eaac6d69.js"><link rel="prefetch" href="/assets/js/717.c344c042.js"><link rel="prefetch" href="/assets/js/718.437bf0b2.js"><link rel="prefetch" href="/assets/js/719.23aa3deb.js"><link rel="prefetch" href="/assets/js/72.9fa783f0.js"><link rel="prefetch" href="/assets/js/720.9456a449.js"><link rel="prefetch" href="/assets/js/721.67fd324a.js"><link rel="prefetch" href="/assets/js/722.fc5e79ca.js"><link rel="prefetch" href="/assets/js/723.46db8115.js"><link rel="prefetch" href="/assets/js/724.31a11b8c.js"><link rel="prefetch" href="/assets/js/725.49cef603.js"><link rel="prefetch" href="/assets/js/726.7d0a2e7f.js"><link rel="prefetch" href="/assets/js/727.a1de6f02.js"><link rel="prefetch" href="/assets/js/728.7e0a727e.js"><link rel="prefetch" href="/assets/js/729.b6bf04fa.js"><link rel="prefetch" href="/assets/js/73.1ac0ac37.js"><link rel="prefetch" href="/assets/js/730.1c102528.js"><link rel="prefetch" href="/assets/js/731.80403e3d.js"><link rel="prefetch" href="/assets/js/732.cf8b4a6d.js"><link rel="prefetch" href="/assets/js/733.aab88d38.js"><link rel="prefetch" href="/assets/js/734.965a0adc.js"><link rel="prefetch" href="/assets/js/735.f9d33608.js"><link rel="prefetch" href="/assets/js/736.d1621f9e.js"><link rel="prefetch" href="/assets/js/737.a12ea0d3.js"><link rel="prefetch" href="/assets/js/738.96e61512.js"><link rel="prefetch" href="/assets/js/739.9bce4dfe.js"><link rel="prefetch" href="/assets/js/74.1913daec.js"><link rel="prefetch" href="/assets/js/740.c1a0bf7b.js"><link rel="prefetch" href="/assets/js/741.0185115e.js"><link rel="prefetch" href="/assets/js/742.21e99d78.js"><link rel="prefetch" href="/assets/js/743.e5f2407e.js"><link rel="prefetch" href="/assets/js/744.53d4e25a.js"><link rel="prefetch" href="/assets/js/745.9fb6722c.js"><link rel="prefetch" href="/assets/js/746.893e3a2f.js"><link rel="prefetch" href="/assets/js/747.ad94fed4.js"><link rel="prefetch" href="/assets/js/748.3421b09b.js"><link rel="prefetch" href="/assets/js/749.15c364e9.js"><link rel="prefetch" href="/assets/js/75.d63a9540.js"><link rel="prefetch" href="/assets/js/750.4e5379b7.js"><link rel="prefetch" href="/assets/js/751.18b0273f.js"><link rel="prefetch" href="/assets/js/752.24717596.js"><link rel="prefetch" href="/assets/js/753.5868bcc4.js"><link rel="prefetch" href="/assets/js/754.77808a6c.js"><link rel="prefetch" href="/assets/js/755.af7f7a71.js"><link rel="prefetch" href="/assets/js/76.342d837c.js"><link rel="prefetch" href="/assets/js/77.466349c3.js"><link rel="prefetch" href="/assets/js/78.886d05b6.js"><link rel="prefetch" href="/assets/js/79.b478bdab.js"><link rel="prefetch" href="/assets/js/8.9f40767d.js"><link rel="prefetch" href="/assets/js/80.9205cc43.js"><link rel="prefetch" href="/assets/js/81.77f831c9.js"><link rel="prefetch" href="/assets/js/82.650475d1.js"><link rel="prefetch" href="/assets/js/83.aa7e3d4b.js"><link rel="prefetch" href="/assets/js/84.2fc92fb4.js"><link rel="prefetch" href="/assets/js/85.0f633e10.js"><link rel="prefetch" href="/assets/js/86.e862f4bc.js"><link rel="prefetch" href="/assets/js/87.8a869468.js"><link rel="prefetch" href="/assets/js/88.6c584051.js"><link rel="prefetch" href="/assets/js/89.3ab84e02.js"><link rel="prefetch" href="/assets/js/9.7ed864ce.js"><link rel="prefetch" href="/assets/js/90.41e6925d.js"><link rel="prefetch" href="/assets/js/91.55055993.js"><link rel="prefetch" href="/assets/js/92.ced7b439.js"><link rel="prefetch" href="/assets/js/93.41cc8a7f.js"><link rel="prefetch" href="/assets/js/94.6d2b144f.js"><link rel="prefetch" href="/assets/js/95.399a7909.js"><link rel="prefetch" href="/assets/js/96.556f8f9f.js"><link rel="prefetch" href="/assets/js/97.47ecdf46.js"><link rel="prefetch" href="/assets/js/98.fdbe6822.js"><link rel="prefetch" href="/assets/js/99.db8442e4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ece31e0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Fanx 知识库" class="logo"> <span class="site-name can-hide">Fanx 知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/779590/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/pages/dc7834/" class="nav-link">Java集合框架</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d7db/" class="nav-link">Java多线程并发</a></li><li class="dropdown-item"><!----> <a href="/pages/dbec4d/" class="nav-link">JavaIo&amp;NIO&amp;AIO</a></li><li class="dropdown-item"><!----> <a href="/pages/b908ce/" class="nav-link">JDK相关特性</a></li><li class="dropdown-item"><!----> <a href="/pages/e59bea/" class="nav-link">JVM相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f8c059/" class="nav-link">数据库基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/d192fd/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/8aa877/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/077e7c/" class="nav-link">MogoDb</a></li><li class="dropdown-item"><!----> <a href="/pages/68281b/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/commonFrameworks/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/8f6500/" class="nav-link">Spring Framework 5基础</a></li><li class="dropdown-item"><!----> <a href="/pages/7c08d4/" class="nav-link">SpringBoot 2.5.x系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源代码学习" class="dropdown-title"><!----> <span class="title" style="display:;">源代码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/23a632/" class="nav-link">mybatis源码学习</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/java/" class="nav-link">java源代码</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/spring/" class="nav-link">Spring源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><!----> <span class="title" style="display:;">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2cef48/" class="nav-link">Java 基础</a></li><li class="dropdown-item"><!----> <a href="/pages/ad2692/" class="nav-link">Spring 框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用的技术工具" class="dropdown-title"><!----> <span class="title" style="display:;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/linux/common/" class="nav-link">linux常用命令实践</a></li><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">Mavan</a></li><li class="dropdown-item"><!----> <a href="/pages/b25802/" class="nav-link">开发工具详解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它语言" class="dropdown-title"><!----> <span class="title" style="display:;">其它语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fc414d/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题总结" class="dropdown-title"><!----> <span class="title" style="display:;">问题总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/question/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/4d0fa7/" class="nav-link">团队相关</a></li><li class="dropdown-item"><!----> <a href="/pages/75c3d7/" class="nav-link">fanx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/caf303/" class="nav-link">数据结构基础</a></li><li class="dropdown-item"><!----> <a href="/pages/395e23/" class="nav-link">常见排序算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fa3dd3/" class="nav-link">算法思想</a></li><li class="dropdown-item"><!----> <a href="/pages/79d342/" class="nav-link">一些领域算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fdb54d/" class="nav-link">其它算法相关</a></li></ul></div></div> <a href="https://fanxgit.github.io/fanxNotes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/779590/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/pages/dc7834/" class="nav-link">Java集合框架</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d7db/" class="nav-link">Java多线程并发</a></li><li class="dropdown-item"><!----> <a href="/pages/dbec4d/" class="nav-link">JavaIo&amp;NIO&amp;AIO</a></li><li class="dropdown-item"><!----> <a href="/pages/b908ce/" class="nav-link">JDK相关特性</a></li><li class="dropdown-item"><!----> <a href="/pages/e59bea/" class="nav-link">JVM相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f8c059/" class="nav-link">数据库基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/d192fd/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/8aa877/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/077e7c/" class="nav-link">MogoDb</a></li><li class="dropdown-item"><!----> <a href="/pages/68281b/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/commonFrameworks/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/8f6500/" class="nav-link">Spring Framework 5基础</a></li><li class="dropdown-item"><!----> <a href="/pages/7c08d4/" class="nav-link">SpringBoot 2.5.x系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源代码学习" class="dropdown-title"><!----> <span class="title" style="display:;">源代码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/23a632/" class="nav-link">mybatis源码学习</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/java/" class="nav-link">java源代码</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/spring/" class="nav-link">Spring源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><!----> <span class="title" style="display:;">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2cef48/" class="nav-link">Java 基础</a></li><li class="dropdown-item"><!----> <a href="/pages/ad2692/" class="nav-link">Spring 框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用的技术工具" class="dropdown-title"><!----> <span class="title" style="display:;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/linux/common/" class="nav-link">linux常用命令实践</a></li><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">Mavan</a></li><li class="dropdown-item"><!----> <a href="/pages/b25802/" class="nav-link">开发工具详解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它语言" class="dropdown-title"><!----> <span class="title" style="display:;">其它语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fc414d/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题总结" class="dropdown-title"><!----> <span class="title" style="display:;">问题总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/question/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/4d0fa7/" class="nav-link">团队相关</a></li><li class="dropdown-item"><!----> <a href="/pages/75c3d7/" class="nav-link">fanx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/caf303/" class="nav-link">数据结构基础</a></li><li class="dropdown-item"><!----> <a href="/pages/395e23/" class="nav-link">常见排序算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fa3dd3/" class="nav-link">算法思想</a></li><li class="dropdown-item"><!----> <a href="/pages/79d342/" class="nav-link">一些领域算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fdb54d/" class="nav-link">其它算法相关</a></li></ul></div></div> <a href="https://fanxgit.github.io/fanxNotes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常见排序算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法思想</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>一些领域算法</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/79d342/" class="sidebar-link">♥一些领域算法知识体系♥</a></li><li><a href="/pages/e67d0b/" class="sidebar-link">安全算法 - 摘要算法</a></li><li><a href="/pages/c842e4/" class="sidebar-link">安全算法 - 加密算法</a></li><li><a href="/pages/b0dfbe/" class="sidebar-link">安全算法 - 国密算法</a></li><li><a href="/pages/b2408d/" class="sidebar-link">字符串匹配 - Overview</a></li><li><a href="/pages/5c1b0a/" class="sidebar-link">字符串匹配 - 模式预处理：朴素算法（Naive)(暴力破解)</a></li><li><a href="/pages/38e466/" class="sidebar-link">字符串匹配 - 模式预处理：KMP 算法（Knuth-Morris-Pratt）</a></li><li><a href="/pages/08a264/" class="sidebar-link">字符串匹配 - 模式预处理：BM 算法 (Boyer-Moore)</a></li><li><a href="/pages/22afd6/" class="sidebar-link">字符串匹配 - 文本预处理：后缀树（Suffix Tree）</a></li><li><a href="/pages/52b53d/" class="sidebar-link">大数据处理 - Overview</a></li><li><a href="/pages/6c41c1/" class="sidebar-link">大数据处理 - 分治-hash-排序</a></li><li><a href="/pages/47c222/" class="sidebar-link">大数据处理 - Bitmap &amp; Bloom Filter</a></li><li><a href="/pages/058afb/" class="sidebar-link">大数据处理 - 双层桶划分</a></li><li><a href="/pages/1583ff/" class="sidebar-link">大数据处理 - Trie树-数据库-倒排索引</a></li><li><a href="/pages/b0029f/" class="sidebar-link">大数据处理 - 外（磁盘文件）排序</a></li><li><a href="/pages/6b16f1/" class="sidebar-link">大数据处理 - Map &amp; Reduce</a></li><li><a href="/pages/f7e1f0/" class="sidebar-link">分布式算法 - Overview</a></li><li><a href="/pages/2dfc27/" class="sidebar-link">分布式算法 - 一致性Hash算法</a></li><li><a href="/pages/a117d6/" class="sidebar-link">分布式算法 - Paxos算法</a></li><li><a href="/pages/58f8b3/" class="sidebar-link">分布式算法 - Raft算法</a></li><li><a href="/pages/281bc3/" aria-current="page" class="active sidebar-link">分布式算法 - ZAB算法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/23f6f4/" class="sidebar-link">分布式算法 - Snowflake算法</a></li><li><a href="/pages/a0f76d/" class="sidebar-link">负载均衡算法 - 汇总</a></li><li><a href="/pages/8d294f/" class="sidebar-link">推荐算法 - 汇总</a></li><li><a href="/pages/45ca3e/" class="sidebar-link">数据挖掘 - 10大算法汇总</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其它算法相关</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=algorithm" title="分类" data-v-06225672>algorithm</a></li><li data-v-06225672><a href="/categories/?category=%E4%B8%80%E4%BA%9B%E9%A2%86%E5%9F%9F%E7%AE%97%E6%B3%95" title="分类" data-v-06225672>一些领域算法</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/FanXGit" target="_blank" title="作者" class="beLink" data-v-06225672>fanx</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-08-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">分布式算法 - ZAB算法<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="分布式算法-zab算法"><a href="#分布式算法-zab算法" class="header-anchor">#</a> 分布式算法 - ZAB算法</h1> <p>===============================</p> <blockquote><p>ZAB 协议全称：Zookeeper Atomic Broadcast（Zookeeper 原子广播协议）, 它应该是所有一致性协议中生产环境中应用最多的了。为什么呢？因为它是为 Zookeeper 设计的分布式一致性协议！</p></blockquote> <ul><li><a href="https://pdai.tech/md/algorithm/alg-domain-distribute-x-zab.html#%E4%BB%80%E4%B9%88%E6%98%AF-zab-%E5%8D%8F%E8%AE%AE-zab-%E5%8D%8F%E8%AE%AE%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer">什么是 ZAB 协议？ ZAB 协议介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://pdai.tech/md/algorithm/alg-domain-distribute-x-zab.html#%E6%B6%88%E6%81%AF%E5%B9%BF%E6%92%AD" target="_blank" rel="noopener noreferrer">消息广播<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://pdai.tech/md/algorithm/alg-domain-distribute-x-zab.html#%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D" target="_blank" rel="noopener noreferrer">崩溃恢复<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://pdai.tech/md/algorithm/alg-domain-distribute-x-zab.html#%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5" target="_blank" rel="noopener noreferrer">数据同步<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://pdai.tech/md/algorithm/alg-domain-distribute-x-zab.html#%E6%80%BB%E7%BB%93" target="_blank" rel="noopener noreferrer">总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://pdai.tech/md/algorithm/alg-domain-distribute-x-zab.html#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0" target="_blank" rel="noopener noreferrer">参考文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h1 id="什么是-zab-协议-zab-协议介绍"><a href="#什么是-zab-协议-zab-协议介绍" class="header-anchor">#</a> 什么是 ZAB 协议？ ZAB 协议介绍</h1> <hr> <blockquote><p>ZAB 协议全称：Zookeeper Atomic Broadcast（Zookeeper 原子广播协议）。</p></blockquote> <ol><li><p>Zookeeper 是一个为分布式应用提供高效且可靠的分布式协调服务。在解决分布式一致性方面，Zookeeper 并没有使用 Paxos ，而是采用了 ZAB 协议。</p></li> <li><p>ZAB 协议定义：<strong>ZAB 协议是为分布式协调服务 Zookeeper 专门设计的一种支持 <code>崩溃恢复</code> 和 <code>原子广播</code> 协议</strong>。下面我们会重点讲这两个东西。</p></li> <li><p>基于该协议，Zookeeper 实现了一种 主备模式 的系统架构来保持集群中各个副本之间数据一致性。具体如下图所示：</p></li></ol> <p><img src="/assets/img/alg-zab-1.b477e31b.png" alt=""></p> <p>上图显示了 Zookeeper 如何处理集群中的数据。所有客户端写入数据都是写入到 主进程（称为 Leader）中，然后，由 Leader 复制到备份进程（称为 Follower）中。从而保证数据一致性。从设计上看，和 Raft 类似。</p> <ol start="4"><li>那么复制过程又是如何的呢？复制过程类似 2PC，ZAB 只需要 Follower 有一半以上返回 Ack 信息就可以执行提交，大大减小了同步阻塞。也提高了可用性。</li></ol> <p>简单介绍完，开始重点介绍 <code>消息广播</code> 和 <code>崩溃恢复</code>。<strong>整个 Zookeeper 就是在这两个模式之间切换</strong>。 简而言之，当 Leader 服务可以正常使用，就进入消息广播模式，当 Leader 不可用时，则进入崩溃恢复模式。</p> <h1 id="消息广播"><a href="#消息广播" class="header-anchor">#</a> 消息广播</h1> <hr> <p>ZAB 协议的消息广播过程使用的是一个原子广播协议，类似一个 二阶段提交过程。对于客户端发送的写请求，全部由 Leader 接收，Leader 将请求封装成一个事务 Proposal，将其发送给所有 Follwer ，然后，根据所有 Follwer 的反馈，如果超过半数成功响应，则执行 commit 操作（先提交自己，再发送 commit 给所有 Follwer）。</p> <p>基本上，整个广播流程分为 3 步骤：</p> <p>1.将数据都复制到 Follwer 中</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>等待 Follwer 回应 Ack，最低超过半数即成功</p> <p><img src="/assets/img/alg-zab-3.cc3b609d.png" alt=""></p> <p>当超过半数成功回应，则执行 commit ，同时提交自己</p> <p><img src="/assets/img/alg-zab-4.bc3049e1.png" alt=""></p> <p>通过以上 3 个步骤，就能够保持集群之间数据的一致性。实际上，在 Leader 和 Follwer 之间还有一个消息队列，用来解耦他们之间的耦合，避免同步，实现异步解耦。</p> <p>还有一些细节：</p> <ul><li>Leader 在收到客户端请求之后，会将这个请求封装成一个事务，并给这个事务分配一个全局递增的唯一 ID，称为事务ID（ZXID），ZAB 兮协议需要保证事务的顺序，因此必须将每一个事务按照 ZXID 进行先后排序然后处理。</li> <li>在 Leader 和 Follwer 之间还有一个消息队列，用来解耦他们之间的耦合，解除同步阻塞。</li> <li>zookeeper集群中为保证任何所有进程能够有序的顺序执行，只能是 Leader 服务器接受写请求，即使是 Follower 服务器接受到客户端的请求，也会转发到 Leader 服务器进行处理。</li> <li>实际上，这是一种简化版本的 2PC，不能解决单点问题。等会我们会讲述 ZAB 如何解决单点问题（即 Leader 崩溃问题）。</li></ul> <h1 id="崩溃恢复"><a href="#崩溃恢复" class="header-anchor">#</a> 崩溃恢复</h1> <hr> <p>刚刚我们说消息广播过程中，Leader 崩溃怎么办？还能保证数据一致吗？如果 Leader 先本地提交了，然后 commit 请求没有发送出去，怎么办？</p> <p>实际上，当 Leader 崩溃，即进入我们开头所说的崩溃恢复模式（崩溃即：Leader 失去与过半 Follwer 的联系）。下面来详细讲述。</p> <ul><li>假设1：Leader 在复制数据给所有 Follwer 之后崩溃，怎么办？</li> <li>假设2：Leader 在收到 Ack 并提交了自己，同时发送了部分 commit 出去之后崩溃怎么办？</li></ul> <p>针对这些问题，ZAB 定义了 2 个原则：</p> <ul><li>ZAB 协议确保那些已经在 Leader 提交的事务最终会被所有服务器提交。</li> <li>ZAB 协议确保丢弃那些只在 Leader 提出/复制，但没有提交的事务。</li></ul> <p>所以，ZAB 设计了下面这样一个选举算法：<strong>能够确保提交已经被 Leader 提交的事务，同时丢弃已经被跳过的事务</strong>。</p> <p>针对这个要求，如果让 Leader 选举算法能够保证新选举出来的 Leader 服务器拥有集群总所有机器编号（即 ZXID 最大）的事务，那么就能够保证这个新选举出来的 Leader 一定具有所有已经提交的提案。</p> <p>而且这么做有一个好处是：<strong>可以省去 Leader 服务器检查事务的提交和丢弃工作的这一步操作</strong>。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这样，我们刚刚假设的两个问题便能够解决。假设 1 最终会丢弃调用没有提交的数据，假设 2 最终会同步所有服务器的数据。这个时候，就引出了一个问题，如何同步？</p> <h1 id="数据同步"><a href="#数据同步" class="header-anchor">#</a> 数据同步</h1> <hr> <p>当崩溃恢复之后，需要在正式工作之前（接收客户端请求），Leader 服务器首先确认事务是否都已经被过半的 Follwer 提交了，即是否完成了数据同步。目的是为了保持数据一致。</p> <p>当所有的 Follwer 服务器都成功同步之后，Leader 会将这些服务器加入到可用服务器列表中。</p> <p>实际上，Leader 服务器处理或丢弃事务都是依赖着 ZXID 的，那么这个 ZXID 如何生成呢？</p> <p>答：在 ZAB 协议的事务编号 ZXID 设计中，ZXID 是一个 64 位的数字，其中低 32 位可以看作是一个简单的递增的计数器，针对客户端的每一个事务请求，Leader 都会产生一个新的事务 Proposal 并对该计数器进行 + 1 操作。</p> <p>而高 32 位则代表了 Leader 服务器上取出本地日志中最大事务 Proposal 的 ZXID，并从该 ZXID 中解析出对应的 epoch 值，然后再对这个值加一。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>高 32 位代表了每代 Leader 的唯一性，低 32 代表了每代 Leader 中事务的唯一性。同时，也能让 Follwer 通过高 32 位识别不同的 Leader。简化了数据恢复流程。</p> <p>基于这样的策略：当 Follower 链接上 Leader 之后，Leader 服务器会根据自己服务器上最后被提交的 ZXID 和 Follower 上的 ZXID 进行比对，比对结果要么回滚，要么和 Leader 同步。</p> <h1 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h1> <hr> <p>ZAB 协议和我们之前看的 Raft 协议实际上是有相似之处的，比如都有一个 Leader，用来保证一致性（Paxos 并没有使用 Leader 机制保证一致性）。再有采取过半即成功的机制保证服务可用（实际上 Paxos 和 Raft 都是这么做的）。</p> <p>ZAB 让整个 Zookeeper 集群在两个模式之间转换，消息广播和崩溃恢复，消息广播可以说是一个简化版本的 2PC，通过崩溃恢复解决了 2PC 的单点问题，通过队列解决了 2PC 的同步阻塞问题。</p> <p>而支持崩溃恢复后数据准确性的就是数据同步了，数据同步基于事务的 ZXID 的唯一性来保证。通过 + 1 操作可以辨别事务的先后顺序。</p> <h1 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h1> <hr> <p>本文主要转载自如下，文章内容略有调整：</p> <ul><li>作者：莫那·鲁道</li> <li>原文链接：https://www.cnblogs.com/stateis0/p/9062133.html</li> <li>PS：转载请一并附带原出处</li></ul> <p>其它我还推荐你看下如下相关的较为优秀的文章：</p> <ul><li><p><a href="https://www.cnblogs.com/leesf456/p/6107600.html" target="_blank" rel="noopener noreferrer">Zookeeper的Leader选举 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>https://blog.csdn.net/a724888/article/details/80757503</p></li> <li><p>https://www.cnblogs.com/stateis0/p/9062133.html)</p></li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://fanxgit.github.io/fanxNotes/edit/master/docs/algorithm/04.一些领域算法/21.分布式算法 - ZAB算法.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">8/17/2023, 5:04:28 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/58f8b3/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">分布式算法 - Raft算法</div></a> <a href="/pages/23f6f4/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">分布式算法 - Snowflake算法</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/58f8b3/" class="prev">分布式算法 - Raft算法</a></span> <span class="next"><a href="/pages/23f6f4/">分布式算法 - Snowflake算法</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/797621/"><div>
            VuePress+GithubPages教程
            <!----></div></a> <span class="date">11-19</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/016620/"><div>
            java打jar包整理
            <!----></div></a> <span class="date">11-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/b23a10/"><div>
            多线程问题总结
            <!----></div></a> <span class="date">11-14</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.38fd400a.js" defer></script><script src="/assets/js/3.e11db813.js" defer></script><script src="/assets/js/194.69d1169c.js" defer></script>
  </body>
</html>
