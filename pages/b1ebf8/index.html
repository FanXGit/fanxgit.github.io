<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL DB - 数据库系统核心知识点 | Fanx 知识库</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/logo.svg">[object Object]
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.6ece31e0.css" as="style"><link rel="preload" href="/assets/js/app.38fd400a.js" as="script"><link rel="preload" href="/assets/js/3.e11db813.js" as="script"><link rel="preload" href="/assets/js/145.ebc34777.js" as="script"><link rel="prefetch" href="/assets/js/10.939e2dd4.js"><link rel="prefetch" href="/assets/js/100.4a08f581.js"><link rel="prefetch" href="/assets/js/101.45cd45c9.js"><link rel="prefetch" href="/assets/js/102.ac1359d1.js"><link rel="prefetch" href="/assets/js/103.22344102.js"><link rel="prefetch" href="/assets/js/104.5071cdfd.js"><link rel="prefetch" href="/assets/js/105.7767c121.js"><link rel="prefetch" href="/assets/js/106.809b79f1.js"><link rel="prefetch" href="/assets/js/107.62fd626a.js"><link rel="prefetch" href="/assets/js/108.0583fdc1.js"><link rel="prefetch" href="/assets/js/109.fa127771.js"><link rel="prefetch" href="/assets/js/11.6463adc8.js"><link rel="prefetch" href="/assets/js/110.5cf9f09c.js"><link rel="prefetch" href="/assets/js/111.9d963667.js"><link rel="prefetch" href="/assets/js/112.bc2b8a6e.js"><link rel="prefetch" href="/assets/js/113.2ae29573.js"><link rel="prefetch" href="/assets/js/114.0b2cedfa.js"><link rel="prefetch" href="/assets/js/115.652e433e.js"><link rel="prefetch" href="/assets/js/116.bcc5d64a.js"><link rel="prefetch" href="/assets/js/117.30b02d0d.js"><link rel="prefetch" href="/assets/js/118.87f4f927.js"><link rel="prefetch" href="/assets/js/119.05839492.js"><link rel="prefetch" href="/assets/js/12.a17960e5.js"><link rel="prefetch" href="/assets/js/120.3d772c9c.js"><link rel="prefetch" href="/assets/js/121.bd8fcebf.js"><link rel="prefetch" href="/assets/js/122.e58d2205.js"><link rel="prefetch" href="/assets/js/123.f2c2826d.js"><link rel="prefetch" href="/assets/js/124.12d9ff87.js"><link rel="prefetch" href="/assets/js/125.c7e4bf1c.js"><link rel="prefetch" href="/assets/js/126.71c358fb.js"><link rel="prefetch" href="/assets/js/127.fb1922e5.js"><link rel="prefetch" href="/assets/js/128.25cbf771.js"><link rel="prefetch" href="/assets/js/129.50047ea3.js"><link rel="prefetch" href="/assets/js/13.727ebfda.js"><link rel="prefetch" href="/assets/js/130.a77cfa28.js"><link rel="prefetch" href="/assets/js/131.1618c1f5.js"><link rel="prefetch" href="/assets/js/132.4073573b.js"><link rel="prefetch" href="/assets/js/133.f6e4882f.js"><link rel="prefetch" href="/assets/js/134.1de81973.js"><link rel="prefetch" href="/assets/js/135.43148a0c.js"><link rel="prefetch" href="/assets/js/136.12b3ef34.js"><link rel="prefetch" href="/assets/js/137.accefc34.js"><link rel="prefetch" href="/assets/js/138.8d3115ff.js"><link rel="prefetch" href="/assets/js/139.6e492e2b.js"><link rel="prefetch" href="/assets/js/14.bc6d3062.js"><link rel="prefetch" href="/assets/js/140.3d98f006.js"><link rel="prefetch" href="/assets/js/141.542d08af.js"><link rel="prefetch" href="/assets/js/142.c91a19a2.js"><link rel="prefetch" href="/assets/js/143.0c681ed2.js"><link rel="prefetch" href="/assets/js/144.62e9c646.js"><link rel="prefetch" href="/assets/js/146.d94a04a7.js"><link rel="prefetch" href="/assets/js/147.b45158de.js"><link rel="prefetch" href="/assets/js/148.5dfa6740.js"><link rel="prefetch" href="/assets/js/149.cb6f2cb0.js"><link rel="prefetch" href="/assets/js/15.a9468bf1.js"><link rel="prefetch" href="/assets/js/150.9f58dbc6.js"><link rel="prefetch" href="/assets/js/151.0a1c07e3.js"><link rel="prefetch" href="/assets/js/152.eafe4843.js"><link rel="prefetch" href="/assets/js/153.fb94cab5.js"><link rel="prefetch" href="/assets/js/154.07f7a11d.js"><link rel="prefetch" href="/assets/js/155.7f6da40b.js"><link rel="prefetch" href="/assets/js/156.2f007ca1.js"><link rel="prefetch" href="/assets/js/157.a35b5249.js"><link rel="prefetch" href="/assets/js/158.540f7a5a.js"><link rel="prefetch" href="/assets/js/159.f62e0315.js"><link rel="prefetch" href="/assets/js/16.ace3b806.js"><link rel="prefetch" href="/assets/js/160.e043c758.js"><link rel="prefetch" href="/assets/js/161.d90141bf.js"><link rel="prefetch" href="/assets/js/162.ddcdbfb9.js"><link rel="prefetch" href="/assets/js/163.f1ba395e.js"><link rel="prefetch" href="/assets/js/164.9f398973.js"><link rel="prefetch" href="/assets/js/165.0db3da51.js"><link rel="prefetch" href="/assets/js/166.b5305797.js"><link rel="prefetch" href="/assets/js/167.e7b2f76b.js"><link rel="prefetch" href="/assets/js/168.a2ecf883.js"><link rel="prefetch" href="/assets/js/169.88bd4d26.js"><link rel="prefetch" href="/assets/js/17.60481837.js"><link rel="prefetch" href="/assets/js/170.fb1699e2.js"><link rel="prefetch" href="/assets/js/171.47268bef.js"><link rel="prefetch" href="/assets/js/172.79002327.js"><link rel="prefetch" href="/assets/js/173.3b1813fb.js"><link rel="prefetch" href="/assets/js/174.362811a9.js"><link rel="prefetch" href="/assets/js/175.bb48bcd7.js"><link rel="prefetch" href="/assets/js/176.97bbf32c.js"><link rel="prefetch" href="/assets/js/177.0717ff7a.js"><link rel="prefetch" href="/assets/js/178.75bff3b7.js"><link rel="prefetch" href="/assets/js/179.3e7db0a2.js"><link rel="prefetch" href="/assets/js/18.dd3c5709.js"><link rel="prefetch" href="/assets/js/180.c81da8dd.js"><link rel="prefetch" href="/assets/js/181.142d6d1c.js"><link rel="prefetch" href="/assets/js/182.fb312040.js"><link rel="prefetch" href="/assets/js/183.3684267e.js"><link rel="prefetch" href="/assets/js/184.ec2a13bc.js"><link rel="prefetch" href="/assets/js/185.a7acace4.js"><link rel="prefetch" href="/assets/js/186.7df28551.js"><link rel="prefetch" href="/assets/js/187.347e9348.js"><link rel="prefetch" href="/assets/js/188.07356026.js"><link rel="prefetch" href="/assets/js/189.0816176d.js"><link rel="prefetch" href="/assets/js/19.cc2d4ad1.js"><link rel="prefetch" href="/assets/js/190.fd5dd8cc.js"><link rel="prefetch" href="/assets/js/191.a938967e.js"><link rel="prefetch" href="/assets/js/192.859b71a1.js"><link rel="prefetch" href="/assets/js/193.adcf2ec3.js"><link rel="prefetch" href="/assets/js/194.69d1169c.js"><link rel="prefetch" href="/assets/js/195.ad7cbcc4.js"><link rel="prefetch" href="/assets/js/196.b65138da.js"><link rel="prefetch" href="/assets/js/197.b4fca73b.js"><link rel="prefetch" href="/assets/js/198.2494a23f.js"><link rel="prefetch" href="/assets/js/199.404b9ce1.js"><link rel="prefetch" href="/assets/js/2.938bab56.js"><link rel="prefetch" href="/assets/js/20.361e2bf6.js"><link rel="prefetch" href="/assets/js/200.42b54eae.js"><link rel="prefetch" href="/assets/js/201.ab495eb8.js"><link rel="prefetch" href="/assets/js/202.2cbc5c9a.js"><link rel="prefetch" href="/assets/js/203.abf3fde5.js"><link rel="prefetch" href="/assets/js/204.4fdd4cfb.js"><link rel="prefetch" href="/assets/js/205.411987d7.js"><link rel="prefetch" href="/assets/js/206.dbcab3ae.js"><link rel="prefetch" href="/assets/js/207.f1429354.js"><link rel="prefetch" href="/assets/js/208.f763286c.js"><link rel="prefetch" href="/assets/js/209.c1edbca5.js"><link rel="prefetch" href="/assets/js/21.ae1e88a3.js"><link rel="prefetch" href="/assets/js/210.b2a1501d.js"><link rel="prefetch" href="/assets/js/211.fe1fd5f7.js"><link rel="prefetch" href="/assets/js/212.0fd39a8f.js"><link rel="prefetch" href="/assets/js/213.bb3fc163.js"><link rel="prefetch" href="/assets/js/214.c42e1ef3.js"><link rel="prefetch" href="/assets/js/215.4f0fa915.js"><link rel="prefetch" href="/assets/js/216.07c485c9.js"><link rel="prefetch" href="/assets/js/217.ada25e7a.js"><link rel="prefetch" href="/assets/js/218.2f761d3c.js"><link rel="prefetch" href="/assets/js/219.32d1a663.js"><link rel="prefetch" href="/assets/js/22.0b09d67f.js"><link rel="prefetch" href="/assets/js/220.36c56cf4.js"><link rel="prefetch" href="/assets/js/221.3e0431e2.js"><link rel="prefetch" href="/assets/js/222.90aa0ff7.js"><link rel="prefetch" href="/assets/js/223.5966d7df.js"><link rel="prefetch" href="/assets/js/224.7e2329e1.js"><link rel="prefetch" href="/assets/js/225.2ed3675d.js"><link rel="prefetch" href="/assets/js/226.fa3cef02.js"><link rel="prefetch" href="/assets/js/227.07bf7bca.js"><link rel="prefetch" href="/assets/js/228.9ac2589a.js"><link rel="prefetch" href="/assets/js/229.b980e141.js"><link rel="prefetch" href="/assets/js/23.31ed5c2f.js"><link rel="prefetch" href="/assets/js/230.2c32e874.js"><link rel="prefetch" href="/assets/js/231.723e20cb.js"><link rel="prefetch" href="/assets/js/232.1f94511c.js"><link rel="prefetch" href="/assets/js/233.2d477f71.js"><link rel="prefetch" href="/assets/js/234.10141c75.js"><link rel="prefetch" href="/assets/js/235.a328b127.js"><link rel="prefetch" href="/assets/js/236.42419c3b.js"><link rel="prefetch" href="/assets/js/237.648ca44e.js"><link rel="prefetch" href="/assets/js/238.4b363b75.js"><link rel="prefetch" href="/assets/js/239.fe711a73.js"><link rel="prefetch" href="/assets/js/24.fe75e3fa.js"><link rel="prefetch" href="/assets/js/240.6baa12bf.js"><link rel="prefetch" href="/assets/js/241.6f375dc4.js"><link rel="prefetch" href="/assets/js/242.aee8e39d.js"><link rel="prefetch" href="/assets/js/243.bfc7f6e1.js"><link rel="prefetch" href="/assets/js/244.c73a14a7.js"><link rel="prefetch" href="/assets/js/245.a2352aa1.js"><link rel="prefetch" href="/assets/js/246.b12c3ae6.js"><link rel="prefetch" href="/assets/js/247.2f768275.js"><link rel="prefetch" href="/assets/js/248.3f79dfb1.js"><link rel="prefetch" href="/assets/js/249.7fd0cb75.js"><link rel="prefetch" href="/assets/js/25.f2e379df.js"><link rel="prefetch" href="/assets/js/250.df3f1d0a.js"><link rel="prefetch" href="/assets/js/251.a3865750.js"><link rel="prefetch" href="/assets/js/252.d62542df.js"><link rel="prefetch" href="/assets/js/253.59b2f200.js"><link rel="prefetch" href="/assets/js/254.522d17b5.js"><link rel="prefetch" href="/assets/js/255.0f95a196.js"><link rel="prefetch" href="/assets/js/256.31b37cbe.js"><link rel="prefetch" href="/assets/js/257.ff22ad12.js"><link rel="prefetch" href="/assets/js/258.15205e0b.js"><link rel="prefetch" href="/assets/js/259.f3b7c5aa.js"><link rel="prefetch" href="/assets/js/26.45264b04.js"><link rel="prefetch" href="/assets/js/260.fec3c7aa.js"><link rel="prefetch" href="/assets/js/261.d965ee56.js"><link rel="prefetch" href="/assets/js/262.76a7105b.js"><link rel="prefetch" href="/assets/js/263.e684cc46.js"><link rel="prefetch" href="/assets/js/264.59297da0.js"><link rel="prefetch" href="/assets/js/265.66182ed2.js"><link rel="prefetch" href="/assets/js/266.eec50d90.js"><link rel="prefetch" href="/assets/js/267.c85bce12.js"><link rel="prefetch" href="/assets/js/268.ef544f0c.js"><link rel="prefetch" href="/assets/js/269.8cfb5c6a.js"><link rel="prefetch" href="/assets/js/27.4e065810.js"><link rel="prefetch" href="/assets/js/270.b66cab3c.js"><link rel="prefetch" href="/assets/js/271.c1b7d136.js"><link rel="prefetch" href="/assets/js/272.0d7950c3.js"><link rel="prefetch" href="/assets/js/273.06349cca.js"><link rel="prefetch" href="/assets/js/274.9b442c09.js"><link rel="prefetch" href="/assets/js/275.11082d81.js"><link rel="prefetch" href="/assets/js/276.ce0abe31.js"><link rel="prefetch" href="/assets/js/277.4b7fcc53.js"><link rel="prefetch" href="/assets/js/278.129d0397.js"><link rel="prefetch" href="/assets/js/279.5c021f7c.js"><link rel="prefetch" href="/assets/js/28.126ecd33.js"><link rel="prefetch" href="/assets/js/280.d183c9e3.js"><link rel="prefetch" href="/assets/js/281.0df67750.js"><link rel="prefetch" href="/assets/js/282.8fdd2372.js"><link rel="prefetch" href="/assets/js/283.dae956df.js"><link rel="prefetch" href="/assets/js/284.c5dc7189.js"><link rel="prefetch" href="/assets/js/285.7f5a7367.js"><link rel="prefetch" href="/assets/js/286.d9bfcef5.js"><link rel="prefetch" href="/assets/js/287.4fa6a5c5.js"><link rel="prefetch" href="/assets/js/288.57904d2d.js"><link rel="prefetch" href="/assets/js/289.b96d7c2f.js"><link rel="prefetch" href="/assets/js/29.8f5db82a.js"><link rel="prefetch" href="/assets/js/290.8dda9646.js"><link rel="prefetch" href="/assets/js/291.ab433493.js"><link rel="prefetch" href="/assets/js/292.e2d59796.js"><link rel="prefetch" href="/assets/js/293.30f9fcc4.js"><link rel="prefetch" href="/assets/js/294.158492dc.js"><link rel="prefetch" href="/assets/js/295.33e3a53d.js"><link rel="prefetch" href="/assets/js/296.49d7a2de.js"><link rel="prefetch" href="/assets/js/297.1b7572ac.js"><link rel="prefetch" href="/assets/js/298.00e4586a.js"><link rel="prefetch" href="/assets/js/299.d8fb6ff9.js"><link rel="prefetch" href="/assets/js/30.ef97cb8e.js"><link rel="prefetch" href="/assets/js/300.90e9dadf.js"><link rel="prefetch" href="/assets/js/301.d5592ea1.js"><link rel="prefetch" href="/assets/js/302.b08dc1ea.js"><link rel="prefetch" href="/assets/js/303.bef541c8.js"><link rel="prefetch" href="/assets/js/304.be3f7081.js"><link rel="prefetch" href="/assets/js/305.13718421.js"><link rel="prefetch" href="/assets/js/306.41685aa2.js"><link rel="prefetch" href="/assets/js/307.6d569102.js"><link rel="prefetch" href="/assets/js/308.aaabab89.js"><link rel="prefetch" href="/assets/js/309.910ecc42.js"><link rel="prefetch" href="/assets/js/31.795b3334.js"><link rel="prefetch" href="/assets/js/310.104b7753.js"><link rel="prefetch" href="/assets/js/311.45f4a7da.js"><link rel="prefetch" href="/assets/js/312.180c7e45.js"><link rel="prefetch" href="/assets/js/313.87d3a801.js"><link rel="prefetch" href="/assets/js/314.7739b1ef.js"><link rel="prefetch" href="/assets/js/315.54a1fac0.js"><link rel="prefetch" href="/assets/js/316.a978a787.js"><link rel="prefetch" href="/assets/js/317.84f65f2c.js"><link rel="prefetch" href="/assets/js/318.7f8caff8.js"><link rel="prefetch" href="/assets/js/319.0b5276f3.js"><link rel="prefetch" href="/assets/js/32.e65c7229.js"><link rel="prefetch" href="/assets/js/320.ba90589a.js"><link rel="prefetch" href="/assets/js/321.b6810c5a.js"><link rel="prefetch" href="/assets/js/322.2eaa727d.js"><link rel="prefetch" href="/assets/js/323.17573ee3.js"><link rel="prefetch" href="/assets/js/324.806fd6ca.js"><link rel="prefetch" href="/assets/js/325.4cd65079.js"><link rel="prefetch" href="/assets/js/326.fe0e2e22.js"><link rel="prefetch" href="/assets/js/327.a64d0209.js"><link rel="prefetch" href="/assets/js/328.aca1c89a.js"><link rel="prefetch" href="/assets/js/329.53ccf1dd.js"><link rel="prefetch" href="/assets/js/33.9a57aab8.js"><link rel="prefetch" href="/assets/js/330.92822a09.js"><link rel="prefetch" href="/assets/js/331.6b82baff.js"><link rel="prefetch" href="/assets/js/332.fc20f585.js"><link rel="prefetch" href="/assets/js/333.005ba8e3.js"><link rel="prefetch" href="/assets/js/334.9d3309b8.js"><link rel="prefetch" href="/assets/js/335.0e938f19.js"><link rel="prefetch" href="/assets/js/336.01fe9903.js"><link rel="prefetch" href="/assets/js/337.e207d67c.js"><link rel="prefetch" href="/assets/js/338.bfcf6bc8.js"><link rel="prefetch" href="/assets/js/339.a502aa64.js"><link rel="prefetch" href="/assets/js/34.3835d35c.js"><link rel="prefetch" href="/assets/js/340.3888b147.js"><link rel="prefetch" href="/assets/js/341.20297f95.js"><link rel="prefetch" href="/assets/js/342.9cd149e9.js"><link rel="prefetch" href="/assets/js/343.faac8369.js"><link rel="prefetch" href="/assets/js/344.da8cd079.js"><link rel="prefetch" href="/assets/js/345.78303b88.js"><link rel="prefetch" href="/assets/js/346.d8eaca82.js"><link rel="prefetch" href="/assets/js/347.edd389a1.js"><link rel="prefetch" href="/assets/js/348.21ee9617.js"><link rel="prefetch" href="/assets/js/349.0251471a.js"><link rel="prefetch" href="/assets/js/35.76dc7096.js"><link rel="prefetch" href="/assets/js/350.710b7d30.js"><link rel="prefetch" href="/assets/js/351.535f8d60.js"><link rel="prefetch" href="/assets/js/352.c66fe42e.js"><link rel="prefetch" href="/assets/js/353.ebbcd333.js"><link rel="prefetch" href="/assets/js/354.7cbba2f1.js"><link rel="prefetch" href="/assets/js/355.0106db16.js"><link rel="prefetch" href="/assets/js/356.7debf350.js"><link rel="prefetch" href="/assets/js/357.a43eb887.js"><link rel="prefetch" href="/assets/js/358.28e5d2ed.js"><link rel="prefetch" href="/assets/js/359.956fc3b8.js"><link rel="prefetch" href="/assets/js/36.fc54452c.js"><link rel="prefetch" href="/assets/js/360.13fb600a.js"><link rel="prefetch" href="/assets/js/361.d100f85b.js"><link rel="prefetch" href="/assets/js/362.35277df2.js"><link rel="prefetch" href="/assets/js/363.d993a7fc.js"><link rel="prefetch" href="/assets/js/364.0168c2b0.js"><link rel="prefetch" href="/assets/js/365.bc8af0bb.js"><link rel="prefetch" href="/assets/js/366.2645dc0d.js"><link rel="prefetch" href="/assets/js/367.87368acb.js"><link rel="prefetch" href="/assets/js/368.0b7d41fc.js"><link rel="prefetch" href="/assets/js/369.4bf3f46e.js"><link rel="prefetch" href="/assets/js/37.5a47cee9.js"><link rel="prefetch" href="/assets/js/370.ea5f965e.js"><link rel="prefetch" href="/assets/js/371.1af764ef.js"><link rel="prefetch" href="/assets/js/372.bf6c68e2.js"><link rel="prefetch" href="/assets/js/373.1a605cc8.js"><link rel="prefetch" href="/assets/js/374.34a41a4a.js"><link rel="prefetch" href="/assets/js/375.1d2d3776.js"><link rel="prefetch" href="/assets/js/376.4b7b0b10.js"><link rel="prefetch" href="/assets/js/377.b3d9748a.js"><link rel="prefetch" href="/assets/js/378.7f00fa88.js"><link rel="prefetch" href="/assets/js/379.adcd298a.js"><link rel="prefetch" href="/assets/js/38.6614c565.js"><link rel="prefetch" href="/assets/js/380.6d08bb56.js"><link rel="prefetch" href="/assets/js/381.164bb4e3.js"><link rel="prefetch" href="/assets/js/382.f71f0ca4.js"><link rel="prefetch" href="/assets/js/383.01ba70ad.js"><link rel="prefetch" href="/assets/js/384.22b98cde.js"><link rel="prefetch" href="/assets/js/385.5f1298a9.js"><link rel="prefetch" href="/assets/js/386.01a912bc.js"><link rel="prefetch" href="/assets/js/387.3db4713f.js"><link rel="prefetch" href="/assets/js/388.4cde7d0f.js"><link rel="prefetch" href="/assets/js/389.d96bafad.js"><link rel="prefetch" href="/assets/js/39.1a09ed15.js"><link rel="prefetch" href="/assets/js/390.343bbc06.js"><link rel="prefetch" href="/assets/js/391.68b3e72a.js"><link rel="prefetch" href="/assets/js/392.f4f15e43.js"><link rel="prefetch" href="/assets/js/393.82475934.js"><link rel="prefetch" href="/assets/js/394.3101ea10.js"><link rel="prefetch" href="/assets/js/395.34083342.js"><link rel="prefetch" href="/assets/js/396.780d6efe.js"><link rel="prefetch" href="/assets/js/397.cb686f39.js"><link rel="prefetch" href="/assets/js/398.c4ad669f.js"><link rel="prefetch" href="/assets/js/399.ee8d28ad.js"><link rel="prefetch" href="/assets/js/4.c1dcb1a7.js"><link rel="prefetch" href="/assets/js/40.4216f4f9.js"><link rel="prefetch" href="/assets/js/400.23d48a38.js"><link rel="prefetch" href="/assets/js/401.319d7a68.js"><link rel="prefetch" href="/assets/js/402.25b27bd0.js"><link rel="prefetch" href="/assets/js/403.9a898a40.js"><link rel="prefetch" href="/assets/js/404.e3b49b79.js"><link rel="prefetch" href="/assets/js/405.7695b9f1.js"><link rel="prefetch" href="/assets/js/406.edb801f7.js"><link rel="prefetch" href="/assets/js/407.03c3f725.js"><link rel="prefetch" href="/assets/js/408.4345ef1f.js"><link rel="prefetch" href="/assets/js/409.77c34447.js"><link rel="prefetch" href="/assets/js/41.f035663a.js"><link rel="prefetch" href="/assets/js/410.7f6c0744.js"><link rel="prefetch" href="/assets/js/411.cb19323e.js"><link rel="prefetch" href="/assets/js/412.4b16959d.js"><link rel="prefetch" href="/assets/js/413.ff4f1ca2.js"><link rel="prefetch" href="/assets/js/414.b1ca1298.js"><link rel="prefetch" href="/assets/js/415.c2111593.js"><link rel="prefetch" href="/assets/js/416.a6d18039.js"><link rel="prefetch" href="/assets/js/417.dc36c66d.js"><link rel="prefetch" href="/assets/js/418.e7eba879.js"><link rel="prefetch" href="/assets/js/419.57673b9e.js"><link rel="prefetch" href="/assets/js/42.9c8cf569.js"><link rel="prefetch" href="/assets/js/420.ccd41fe0.js"><link rel="prefetch" href="/assets/js/421.ea69f0b0.js"><link rel="prefetch" href="/assets/js/422.093448e2.js"><link rel="prefetch" href="/assets/js/423.ae003f31.js"><link rel="prefetch" href="/assets/js/424.f670cd2b.js"><link rel="prefetch" href="/assets/js/425.6e814335.js"><link rel="prefetch" href="/assets/js/426.faf45206.js"><link rel="prefetch" href="/assets/js/427.cf6be942.js"><link rel="prefetch" href="/assets/js/428.9ff6199c.js"><link rel="prefetch" href="/assets/js/429.b6ef4678.js"><link rel="prefetch" href="/assets/js/43.717fe06b.js"><link rel="prefetch" href="/assets/js/430.e9575d07.js"><link rel="prefetch" href="/assets/js/431.8bf26a3e.js"><link rel="prefetch" href="/assets/js/432.5eaa2162.js"><link rel="prefetch" href="/assets/js/433.6dab12a1.js"><link rel="prefetch" href="/assets/js/434.fca918e8.js"><link rel="prefetch" href="/assets/js/435.4c8f9ad9.js"><link rel="prefetch" href="/assets/js/436.0f0de1a8.js"><link rel="prefetch" href="/assets/js/437.2221ab9f.js"><link rel="prefetch" href="/assets/js/438.37f28cfb.js"><link rel="prefetch" href="/assets/js/439.1e3f3611.js"><link rel="prefetch" href="/assets/js/44.705dc411.js"><link rel="prefetch" href="/assets/js/440.28ab35e8.js"><link rel="prefetch" href="/assets/js/441.8d006af8.js"><link rel="prefetch" href="/assets/js/442.2618a6e3.js"><link rel="prefetch" href="/assets/js/443.a7723674.js"><link rel="prefetch" href="/assets/js/444.18f23e7c.js"><link rel="prefetch" href="/assets/js/445.f4807c5a.js"><link rel="prefetch" href="/assets/js/446.77a5afc2.js"><link rel="prefetch" href="/assets/js/447.7f653483.js"><link rel="prefetch" href="/assets/js/448.1143c566.js"><link rel="prefetch" href="/assets/js/449.b788a288.js"><link rel="prefetch" href="/assets/js/45.6a225373.js"><link rel="prefetch" href="/assets/js/450.b6463ba3.js"><link rel="prefetch" href="/assets/js/451.fd4d46b9.js"><link rel="prefetch" href="/assets/js/452.e8de4fc2.js"><link rel="prefetch" href="/assets/js/453.4125e5e6.js"><link rel="prefetch" href="/assets/js/454.30af5d0a.js"><link rel="prefetch" href="/assets/js/455.9c919e58.js"><link rel="prefetch" href="/assets/js/456.22dbfa8f.js"><link rel="prefetch" href="/assets/js/457.e9c5248a.js"><link rel="prefetch" href="/assets/js/458.c0a9cf1d.js"><link rel="prefetch" href="/assets/js/459.b5e96042.js"><link rel="prefetch" href="/assets/js/46.515d085a.js"><link rel="prefetch" href="/assets/js/460.b4097efb.js"><link rel="prefetch" href="/assets/js/461.5d545741.js"><link rel="prefetch" href="/assets/js/462.402d4cdd.js"><link rel="prefetch" href="/assets/js/463.e6d6ea07.js"><link rel="prefetch" href="/assets/js/464.df817445.js"><link rel="prefetch" href="/assets/js/465.18a6bc2b.js"><link rel="prefetch" href="/assets/js/466.da313c0c.js"><link rel="prefetch" href="/assets/js/467.41294182.js"><link rel="prefetch" href="/assets/js/468.41c59467.js"><link rel="prefetch" href="/assets/js/469.d55da13c.js"><link rel="prefetch" href="/assets/js/47.a41193df.js"><link rel="prefetch" href="/assets/js/470.7457a92e.js"><link rel="prefetch" href="/assets/js/471.ed739bdf.js"><link rel="prefetch" href="/assets/js/472.83882459.js"><link rel="prefetch" href="/assets/js/473.fe2df51c.js"><link rel="prefetch" href="/assets/js/474.d40797b8.js"><link rel="prefetch" href="/assets/js/475.a00992a2.js"><link rel="prefetch" href="/assets/js/476.c7687189.js"><link rel="prefetch" href="/assets/js/477.fd4fd227.js"><link rel="prefetch" href="/assets/js/478.1ae08c3b.js"><link rel="prefetch" href="/assets/js/479.04a246c6.js"><link rel="prefetch" href="/assets/js/48.fe693306.js"><link rel="prefetch" href="/assets/js/480.36acb4ff.js"><link rel="prefetch" href="/assets/js/481.05d3129e.js"><link rel="prefetch" href="/assets/js/482.1741a02c.js"><link rel="prefetch" href="/assets/js/483.44cf2d25.js"><link rel="prefetch" href="/assets/js/484.9c14e5c6.js"><link rel="prefetch" href="/assets/js/485.ea0c1de1.js"><link rel="prefetch" href="/assets/js/486.8c683697.js"><link rel="prefetch" href="/assets/js/487.8b1eb604.js"><link rel="prefetch" href="/assets/js/488.ae16fca6.js"><link rel="prefetch" href="/assets/js/489.7f674a0d.js"><link rel="prefetch" href="/assets/js/49.a7d05a3d.js"><link rel="prefetch" href="/assets/js/490.52983854.js"><link rel="prefetch" href="/assets/js/491.968e7af4.js"><link rel="prefetch" href="/assets/js/492.e7f58bac.js"><link rel="prefetch" href="/assets/js/493.55afbb68.js"><link rel="prefetch" href="/assets/js/494.ac17d05b.js"><link rel="prefetch" href="/assets/js/495.d1ca2a12.js"><link rel="prefetch" href="/assets/js/496.d6841a0e.js"><link rel="prefetch" href="/assets/js/497.99431b4b.js"><link rel="prefetch" href="/assets/js/498.cacac1d8.js"><link rel="prefetch" href="/assets/js/499.c6b7fab0.js"><link rel="prefetch" href="/assets/js/5.f74a04c4.js"><link rel="prefetch" href="/assets/js/50.f59b29ea.js"><link rel="prefetch" href="/assets/js/500.abba24c7.js"><link rel="prefetch" href="/assets/js/501.e9496674.js"><link rel="prefetch" href="/assets/js/502.3ece0e86.js"><link rel="prefetch" href="/assets/js/503.974421d1.js"><link rel="prefetch" href="/assets/js/504.6e8d8539.js"><link rel="prefetch" href="/assets/js/505.b8161483.js"><link rel="prefetch" href="/assets/js/506.a6a6f2de.js"><link rel="prefetch" href="/assets/js/507.9c6955ee.js"><link rel="prefetch" href="/assets/js/508.223e145d.js"><link rel="prefetch" href="/assets/js/509.553e6f2c.js"><link rel="prefetch" href="/assets/js/51.428c5495.js"><link rel="prefetch" href="/assets/js/510.46e2eab7.js"><link rel="prefetch" href="/assets/js/511.24962b3f.js"><link rel="prefetch" href="/assets/js/512.a29fe236.js"><link rel="prefetch" href="/assets/js/513.8729b339.js"><link rel="prefetch" href="/assets/js/514.41199019.js"><link rel="prefetch" href="/assets/js/515.b1a71e99.js"><link rel="prefetch" href="/assets/js/516.001e3634.js"><link rel="prefetch" href="/assets/js/517.4de05581.js"><link rel="prefetch" href="/assets/js/518.57697c31.js"><link rel="prefetch" href="/assets/js/519.e962365e.js"><link rel="prefetch" href="/assets/js/52.c97c3911.js"><link rel="prefetch" href="/assets/js/520.e7775961.js"><link rel="prefetch" href="/assets/js/521.05b0ce57.js"><link rel="prefetch" href="/assets/js/522.49f7412e.js"><link rel="prefetch" href="/assets/js/523.b3d821b2.js"><link rel="prefetch" href="/assets/js/524.ab2395b7.js"><link rel="prefetch" href="/assets/js/525.25559bb4.js"><link rel="prefetch" href="/assets/js/526.23111d2a.js"><link rel="prefetch" href="/assets/js/527.c61f6e86.js"><link rel="prefetch" href="/assets/js/528.032fa7b6.js"><link rel="prefetch" href="/assets/js/529.3953f346.js"><link rel="prefetch" href="/assets/js/53.77f22b1a.js"><link rel="prefetch" href="/assets/js/530.b882066e.js"><link rel="prefetch" href="/assets/js/531.62dddf23.js"><link rel="prefetch" href="/assets/js/532.1826fe1a.js"><link rel="prefetch" href="/assets/js/533.a2e014bb.js"><link rel="prefetch" href="/assets/js/534.d5d89c00.js"><link rel="prefetch" href="/assets/js/535.4e5d7739.js"><link rel="prefetch" href="/assets/js/536.f2c700db.js"><link rel="prefetch" href="/assets/js/537.80aa278c.js"><link rel="prefetch" href="/assets/js/538.95e2f471.js"><link rel="prefetch" href="/assets/js/539.4e4ecfe8.js"><link rel="prefetch" href="/assets/js/54.d85b2f2e.js"><link rel="prefetch" href="/assets/js/540.00bd44e5.js"><link rel="prefetch" href="/assets/js/541.d740df14.js"><link rel="prefetch" href="/assets/js/542.5aadeaee.js"><link rel="prefetch" href="/assets/js/543.d42c9d9a.js"><link rel="prefetch" href="/assets/js/544.29704685.js"><link rel="prefetch" href="/assets/js/545.7fdb1a83.js"><link rel="prefetch" href="/assets/js/546.6b5655ea.js"><link rel="prefetch" href="/assets/js/547.c98e27c4.js"><link rel="prefetch" href="/assets/js/548.8edec06f.js"><link rel="prefetch" href="/assets/js/549.33b8eae3.js"><link rel="prefetch" href="/assets/js/55.80a4fa71.js"><link rel="prefetch" href="/assets/js/550.cb706b0e.js"><link rel="prefetch" href="/assets/js/551.79598cc6.js"><link rel="prefetch" href="/assets/js/552.69aa5f8b.js"><link rel="prefetch" href="/assets/js/553.7ccb8831.js"><link rel="prefetch" href="/assets/js/554.954013b2.js"><link rel="prefetch" href="/assets/js/555.960d7f8b.js"><link rel="prefetch" href="/assets/js/556.5c054c14.js"><link rel="prefetch" href="/assets/js/557.890045ea.js"><link rel="prefetch" href="/assets/js/558.f72f6668.js"><link rel="prefetch" href="/assets/js/559.452d8ff3.js"><link rel="prefetch" href="/assets/js/56.009b0340.js"><link rel="prefetch" href="/assets/js/560.1656e33f.js"><link rel="prefetch" href="/assets/js/561.bb4650eb.js"><link rel="prefetch" href="/assets/js/562.7322fd81.js"><link rel="prefetch" href="/assets/js/563.a34a68ea.js"><link rel="prefetch" href="/assets/js/564.6da92e18.js"><link rel="prefetch" href="/assets/js/565.01d288e5.js"><link rel="prefetch" href="/assets/js/566.6a3459a1.js"><link rel="prefetch" href="/assets/js/567.e3eb8e54.js"><link rel="prefetch" href="/assets/js/568.f95e0fba.js"><link rel="prefetch" href="/assets/js/569.a42d134c.js"><link rel="prefetch" href="/assets/js/57.25e8dd1c.js"><link rel="prefetch" href="/assets/js/570.87887d15.js"><link rel="prefetch" href="/assets/js/571.ce4b478b.js"><link rel="prefetch" href="/assets/js/572.634418a6.js"><link rel="prefetch" href="/assets/js/573.cd4cf02b.js"><link rel="prefetch" href="/assets/js/574.8bf073fa.js"><link rel="prefetch" href="/assets/js/575.c194dddb.js"><link rel="prefetch" href="/assets/js/576.7750193f.js"><link rel="prefetch" href="/assets/js/577.5daa388a.js"><link rel="prefetch" href="/assets/js/578.54bb0029.js"><link rel="prefetch" href="/assets/js/579.92f58c76.js"><link rel="prefetch" href="/assets/js/58.9c1eb9e5.js"><link rel="prefetch" href="/assets/js/580.0e543efb.js"><link rel="prefetch" href="/assets/js/581.4e0b0b47.js"><link rel="prefetch" href="/assets/js/582.8c172f83.js"><link rel="prefetch" href="/assets/js/583.c91c43e0.js"><link rel="prefetch" href="/assets/js/584.ca68d52b.js"><link rel="prefetch" href="/assets/js/585.663b17d3.js"><link rel="prefetch" href="/assets/js/586.9494847d.js"><link rel="prefetch" href="/assets/js/587.f3805773.js"><link rel="prefetch" href="/assets/js/588.8ae14be1.js"><link rel="prefetch" href="/assets/js/589.b4af88be.js"><link rel="prefetch" href="/assets/js/59.2a730e41.js"><link rel="prefetch" href="/assets/js/590.fb77fea8.js"><link rel="prefetch" href="/assets/js/591.a3aaa57c.js"><link rel="prefetch" href="/assets/js/592.54ec5f32.js"><link rel="prefetch" href="/assets/js/593.96eab5cb.js"><link rel="prefetch" href="/assets/js/594.e356725c.js"><link rel="prefetch" href="/assets/js/595.0a2c4ad4.js"><link rel="prefetch" href="/assets/js/596.2c075cd8.js"><link rel="prefetch" href="/assets/js/597.e904811b.js"><link rel="prefetch" href="/assets/js/598.f6ca8b71.js"><link rel="prefetch" href="/assets/js/599.ae3d12c4.js"><link rel="prefetch" href="/assets/js/6.451e012f.js"><link rel="prefetch" href="/assets/js/60.e6b60343.js"><link rel="prefetch" href="/assets/js/600.e71a0062.js"><link rel="prefetch" href="/assets/js/601.2571a19d.js"><link rel="prefetch" href="/assets/js/602.0f4fa961.js"><link rel="prefetch" href="/assets/js/603.d8387c37.js"><link rel="prefetch" href="/assets/js/604.69433906.js"><link rel="prefetch" href="/assets/js/605.1bc7d87a.js"><link rel="prefetch" href="/assets/js/606.ec419517.js"><link rel="prefetch" href="/assets/js/607.b473fb0b.js"><link rel="prefetch" href="/assets/js/608.a361b48c.js"><link rel="prefetch" href="/assets/js/609.9186f226.js"><link rel="prefetch" href="/assets/js/61.d50a156d.js"><link rel="prefetch" href="/assets/js/610.ff3cf241.js"><link rel="prefetch" href="/assets/js/611.c3c7e648.js"><link rel="prefetch" href="/assets/js/612.2a520ebd.js"><link rel="prefetch" href="/assets/js/613.42936ffc.js"><link rel="prefetch" href="/assets/js/614.3ca0de21.js"><link rel="prefetch" href="/assets/js/615.ecf60a47.js"><link rel="prefetch" href="/assets/js/616.17185e83.js"><link rel="prefetch" href="/assets/js/617.769d4cdf.js"><link rel="prefetch" href="/assets/js/618.015c6376.js"><link rel="prefetch" href="/assets/js/619.3af186d0.js"><link rel="prefetch" href="/assets/js/62.e24b7811.js"><link rel="prefetch" href="/assets/js/620.f8ff3784.js"><link rel="prefetch" href="/assets/js/621.4c21311f.js"><link rel="prefetch" href="/assets/js/622.355178df.js"><link rel="prefetch" href="/assets/js/623.45a30695.js"><link rel="prefetch" href="/assets/js/624.61e89d34.js"><link rel="prefetch" href="/assets/js/625.49e0d1ce.js"><link rel="prefetch" href="/assets/js/626.1b7ae767.js"><link rel="prefetch" href="/assets/js/627.b8c507cf.js"><link rel="prefetch" href="/assets/js/628.c5a43517.js"><link rel="prefetch" href="/assets/js/629.274eb0fd.js"><link rel="prefetch" href="/assets/js/63.b804baab.js"><link rel="prefetch" href="/assets/js/630.69e055ce.js"><link rel="prefetch" href="/assets/js/631.0892fc51.js"><link rel="prefetch" href="/assets/js/632.6a68e9a2.js"><link rel="prefetch" href="/assets/js/633.d536fe74.js"><link rel="prefetch" href="/assets/js/634.24695f39.js"><link rel="prefetch" href="/assets/js/635.3aeede9c.js"><link rel="prefetch" href="/assets/js/636.3628d8a6.js"><link rel="prefetch" href="/assets/js/637.40af5a79.js"><link rel="prefetch" href="/assets/js/638.15e257ae.js"><link rel="prefetch" href="/assets/js/639.31e6597c.js"><link rel="prefetch" href="/assets/js/64.eb5699ff.js"><link rel="prefetch" href="/assets/js/640.a071f6df.js"><link rel="prefetch" href="/assets/js/641.f9edd7bf.js"><link rel="prefetch" href="/assets/js/642.adcb583f.js"><link rel="prefetch" href="/assets/js/643.7c98a990.js"><link rel="prefetch" href="/assets/js/644.fb1213d8.js"><link rel="prefetch" href="/assets/js/645.220a5034.js"><link rel="prefetch" href="/assets/js/646.d66a419b.js"><link rel="prefetch" href="/assets/js/647.12ef89ab.js"><link rel="prefetch" href="/assets/js/648.a3112300.js"><link rel="prefetch" href="/assets/js/649.f457dfa5.js"><link rel="prefetch" href="/assets/js/65.0d8501b5.js"><link rel="prefetch" href="/assets/js/650.cc63d03b.js"><link rel="prefetch" href="/assets/js/651.16d1bbd6.js"><link rel="prefetch" href="/assets/js/652.0f5343f0.js"><link rel="prefetch" href="/assets/js/653.28f7710a.js"><link rel="prefetch" href="/assets/js/654.b343d473.js"><link rel="prefetch" href="/assets/js/655.215fe67b.js"><link rel="prefetch" href="/assets/js/656.79aa1653.js"><link rel="prefetch" href="/assets/js/657.c57f2b5c.js"><link rel="prefetch" href="/assets/js/658.d0aa0b95.js"><link rel="prefetch" href="/assets/js/659.2dfaed93.js"><link rel="prefetch" href="/assets/js/66.8361cc16.js"><link rel="prefetch" href="/assets/js/660.c00b347e.js"><link rel="prefetch" href="/assets/js/661.ecc4f968.js"><link rel="prefetch" href="/assets/js/662.06f83919.js"><link rel="prefetch" href="/assets/js/663.67d8849e.js"><link rel="prefetch" href="/assets/js/664.74dba1a9.js"><link rel="prefetch" href="/assets/js/665.28b450f0.js"><link rel="prefetch" href="/assets/js/666.0f4bb6ba.js"><link rel="prefetch" href="/assets/js/667.586074e3.js"><link rel="prefetch" href="/assets/js/668.b13c0e70.js"><link rel="prefetch" href="/assets/js/669.9d0d4cbc.js"><link rel="prefetch" href="/assets/js/67.37f46ba2.js"><link rel="prefetch" href="/assets/js/670.6b36ca72.js"><link rel="prefetch" href="/assets/js/671.33b2e754.js"><link rel="prefetch" href="/assets/js/672.3b02c287.js"><link rel="prefetch" href="/assets/js/673.3f274929.js"><link rel="prefetch" href="/assets/js/674.7d75584f.js"><link rel="prefetch" href="/assets/js/675.0de52334.js"><link rel="prefetch" href="/assets/js/676.6734133e.js"><link rel="prefetch" href="/assets/js/677.c6f4a973.js"><link rel="prefetch" href="/assets/js/678.1344b6be.js"><link rel="prefetch" href="/assets/js/679.23fed56f.js"><link rel="prefetch" href="/assets/js/68.27dbce5b.js"><link rel="prefetch" href="/assets/js/680.c49329d6.js"><link rel="prefetch" href="/assets/js/681.8df66615.js"><link rel="prefetch" href="/assets/js/682.77b4bff8.js"><link rel="prefetch" href="/assets/js/683.6cf41cf4.js"><link rel="prefetch" href="/assets/js/684.58deecd5.js"><link rel="prefetch" href="/assets/js/685.d2f7480e.js"><link rel="prefetch" href="/assets/js/686.0b77a241.js"><link rel="prefetch" href="/assets/js/687.2cc04b4f.js"><link rel="prefetch" href="/assets/js/688.da24cbae.js"><link rel="prefetch" href="/assets/js/689.a9961f74.js"><link rel="prefetch" href="/assets/js/69.8052a977.js"><link rel="prefetch" href="/assets/js/690.cb736269.js"><link rel="prefetch" href="/assets/js/691.21c13be1.js"><link rel="prefetch" href="/assets/js/692.3ed557d0.js"><link rel="prefetch" href="/assets/js/693.066efe93.js"><link rel="prefetch" href="/assets/js/694.5368f98a.js"><link rel="prefetch" href="/assets/js/695.4fdb93d5.js"><link rel="prefetch" href="/assets/js/696.9c055ac6.js"><link rel="prefetch" href="/assets/js/697.51e0c47c.js"><link rel="prefetch" href="/assets/js/698.08ca1dbd.js"><link rel="prefetch" href="/assets/js/699.ce7e9e2a.js"><link rel="prefetch" href="/assets/js/7.7e21c947.js"><link rel="prefetch" href="/assets/js/70.19faeb78.js"><link rel="prefetch" href="/assets/js/700.3676fa7f.js"><link rel="prefetch" href="/assets/js/701.82db4887.js"><link rel="prefetch" href="/assets/js/702.73425f22.js"><link rel="prefetch" href="/assets/js/703.d9391c74.js"><link rel="prefetch" href="/assets/js/704.d6e275cf.js"><link rel="prefetch" href="/assets/js/705.d2f23969.js"><link rel="prefetch" href="/assets/js/706.1c66dcc1.js"><link rel="prefetch" href="/assets/js/707.0fc5a26a.js"><link rel="prefetch" href="/assets/js/708.97471ee6.js"><link rel="prefetch" href="/assets/js/709.9b4d5665.js"><link rel="prefetch" href="/assets/js/71.d1683810.js"><link rel="prefetch" href="/assets/js/710.75fa8103.js"><link rel="prefetch" href="/assets/js/711.43777b40.js"><link rel="prefetch" href="/assets/js/712.5c583e39.js"><link rel="prefetch" href="/assets/js/713.5aa72111.js"><link rel="prefetch" href="/assets/js/714.e8215702.js"><link rel="prefetch" href="/assets/js/715.46614e7c.js"><link rel="prefetch" href="/assets/js/716.eaac6d69.js"><link rel="prefetch" href="/assets/js/717.c344c042.js"><link rel="prefetch" href="/assets/js/718.437bf0b2.js"><link rel="prefetch" href="/assets/js/719.23aa3deb.js"><link rel="prefetch" href="/assets/js/72.9fa783f0.js"><link rel="prefetch" href="/assets/js/720.9456a449.js"><link rel="prefetch" href="/assets/js/721.67fd324a.js"><link rel="prefetch" href="/assets/js/722.fc5e79ca.js"><link rel="prefetch" href="/assets/js/723.46db8115.js"><link rel="prefetch" href="/assets/js/724.31a11b8c.js"><link rel="prefetch" href="/assets/js/725.49cef603.js"><link rel="prefetch" href="/assets/js/726.7d0a2e7f.js"><link rel="prefetch" href="/assets/js/727.a1de6f02.js"><link rel="prefetch" href="/assets/js/728.7e0a727e.js"><link rel="prefetch" href="/assets/js/729.b6bf04fa.js"><link rel="prefetch" href="/assets/js/73.1ac0ac37.js"><link rel="prefetch" href="/assets/js/730.1c102528.js"><link rel="prefetch" href="/assets/js/731.80403e3d.js"><link rel="prefetch" href="/assets/js/732.cf8b4a6d.js"><link rel="prefetch" href="/assets/js/733.aab88d38.js"><link rel="prefetch" href="/assets/js/734.965a0adc.js"><link rel="prefetch" href="/assets/js/735.f9d33608.js"><link rel="prefetch" href="/assets/js/736.d1621f9e.js"><link rel="prefetch" href="/assets/js/737.a12ea0d3.js"><link rel="prefetch" href="/assets/js/738.96e61512.js"><link rel="prefetch" href="/assets/js/739.9bce4dfe.js"><link rel="prefetch" href="/assets/js/74.1913daec.js"><link rel="prefetch" href="/assets/js/740.c1a0bf7b.js"><link rel="prefetch" href="/assets/js/741.0185115e.js"><link rel="prefetch" href="/assets/js/742.21e99d78.js"><link rel="prefetch" href="/assets/js/743.e5f2407e.js"><link rel="prefetch" href="/assets/js/744.53d4e25a.js"><link rel="prefetch" href="/assets/js/745.9fb6722c.js"><link rel="prefetch" href="/assets/js/746.893e3a2f.js"><link rel="prefetch" href="/assets/js/747.ad94fed4.js"><link rel="prefetch" href="/assets/js/748.3421b09b.js"><link rel="prefetch" href="/assets/js/749.15c364e9.js"><link rel="prefetch" href="/assets/js/75.d63a9540.js"><link rel="prefetch" href="/assets/js/750.4e5379b7.js"><link rel="prefetch" href="/assets/js/751.18b0273f.js"><link rel="prefetch" href="/assets/js/752.24717596.js"><link rel="prefetch" href="/assets/js/753.5868bcc4.js"><link rel="prefetch" href="/assets/js/754.77808a6c.js"><link rel="prefetch" href="/assets/js/755.af7f7a71.js"><link rel="prefetch" href="/assets/js/76.342d837c.js"><link rel="prefetch" href="/assets/js/77.466349c3.js"><link rel="prefetch" href="/assets/js/78.886d05b6.js"><link rel="prefetch" href="/assets/js/79.b478bdab.js"><link rel="prefetch" href="/assets/js/8.9f40767d.js"><link rel="prefetch" href="/assets/js/80.9205cc43.js"><link rel="prefetch" href="/assets/js/81.77f831c9.js"><link rel="prefetch" href="/assets/js/82.650475d1.js"><link rel="prefetch" href="/assets/js/83.aa7e3d4b.js"><link rel="prefetch" href="/assets/js/84.2fc92fb4.js"><link rel="prefetch" href="/assets/js/85.0f633e10.js"><link rel="prefetch" href="/assets/js/86.e862f4bc.js"><link rel="prefetch" href="/assets/js/87.8a869468.js"><link rel="prefetch" href="/assets/js/88.6c584051.js"><link rel="prefetch" href="/assets/js/89.3ab84e02.js"><link rel="prefetch" href="/assets/js/9.7ed864ce.js"><link rel="prefetch" href="/assets/js/90.41e6925d.js"><link rel="prefetch" href="/assets/js/91.55055993.js"><link rel="prefetch" href="/assets/js/92.ced7b439.js"><link rel="prefetch" href="/assets/js/93.41cc8a7f.js"><link rel="prefetch" href="/assets/js/94.6d2b144f.js"><link rel="prefetch" href="/assets/js/95.399a7909.js"><link rel="prefetch" href="/assets/js/96.556f8f9f.js"><link rel="prefetch" href="/assets/js/97.47ecdf46.js"><link rel="prefetch" href="/assets/js/98.fdbe6822.js"><link rel="prefetch" href="/assets/js/99.db8442e4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ece31e0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Fanx 知识库" class="logo"> <span class="site-name can-hide">Fanx 知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/779590/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/pages/dc7834/" class="nav-link">Java集合框架</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d7db/" class="nav-link">Java多线程并发</a></li><li class="dropdown-item"><!----> <a href="/pages/dbec4d/" class="nav-link">JavaIo&amp;NIO&amp;AIO</a></li><li class="dropdown-item"><!----> <a href="/pages/b908ce/" class="nav-link">JDK相关特性</a></li><li class="dropdown-item"><!----> <a href="/pages/e59bea/" class="nav-link">JVM相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f8c059/" class="nav-link">数据库基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/d192fd/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/8aa877/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/077e7c/" class="nav-link">MogoDb</a></li><li class="dropdown-item"><!----> <a href="/pages/68281b/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/commonFrameworks/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/8f6500/" class="nav-link">Spring Framework 5基础</a></li><li class="dropdown-item"><!----> <a href="/pages/7c08d4/" class="nav-link">SpringBoot 2.5.x系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源代码学习" class="dropdown-title"><!----> <span class="title" style="display:;">源代码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/23a632/" class="nav-link">mybatis源码学习</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/java/" class="nav-link">java源代码</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/spring/" class="nav-link">Spring源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><!----> <span class="title" style="display:;">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2cef48/" class="nav-link">Java 基础</a></li><li class="dropdown-item"><!----> <a href="/pages/ad2692/" class="nav-link">Spring 框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用的技术工具" class="dropdown-title"><!----> <span class="title" style="display:;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/linux/common/" class="nav-link">linux常用命令实践</a></li><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">Mavan</a></li><li class="dropdown-item"><!----> <a href="/pages/b25802/" class="nav-link">开发工具详解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它语言" class="dropdown-title"><!----> <span class="title" style="display:;">其它语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fc414d/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题总结" class="dropdown-title"><!----> <span class="title" style="display:;">问题总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/question/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/4d0fa7/" class="nav-link">团队相关</a></li><li class="dropdown-item"><!----> <a href="/pages/75c3d7/" class="nav-link">fanx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/caf303/" class="nav-link">数据结构基础</a></li><li class="dropdown-item"><!----> <a href="/pages/395e23/" class="nav-link">常见排序算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fa3dd3/" class="nav-link">算法思想</a></li><li class="dropdown-item"><!----> <a href="/pages/79d342/" class="nav-link">一些领域算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fdb54d/" class="nav-link">其它算法相关</a></li></ul></div></div> <a href="https://fanxgit.github.io/fanxNotes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/779590/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/pages/dc7834/" class="nav-link">Java集合框架</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d7db/" class="nav-link">Java多线程并发</a></li><li class="dropdown-item"><!----> <a href="/pages/dbec4d/" class="nav-link">JavaIo&amp;NIO&amp;AIO</a></li><li class="dropdown-item"><!----> <a href="/pages/b908ce/" class="nav-link">JDK相关特性</a></li><li class="dropdown-item"><!----> <a href="/pages/e59bea/" class="nav-link">JVM相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f8c059/" class="nav-link">数据库基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/d192fd/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/8aa877/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/077e7c/" class="nav-link">MogoDb</a></li><li class="dropdown-item"><!----> <a href="/pages/68281b/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/commonFrameworks/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/8f6500/" class="nav-link">Spring Framework 5基础</a></li><li class="dropdown-item"><!----> <a href="/pages/7c08d4/" class="nav-link">SpringBoot 2.5.x系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源代码学习" class="dropdown-title"><!----> <span class="title" style="display:;">源代码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/23a632/" class="nav-link">mybatis源码学习</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/java/" class="nav-link">java源代码</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/spring/" class="nav-link">Spring源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><!----> <span class="title" style="display:;">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2cef48/" class="nav-link">Java 基础</a></li><li class="dropdown-item"><!----> <a href="/pages/ad2692/" class="nav-link">Spring 框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用的技术工具" class="dropdown-title"><!----> <span class="title" style="display:;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/linux/common/" class="nav-link">linux常用命令实践</a></li><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">Mavan</a></li><li class="dropdown-item"><!----> <a href="/pages/b25802/" class="nav-link">开发工具详解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它语言" class="dropdown-title"><!----> <span class="title" style="display:;">其它语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fc414d/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题总结" class="dropdown-title"><!----> <span class="title" style="display:;">问题总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/question/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/4d0fa7/" class="nav-link">团队相关</a></li><li class="dropdown-item"><!----> <a href="/pages/75c3d7/" class="nav-link">fanx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/caf303/" class="nav-link">数据结构基础</a></li><li class="dropdown-item"><!----> <a href="/pages/395e23/" class="nav-link">常见排序算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fa3dd3/" class="nav-link">算法思想</a></li><li class="dropdown-item"><!----> <a href="/pages/79d342/" class="nav-link">一些领域算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fdb54d/" class="nav-link">其它算法相关</a></li></ul></div></div> <a href="https://fanxgit.github.io/fanxNotes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据库基础和原理</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/f8c059/" class="sidebar-link">♥数据库基础和SQL知识体系详解♥</a></li><li><a href="/pages/a2385e/" class="sidebar-link">SQL DB - 关系型数据库是如何工作的</a></li><li><a href="/pages/db5088/" class="sidebar-link">SQL DB - 关系型数据库设计理论</a></li><li><a href="/pages/940221/" class="sidebar-link">SQL DB - 关系型数据库设计流程</a></li><li><a href="/pages/b1ebf8/" aria-current="page" class="active sidebar-link">SQL DB - 数据库系统核心知识点</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL 语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL - MySQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSQL - Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSQL - MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSQL - ElasticSearch</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=database" title="分类" data-v-06225672>database</a></li><li data-v-06225672><a href="/categories/?category=%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E5%92%8C%E5%8E%9F%E7%90%86" title="分类" data-v-06225672>数据库基础和原理</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/FanXGit" target="_blank" title="作者" class="beLink" data-v-06225672>fanx</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-08-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">SQL DB - 数据库系统核心知识点<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="sql-db-数据库系统核心知识点"><a href="#sql-db-数据库系统核心知识点" class="header-anchor">#</a> SQL DB - 数据库系统核心知识点</h1> <p>===========================================</p> <blockquote><p>基于上篇数据库如何工作的基础之上，我们再来梳理下数据库系统中有哪些重要的知识点，包括：事务，并发一致性，封锁，隔离级别，多版本并发控制等。@pdai</p></blockquote> <ul><li><a href="#sql-db---%e6%95%b0%e6%8d%ae%e5%ba%93%e7%b3%bb%e7%bb%9f%e6%a0%b8%e5%bf%83%e7%9f%a5%e8%af%86%e7%82%b9">SQL DB - 数据库系统核心知识点</a> <ul><li><a href="#%e4%b8%80%e4%ba%8b%e5%8a%a1">一、事务</a> <ul><li><a href="#%e6%a6%82%e5%bf%b5">概念</a></li> <li><a href="#acid">ACID</a> <ul><li><a href="#1-%e5%8e%9f%e5%ad%90%e6%80%a7atomicity">1. 原子性(Atomicity)</a></li> <li><a href="#2-%e4%b8%80%e8%87%b4%e6%80%a7consistency">2. 一致性(Consistency)</a></li> <li><a href="#3-%e9%9a%94%e7%a6%bb%e6%80%a7isolation">3. 隔离性(Isolation)</a></li> <li><a href="#4-%e6%8c%81%e4%b9%85%e6%80%a7durability">4. 持久性(Durability)</a></li></ul></li> <li><a href="#autocommit">AUTOCOMMIT</a></li></ul></li> <li><a href="#%e4%ba%8c%e5%b9%b6%e5%8f%91%e4%b8%80%e8%87%b4%e6%80%a7%e9%97%ae%e9%a2%98">二、并发一致性问题</a> <ul><li><a href="#%e4%b8%a2%e5%a4%b1%e4%bf%ae%e6%94%b9">丢失修改</a></li> <li><a href="#%e8%af%bb%e8%84%8f%e6%95%b0%e6%8d%ae">读脏数据</a></li> <li><a href="#%e4%b8%8d%e5%8f%af%e9%87%8d%e5%a4%8d%e8%af%bb">不可重复读</a></li> <li><a href="#%e5%b9%bb%e5%bd%b1%e8%af%bb">幻影读</a></li></ul></li> <li><a href="#%e4%b8%89%e5%b0%81%e9%94%81">三、封锁</a> <ul><li><a href="#%e5%b0%81%e9%94%81%e7%b2%92%e5%ba%a6">封锁粒度</a></li> <li><a href="#%e5%b0%81%e9%94%81%e7%b1%bb%e5%9e%8b">封锁类型</a> <ul><li><a href="#1-%e8%af%bb%e5%86%99%e9%94%81">1. 读写锁</a></li> <li><a href="#2-%e6%84%8f%e5%90%91%e9%94%81">2. 意向锁</a></li></ul></li> <li><a href="#%e5%b0%81%e9%94%81%e5%8d%8f%e8%ae%ae">封锁协议</a> <ul><li><a href="#1-%e4%b8%89%e7%ba%a7%e5%b0%81%e9%94%81%e5%8d%8f%e8%ae%ae">1. 三级封锁协议</a></li> <li><a href="#2-%e4%b8%a4%e6%ae%b5%e9%94%81%e5%8d%8f%e8%ae%ae">2. 两段锁协议</a></li></ul></li> <li><a href="#mysql-%e9%9a%90%e5%bc%8f%e4%b8%8e%e6%98%be%e7%a4%ba%e9%94%81%e5%ae%9a">MySQL 隐式与显示锁定</a></li></ul></li> <li><a href="#%e5%9b%9b%e9%9a%94%e7%a6%bb%e7%ba%a7%e5%88%ab">四、隔离级别</a> <ul><li><a href="#%e6%9c%aa%e6%8f%90%e4%ba%a4%e8%af%bbread-uncommitted">未提交读(READ UNCOMMITTED)</a></li> <li><a href="#%e6%8f%90%e4%ba%a4%e8%af%bbread-committed">提交读(READ COMMITTED)</a></li> <li><a href="#%e5%8f%af%e9%87%8d%e5%a4%8d%e8%af%bbrepeatable-read">可重复读(REPEATABLE READ)</a></li> <li><a href="#%e5%8f%af%e4%b8%b2%e8%a1%8c%e5%8c%96serializable">可串行化(SERIALIZABLE)</a></li></ul></li> <li><a href="#%e4%ba%94%e5%a4%9a%e7%89%88%e6%9c%ac%e5%b9%b6%e5%8f%91%e6%8e%a7%e5%88%b6">五、多版本并发控制</a> <ul><li><a href="#%e7%89%88%e6%9c%ac%e5%8f%b7">版本号</a></li> <li><a href="#%e9%9a%90%e8%97%8f%e7%9a%84%e5%88%97">隐藏的列</a></li> <li><a href="#undo-%e6%97%a5%e5%bf%97">Undo 日志</a></li> <li><a href="#%e5%ae%9e%e7%8e%b0%e8%bf%87%e7%a8%8b">实现过程</a> <ul><li><a href="#1-select">1. SELECT</a></li> <li><a href="#2-insert">2. INSERT</a></li> <li><a href="#3-delete">3. DELETE</a></li> <li><a href="#4-update">4. UPDATE</a></li></ul></li> <li><a href="#%e5%bf%ab%e7%85%a7%e8%af%bb%e4%b8%8e%e5%bd%93%e5%89%8d%e8%af%bb">快照读与当前读</a> <ul><li><a href="#1-%e5%bf%ab%e7%85%a7%e8%af%bb">1. 快照读</a></li> <li><a href="#2-%e5%bd%93%e5%89%8d%e8%af%bb">2. 当前读</a></li></ul></li></ul></li> <li><a href="#%e5%85%adnext-key-locks">六、Next-Key Locks</a> <ul><li><a href="#record-locks">Record Locks</a></li> <li><a href="#gap-locks">Gap Locks</a></li> <li><a href="#next-key-locks">Next-Key Locks</a></li></ul></li> <li><a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99">参考资料</a></li></ul></li></ul> <h1 id="一、事务"><a href="#一、事务" class="header-anchor">#</a> 一、事务</h1> <hr> <h3 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h3> <p>事务指的是满足 ACID 特性的一组操作，可以通过 Commit 提交一个事务，也可以使用 Rollback 进行回滚。</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="acid"><a href="#acid" class="header-anchor">#</a> ACID</h3> <h4 id="_1-原子性-atomicity"><a href="#_1-原子性-atomicity" class="header-anchor">#</a> 1. 原子性(Atomicity)</h4> <p>事务被视为不可分割的最小单元，事务的所有操作要么全部提交成功，要么全部失败回滚。</p> <p>回滚可以用日志来实现，日志记录着事务所执行的修改操作，在回滚时反向执行这些修改操作即可。</p> <h4 id="_2-一致性-consistency"><a href="#_2-一致性-consistency" class="header-anchor">#</a> 2. 一致性(Consistency)</h4> <p>数据库在事务执行前后都保持一致性状态。在一致性状态下，所有事务对一个数据的读取结果都是相同的。</p> <h4 id="_3-隔离性-isolation"><a href="#_3-隔离性-isolation" class="header-anchor">#</a> 3. 隔离性(Isolation)</h4> <p>一个事务所做的修改在最终提交以前，对其它事务是不可见的。</p> <h4 id="_4-持久性-durability"><a href="#_4-持久性-durability" class="header-anchor">#</a> 4. 持久性(Durability)</h4> <p>一旦事务提交，则其所做的修改将会永远保存到数据库中。即使系统发生崩溃，事务执行的结果也不能丢失。</p> <p>可以通过数据库备份和恢复来实现，在系统发生崩溃时，使用备份的数据库进行数据恢复。</p> <hr> <p>事务的 ACID 特性概念简单，但不是很好理解，主要是因为这几个特性不是一种平级关系:</p> <ul><li>只有满足一致性，事务的执行结果才是正确的。</li> <li>在无并发的情况下，事务串行执行，隔离性一定能够满足。此时只要能满足原子性，就一定能满足一致性。</li> <li>在并发的情况下，多个事务并行执行，事务不仅要满足原子性，还需要满足隔离性，才能满足一致性。</li> <li>事务满足持久化是为了能应对数据库崩溃的情况。</li></ul> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="autocommit"><a href="#autocommit" class="header-anchor">#</a> AUTOCOMMIT</h3> <p>MySQL 默认采用自动提交模式。也就是说，如果不显式使用<code>START TRANSACTION</code>语句来开始一个事务，那么每个查询都会被当做一个事务自动提交。</p> <h1 id="二、并发一致性问题"><a href="#二、并发一致性问题" class="header-anchor">#</a> 二、并发一致性问题</h1> <hr> <p>在并发环境下，事务的隔离性很难保证，因此会出现很多并发一致性问题。</p> <h3 id="丢失修改"><a href="#丢失修改" class="header-anchor">#</a> 丢失修改</h3> <p>T1 和 T2 两个事务都对一个数据进行修改，T1 先修改，T2 随后修改，T2 的修改覆盖了 T1 的修改。</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="读脏数据"><a href="#读脏数据" class="header-anchor">#</a> 读脏数据</h3> <p>T1 修改一个数据，T2 随后读取这个数据。如果 T1 撤销了这次修改，那么 T2 读取的数据是脏数据。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAe8AAAI8CAMAAADvFdPjAAAAPFBMVEX////K2fwtLS3i4uL948iXlpZ3fItMTE63s7v18vJjZGfDCBuOgnXSx8ePmK7k19OGh4fbanfON0eHkKRYzMVFAAAVfElEQVR4nO2di3qiOhRGEQYScwrY9v3f9WQnQUXBUjtDTfZa37RWqx3+LJJwTaoKAAAAAAAAAAAAAAAAAAAAAAAA7rF1wvonjemOVeFcBe7loa9UcRX/6Opak+/G1AqFS602TXioNfi+CtxWso6riHwTfwwP1qrxPaYfj50+32Nc3Stp61SEvwSWRs1Wyris7urqt9fttFVvxfXbb7vp0623fre1vsa80lu/e4X7YoLW+t3G/XC2z5UE1uobAAAAAAAAAAAAAAAAAAAAAADgdRj7vm3bvh8rJagLfOFoOzPdMlmbzhZ/9Z66wLPwbX1LW3QBqAs8YwpvzOl0MtNq31bFoi7wNXKDv49+ss2EPYUiKPWmKnWBZ4whfNvMaUMBFLkhoy7wffpTc8+p0PzqAt+nt80SYYiTpioMdYFnHM1q+pjfFNalqQs8p32Qvmn68jZa1QWe0Ui+Zp1TaQ2cusBzOt9+NY/wrV9XFYS6wDOODxu3qUcrqENTF3iO/WptD+t7QYObqAs8p1veEb3p0Apq39QFnvNl6xbbt6oY1AWeMX7duoX2rZhjTuoCz+k3xi9muCp1gZXHV+67/XrrJWy/FHPESV1g5fHxjW9Fvum/Sw+sPL5y3+x/lx74Bo6vlR54DsfPSw88h/NjpQeew/nv0gPfwPUtpQee09SPO7RTaWu7usA3PL5c02q7PrXAwHO4/rz0wDc02m63UBf4Bu4fKz3wUn7uD9Vyfyj3f5cf+BbGd9A0vkPF+C3lB74rAMZnUkeThiMrfZdEb+A7Wk29mMrAyuPjG9/EJzDxCUx8AhOfwMQnMPEJTHwCE5/AxCfwt2nm8bWcQlDq++jipTxT/FHLtR5Kfbt0IW6KL1ftukoDSn3LNXynS/yTkkv39Pbfcu21neKnJxpQu73mwrX2Ib5ckq+jNVfsO3bZIb4r/q6aC3r3v6ULb9v4paTzrlQfbxHPXfinqAg0H19z0+W5WjrvSrfvZvKt6Fps1cfPbdStZFcsoPt8Sbgl9lQpQrdv2SkzlSYK8t3Y9tv4Cn767mdszsONluP7/g7If4bJ9+xpMb531J3z4bhSfId9K9ftQdbbeKX4lpluDzvhMj5CU4pvn6M77ETOQ0jj+wnw/Qo58L2tnPCN7xxz4HtbOeEb3znmwPe2csI3vnPMge9t5YRvfOeYA9/bygnf+H4JmjDAa3eMI3g/PumM721k4TsN2N48zrHkW/6Ciw/1cBj8l2cIf01+kr9rhnRSe8D379JPi9bW7uidt49zdMu6133Hy1Px/e84dqm62ng9Si8L0LUrizD59p+ycvFwd3yY4963DbXYezShNl98D2lt8KvC4TO88q3OAN9b6aVV7qW6dqmJDt7PXuupxxbspTnvq/CphzmWfE9ml3wPQXf6RTd9wsVv0tJ38otPZ/D9NEFde2mnQz2frvdc9O2f+X78Od+HLlqL7bmdtefO/3K48+3XDHmbDb5DD+BqfP/o/2tjdY0yxfejZtq/zTRP1+/YRbvv+O7EtUmf7a7bAHw/g7fWGy/Oyn/bzn3f1u/wmncd+vtn+u9gzXiDUmuvG/JurT0XydZ0sWUIvgd8/wTvzsWBNNppu23N91Hu67Kxjw/b5/ZxjoX+24a2fMW3XxPk8WZ7zZmhjk26xfdf4BR3pMNUpe5he57022lH/OGIWWvba3HPK+2XxT0vmx7SUzP3PRjjUpOP77+AdxeOmHmZffu4/w6HWcLG3Gi+mgxvff/bHdZ8Sw2PH7vy7V8bwifMJ75fOgfHU7eVE77xnWMOfG8rJ3zjO8cc+N5WTvjGd4458L2tnPCN7xxz4HtbOeEb3znmwPe2cirCt60Xz1Tj+4aSxm/pD/vwyfgtv4/ZbXwmU2dcZsX4tvWeMP7arxNOZu+DyXdEzZLGyx2fGED1CRg/lfgEJj6BiU9g4hOY+AQmPoGJT2DiE5j4egMrj49vfBOfwMQnMPEJTHwCE5/AxCcw8QlMfAITn8DEJ/BDmnn8fGdw/x5KfR9dPV7HH78Y3q0YlPqW+TGOl/hHk/EtYd9Cqe+xruvTJf7JPx0rDWjtv+V2MzvFT080oHZ7TcZmbWL8ptbSmiv2HbvsEH/qzDWgd/9buvC2jV9KOu9K9fEW8dyFf4qKQPPxNTfdz62l8650+26yH63h+6g+fp7GAFGyKxbQfb5EjrOE4y5q0O1bdspMpYmCfDdPDN/iK/iJ8VtyTbLb+Ez5nj0txveOunM+HFeK77Bvtc/4illv45U0fuphJxzjp75Cjt3Gw5bd9ipT8P0E+H6FHPjeVk74xneOOfC9rZzwje8cc+B7WznhG9855sD3tnLCN75zzIHvbeWEb3znmAPf28oJ3wFrTHyo6+HqEd+vmuNHvuWcl0ma69qeH/H9sjl+6HsI9bvzf2bwX9Mjvl82R7ci0sVvcjeJf8tQfzqz+M7g2xmp2+78iO+XzbFSGY03N/iWOdw9NPgfXR19D/FSNDvznb71lyf4ftEcK747cW1SXZdGem2ecHznlaNb65k7azrxHhr0YXWrOykO7XhvaM9fPcfa9poz0pzLl535XmzPu9Dkd+dHfL9sjjXffsPbTXa/rN82rQN2vi7g+/VyrPn2u9Ki2NTm82vfQbS9esT3q+bgeOq2csI3vnPMge9t5YRvfOeYA9/bygnf+M4xB763lRO+8Z1jDnxvKyd84zvHHPjeVk5F+PaHu91hL/D968j4Lf1hHz4Zv+X3MbuNzyT/U7ZlVoxvW+8J46/9OvGK8V0w+Y6oWdJ4ueMTA6g+AeOnEp/AxCcw8QlMfAITn8DEJzDxCUx8AhNfb2Dl8fGNb+ITmPgEJj6BiU9g4hOY+AQmPoGJT2DiE5j4BH5IM4+f7wzu30Op76Orx+v4Y+2yvYXgWyj17eraiOAU/2gyviXsWyj1PdZ1fbrEP/mnY6UBrf13GC5zip+eaEDt9poMf9/E+E2tpTVX7Dt22SH+1JlrQO/+t3ThbRu/lHTelerjLeK5C/8UFYHm42tuup9bS+dd6fbdZD9aw/dRffw8jQGiZFcsoPt8iRxnCcdd1KDbt+yUmUoTBflunhi+xVfwE+O35Jpkt/GZ8j17WozvHXXnfDiuFN9h32qf8RWz3sYrafzUw044xk99hRy7jYctu+1VpuD7CfD9Cjnwva2c8I3vHHPge1s54RvfOebA97Zywje+c8yB723lhG9855gD39vKCd/4fqHlC1cXHF0663yU01P9Yg58byrPV/Ztk9yjS5cZBN1Lwu99d/WQvg/hw/ZwMNMPHv+i/JAmsXKH8D90+P7lhYtu29odvfPWrwCm8c6748JbH/sWz0lueKOLj/j+pwRpVWPqPlRZucm+rbt2ZRla1zjx7Q1bqezdMbyzX7g5/7HvQcQOByN124Uabo0nvM/GR5fqPb7/KlZcibkm1CxfUUMlToNqpNp2uSD8GH2H715zE8Q35v4Csi99d5NvL3yQ5nyIb7j3Pchfkm+yNPGTxuH7OcRVrK6VeDThltz+/Mtl39IeRN8u+R4XcnxVv23yHXx6vTbOIN0n33W0m1aAbmr+rf8Trsb3k4jrUD/jllfw3a1f/bdYv8dv1+/YRV/5tpen9tZ3qOqpRsuq0t116/jejm/Le2/Y6+6n+n32/aA9T/13t73/DtXYy7LRt/i7tOdxMz/4Pfu2l08OVn6VVoGutvh+Gl85XVDtv/U39Xtc8T1tn9tp+7xdynHj28p2mRXFw/SraXvtarN8ybev3J/+nV34KL5/hrTjvnqG5txJR7yhPU8VXz427Ygv5Lhtdc2083XxnVYnWReiaTtvz03qCozpDqkNwPcP6eP/6BX6za9t/Xes+aERPx9ou89xt/Ps0h713LcLrXx3mB4WfNtwLMaa2pzw/bI5OJ66rZzwje8cc+B7WznhG9855sD3tnLCN75zzIHvbeWEb3znmAPf28oJ3/jOMQe+t5VTEb5tfXNNAr4XKWn8lv6wD5+M3/L7mN3GZzJ1xmVWjG9b7wnjr/061tR7YfIdUbOk8XLHJwZQfQLGTyU+gYlPYOITmPgEJj6BiU9g4hOY+AQmvt7AauM388D5TrnzE9T4Pro4B/IUeFy4p1oBanxPc5ynwHH2c32o8S2znZ8ugWUiTTVznl+hp/+2cRyFGDg90Yei7TW5wb2JgWWyNo2tuSrfscsOgV3OMyT+CE27o9KFt238Utl5V8oOP4jnLvxTe8xF1+EmN12Ap7PzrrT5brK/vPanKDucnC7aVrkrFtB2+kCOs+Q7mfXP0eZbdspMpZesfTdPXG/vK/hJ1QX3c3L23da7YUo5e5qx7x11l3M4Ll/fYd9qnxtiC9rGy9e33PB+2AlXzBGafH3vOYCJ7LZXRYDvTeD7FZYc38+UGr7xnceS4/uZUsM3vvNYcnw/U2r4xnceS47vZ0oN3/jOY8nx/Uyp4Rvfv7lA4eKC8zSKYd7NfnnJ8f1E8b6Ub5vknqdJjbNmLwlf8R2GDU4zZ6aZzw9xguTzrJlmSCe1B3z/+tLU1/Mht9N8yAszrC77nmZIXfYdL0/F978jSJO5cftQZeUe+7bu2pX/tHVNnO+8m+Y7b9fmO1/2Hec9HmTm60MUPVw9+LVA5gT4PFxNoYvvv4sVV2IuTmntK2qoxGlMjfX57fuguQniG7NtAuxQgZPZJd/DZQqIs28rr8m3NJnyUH86g++nGU1okKPRY5z/+twdr/mW9iD6dsn3uLTkC1W0i9Zie25n7bnzvxzufB9MmNXexvmwpQdwNb6fR1yH+hm3vLbNd35Tv8fN9Tt20e47vmV281SjfTN03Qbg+xl8IfbesNfdT/X77PtBe5767+57/XewZrxBqbXXDXm31p6LZGu62DIE3wO+f4KvnC6o9t/6m/o9rviets/ttH3eLi75Qv9tQ1u+4tuvCfJ4s73mzFDHJt3i++dIO+6rZ2jOnXTEG9rzVPHlY9OO+NKSL26vxT2vtF8W97xsekhPzdz34FfI1OTj+y/Qx//CK/SbX9v671jzQyN+PtC2sOQr+9/usOb7EOZ46ea+/WtD+IT5xPdLLznHU58pNXzjO48lx/czpYZvfOex5Ph+ptTwje88lhzfz5QavvGdx5Lj+5lSw7cK37lP54Hv75D/dB62XjxTje9F8p/OQ8Zv6Q/78Jn9+C0FTOdhdhufydT5j0KZ/3Qett6T7Mdfy386D2vqvTD5j6hZwnQe4xMDqD5BGeOn6pzOQ/H8oSqn89A8X6zG6Tw0+9Y4nYfq+aAVTuehe/5vfdN56PatbzqPgnwznccGyvHNdB4bS6kM30znsbWYivAdp/N424Ost/FK8S2ng8c/+5DzdB6l+PY53v7shKxbVabg+wnw/Qo58L2tnPCN7xxz4HtbOeEb3znmwPe2csI3vnPMge9t5YRvfOeYA9/bygnf+M4xB763lVPBvuNJcSs/2nBbjP/Bhe/+V+3NO3oz/Ym38N7RmFFebPH9kjlWfYvOt/hTu+w7vOR/NGP0fvHtlv4svl8hx6JvEey/2SC9FbG3vt/+jCZUcGfSY9Bug++2drTnL5pjxXew6aJdebj33UtF9t+dFbs21vI//oPGmvhmfL9gjtX2XGpw9Pbmf15oz116Ibytnf6QfxYrPL5fMsea77c/X/mWZj685c2/eOW7Xtnox/cr5Fj0/Rab8ofteVgN0r1FbtaeL26d4/s1cqz4tnVopMVyKypXfKcNeNksD+173F6z9VIHju9XyLHiO9j84857ZnFGkDHteE97bNM2etyWv+yPvS1toOP7FXKs+Y6Nclun3esl33ZqxcND6Ljdn+A71XZ8v14OjqduKyd84zvHHPjeVk74xneOOfC9rZzwje8cc+B7WznhG9855sD3tnLCN75zzIHvbeVUhG9bL1559E8Y8f3rhOk8/uxDy/gtv4/ZbXymrKfzKMY303lsopzxFZnOYwsljZfLdB5fo3t8ZH3x8Y1v4hOY+AQmPoGJT2DiE5j4BCY+gYlPYOITmPgEfkgzj5/vjGIE3sDRxSnep/hj7cqeJFhd4DkuzRmX4ss8omVPAq4u8By55PB0iS/zBI9VyagLfINc/mSn+OkJgQtGhvVoYnyZi7L8xk1d4DmxBwvxXc4TwBJ4I9KjtW38UtGXqQt8g8Tuwj8lhyDUBb7BTdcXa+nL1AWe02R/9wCBv0W6J0XPnkmvLfANctghHIYgsApkH8VUilAX+Jqx7/36bns1+ybqAl842u5yf6HpbPFbMOoCz8K3d/d8tkUXgLrAM6bwxpxOJzOt9gUfg1AX+JpjHAH9ZJsJewpFUOoVAOoCzxhD+LaZ04YCKHJDRl3g+/Sn5p5TofnVBb5Pb5slwtG24i7jUxd4hhxvWEkf85d2Xlhd4Dntg/RN05e30aou8Aw5QdQ265xKa+DUBZ7jT/Wb5hG+9euqglAXeMbxYeM29WgFdWjqAs+xX63tYX0v6OywusBzuuUd0ZsOraD2TV3gOV+2brF9q4pBXeAZ49etW2jfijnmpC7wnH5j/JzHR9UdWHl85b7br7dewvZLMUec1AVWHh/f+Fbkm/679MDK4yv3zf536YFv4Pha6YHncPy89MBzOD9WeuA5nP8uPfANXN9SeuA5Tf24QzuVtrarC3zD48s1rbbrUwsMPIfrz0sPfEOj7XYLdYFv4P6x0gMv5ef+UC33h3L/d/mBb2F8B03jO1SM31J+4LsCYHwmdTR937Zt36uZqkddYAAAAAAAAAAAAAAAAAAAAAAAAAAAgD05vv8njOmnQsclu44bbiDrfdZ3uSD9+BHTa+HsO/1QtvD3JLcPWb3woFuT8OPHR7zvwvrU3vl7wXdhxFV6DJX6XZz3fgX4OIZnGWNDJlFnJZ+VVz7sismz73cJ3f/3kZfvIE3yHcdLjX1/X26mju/vYyibMTVoVr7k41mv5T6xlW99NTXR9r+pu6rSa2ev46U5t6kgssoqq2lY9tREpxY6+o6vXXdS438f47RaS42QUspvLb/hPbRW53b6XXzbyy8XfPum/CNL36Funpd6jK3z2d6Sb3mrnXyP/5XgW5Y/Nc9xnbePA/nUdqrfH5n5FoH2suUVfNtHby+wfksK6cJ6KQd74/umfqfX3o959t+hLX+P/dc41e+z77X63Z/7748C+m/x95FUH4PHB777Y6zf5+3zKjN8NgkTKq7d4Pvjavt8nLbPMx9PtY+b5SHux+P23Oa+JzqGHisu/seG9jwkTKmnzZe8m/O4oymx/IO1X/Tf7zF4vkea3mP99Sv3+7ix/47C3+ML+esGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAv+R/Qrq/ny+KTtgAAAABJRU5ErkJggg==" alt="image"></p> <h3 id="不可重复读"><a href="#不可重复读" class="header-anchor">#</a> 不可重复读</h3> <p>T2 读取一个数据，T1 对该数据做了修改。如果 T2 再次读取这个数据，此时读取的结果和第一次读取的结果不同。</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="幻影读"><a href="#幻影读" class="header-anchor">#</a> 幻影读</h3> <p>T1 读取某个范围的数据，T2 在这个范围内插入新的数据，T1 再次读取这个范围的数据，此时读取的结果和和第一次读取的结果不同。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAd8AAAI1CAMAAACg6QATAAAARVBMVEXK2fz///8tLS3i4uL948iWlpZ3fYtkZGajrMJBQkPNxMFTVFeLgnn08fLCBBe4xuTg19EAAAC7oJ6Ol63TS1mMjI3ed4LyAyYGAAAVoElEQVR4nO2di3aqMBBFSyiEBKkU6v3/T72ZSbBqtWoREiZnr1arRWXcZPIAwlsBJPNWAMnAr2zgVzbwKxv4lQ38ygZ+ZQO/soFf2cCvbOBXNvArG/iVDfzKBn5lA7+ygV/ZwK9sUvHbqEDjHpSm7grhnARs6c4u8zEJ+u1apXLyWxq1nOCE8nNpTMl3Kge/JwFXBW3Ty4Scot+mycov0dXZ+C0od+Xm1yWtZpHPSMhvn5vf74Cd3naZiFF+EwjYtbUW0gu/CQR8UAsl5wJ+EwjYLtb5LVD/JhDwwfeD0X6WRpmXX7AA8Csb+JUN/MoGfmUDv7KBX9nAr2zgVzbwKxv4lQ38ygZ+ZQO/soFf2cCvbOBXNvArG/iVTVJ+e2urqrK2LzJh+YCT8ds1tZlOqVOmbsQfYLdOwIn47arvWEPElWjDawWcht8p2Lbd7XZtOwVciGW1gFPw22mO7mDLCXvg+LXQIrxiwAn47Sm0dijPqWijNiJbWmsGHN8vR7srf7ITKnjVgKP75WhteQ2aouJ4BrQY1g04tl+aTOVGtK5WUsudGJtJwLH9Vr9E6+MV1opeOeDIfmmynKq8zUFahl474Mh+a5ePyt9wX0ddCGLtgOP67Xh+r9+gJoegGnj1gOP6bSgblfe258Ump8gg4Lh+XbY63An3ICpBrx5wXL/mt7akx7UoTSGG1QOO6re/n604X4kZxFo/4Kh+7b3GJNEuOX2Q+IDhV3bAUf1W18fZz9kJGsJaP+D0/da5+a3z8ovyOwfUv7IDhl/ZAaP/KztgjF/JDhjjz7IDxv4j2QFj/6/sgFM/fqPN7fiNVtLxG3w40uH3ysiIOoBy7YBx/KTsgHH8s+yAo5+/UOZ2/kKZ1fkLOP9o2YCTOX/w8qBv8ecPrhMwzv+VHTDO35cdMObfkB0w5s+RHXBS81+V1tLpdVZcn+iXgHn+q+UCTm3+ulbQ3vyHqJYdoYPfyMCvbPLzm03ty2Tm18DvS0nQbw6X7v4GfmUDv7LJzK+sw+keID+/RVbk5beD39eSnl9BZ6M8AvzKBn5lk5ffEn5fS3p+2yIr8vLbw+9rgd/IZOdXF1mRl18Lv68FfiMDv7LJzq+o0/Xvk5ffBn5fC/xGJju/uyIr8vI7KHUosiIvvxX8vpb0/Ao+6zdCxPArO+LE/B7g97Wk53cosiI7v4Jmi32EvPzu4Pe1JOa3ht/XAr+RycuvFnSxlMeAX9nAr2zgVzZ5+c1u+hz4FU52fvOaPiczv9lNjwS/wsnOb17Tq8CvcPLym930SPn5LfICfmWTld/8pr/Kzm9m06vAr3Cy8pvf9EjwK5zc/GY2fU4mfrsDD2scp0fqsxnlyMKvNX7ajclv18q8MuwV8vCr/Hkp0/Qq2tXDmZTgPPLzwV+YPPgdVD6HQWfSvmo5M3u/Lkvnc5Z3Jn7JaeX9dianVnQu/SMXp+p5+hztc3UmZNP/dVpb8kuiMzoGOhu/pUvLmn+yOoU/n/GrYbpYeVYzUGY0PqnDteizOkInI7/UcM6r8i3y2r9Aw1iYX+WlpLX/SGc3/XNmx2+YvCrfIj2/ZVMtSL2rFmOwKW47ifmt1IYxCTbd0vK7ab0qxZOLk/JbUiHQ9Tah7nV6+y2S8us6MGb/tlXc6HZ6Zzcl5detTP22XUyCCRp+X0eb4OAY/MLvDOA3MvALvzOA38jAL/zOAH4jA7/wOwP4jQz8wu8M4Dcy8Au/M4DfyMAv/M4AfiMDv/A7A/iNDPzC7wzgNzLwC78zgN/IwC/8zgB+I7MBv3vTPnLQO58/sPeHmdNR8vv2eKv5bfdtux/DiSQNLVf7hdX4N53N5crC7/2V+atfFkV+ay9wPPdLQs/97s3ot4krfpvHlDf0rvD71Mr8MT/vW6Xd3bhvWOXoSvC5X2ee/Lplai9Puwej9/5D5vhgkdbnGx783l+Zc780F9mevNSh1DU30unIevkVY7g79Wtq98ZnfveGnggFcG90kMofWPsMT2Vd8z9po3ELt/x+/KR7k1a7JRr4fW5lzvz6L/rE7zhVnqxUqeP5aKFQhqRMj+szv40mQyd+R07Rofwd/foP/L4ll24pmtGQUrnbJHiOltotqPlfI/w+tzIXfpu3t1DuXMGpXfFqfjZrHvG7J5enfmv39DW/zZSfuXDTzd7QJuaeoRwxhjxQ+xabqeH3uZU5+8IaX2bIiys4/J374vNIfuaNwb9Yc7bVP/z+yM/+A71fll+TX+23tMZ9Rh2acWHLg99nV6a+LJdUkbah2eSVHZWe5Genn1457kd+ZvQtaR3Ek9/QyDrNz+5PLuIju/RbBn3gZfk98TuGFYRfzzy/3H1hv+1J/Xu1tzRO/SN90sGd/mK/bhM48ctdoPC2I9/7Iq+837P698Svr3+b4Bftq/l+fX4Oflnj9d4wf/N1MO0X4ae42HMpH9Vl/2hqwdGmUI/Bb83eQ/u5fjv3O72n94v+Ubrjk81fh61uvwX83l+Z9caf64vRp6fhgg2/z60M9i+8FviF3xnAb2TgF35nAL+RgV/4nQH8RgZ+4XcG8BsZ+IXfGcBvZOAXfmcAv5GBX/idAfxGBn7hdwbwGxn4hd8ZwG9k4Bd+ZwC/kYFf+J1Bbn5x/bLfsErpt82yx/UH79DTGSHNRjm44muK1Ejr+r+t2jaHIhmGlnPJ5LdrhyU+5Um/pVFbRhfJUIe1mfxqlxkX+Jhnr89eNDu9VQ4pNZ5dU0ZRiQ1+B7VM2/5pv4uycGWUFAfXGuinkHuzUN0Bv9FwbRlXBXPIXbvUpePhNxq+zHLIoSwvAPzGg+ansBQy1cXNMp8BvxGhydpc0T2Y5Vr28BuRzokNP0uNq8FvTOzUMV9sWBx+YwdMLBc0/MZFLzysBr9xKcnvgju14PeFlE31NG4cun72Nc3jI5nw+9K1X4u2fHCd4PeVK78ej3ao4PdVUE1q9G4NaCft7rG1gt9XYWkM+X0d9MO7I/7qd/j4WqDVt2W/bt137ythHz7SaHG/3dfHR+/v77f64PdBXIJ+bK2Wz8/OL20K8CvTL5XfjwF+t+KXff3j/Gw/GEvZmh1e5euDMzT8bsIv6730+4/vg+Dw7GTTvWD45xaGX0fftq9pYi/m9923lqb2Vf/hPffur9DguvDryu/Q+V/4vevXqiGu35Ceg1/Wy9mZ6G+8YCDnFn4f8FvF9usFf3Xs1/qm8bnfK+W3cBn86wN+2a/7tUbpdx6lMNYPVvTvg6p0u1P+qYh+CzLo/Qa9/Pj0vz/q37BVwK/3a+gsn+Hdy+z5lB/t/GqVgN+e3bHf8iuI9G2uWw1o9suvg1/vV1nndud+yaSloqyNHbhID7Hzc+/1Fqd+C9+Avq7Pl19O4vAb8jNl4x0NMrrbwe8Ost5s/Pp36e8oH7/vlKErLr/Hkhu9/C7+HeXjlw+9Gnz9Oxz9JtC+WvQ7ysvvjp478esewG+a5Lr/6MnvCH7hN0ng96HvCH7hN0ng96HvCH7hN0l+80tdofaVB1fCb4x1v+HXnwX606/+u3L4jbHu1/26MQsagqz6H8/D74a46XcII8y8w4il8p4Fy2ch+OErS/8cNO8m5HEsv0/YGl0pC7+prPt1v7tpn8Hk15s9uVW8x5DHK83pPmFrWgO/6az7w371MT9z4aabHe8r9LuHp33C1twajIbfGOv+aH72B+bwnyyfhNM/WbxWdtonHDYE+E2Bm35dCqZ/VD25tNyOdk8ddyQdy++332mfMPymte43+kdD6B/RfWtcfvYPqZY9rX+//U77hOE3rXW/Nb4RmspOnbGt90sV6zC1n419P/M77ROG37TWHeOT978j+IXfJIHfh76jzfodlNIr2X3vFz9/fxk2Pv+Gsu/rUC0+/8YybHp+JGokrzN/DrWuH/ye4PdlNGpFMP/V+tj1Lh5kHp2hEH5fSf+HCSj/AOaf3A5pXZ9u28GmCPzKBn5lA7+ygV/ZwK9s4Fc28Csb+JUN/MoGfmUDv7KBX9nAr2zgVzbwKxv4lQ38ygZ+ZQO/soFf2cCvbOBXNvArG/iVDfzKBn5lA7+yycNvfzgP9tAXmZCF3yEEWX3fD0UeZOG3orkrvoO1Kp88nUd+1n7GAR9sZ5TSRSbk4Tco9cHqx6eX2D6ZtJ8pJQ8+2CEk6zzIpX90cIW2p2B7V5QPRTZk0/9tlWqd5EP78NxdIsjGL5Xbln9MNp3fIqfxq2Ga3KkpMiKj8Unt9WbTNWIy8tuZZ2beE0JO+xf4wgQ5Vb4F9h9JJzW/5aJTLBpTLcZgU8z8ifmt1IYxCQ6LpeV303pVipV7Un5LKgS63iZ8keUiNZLy6xq4Zv+2VWiC9eSq4KT8upWp37aLSTBBw+/raBPc8Qi/8DsD+I0M/MLvDOA3MvALvzOA38jAL/zOAH4jA7/wOwP4jQz8wu8M4Dcy8Au/M4DfyMAv/M4AfiMDv/A7A/iNDPzC7wzgNzLwC78zgN/IbMDv3rSPHPTO5w/s/WHmdJT8vj3ean7bfdvux3AiSUPL1X5hNf5NZ3O5svB7f2X+6pdFkd/aCxzP/ZLQc797M/pt4orf5jHlDb0r/D61Mn/Mz/tWaXc37htWOboSfO7XmSe/bpnay9Puwei9/5A5Plik9fmGB7/3V+bcL001tycvdSh1zY10OrJefsUY7k79mtq98ZnfvaEnQgHcGx2k8gfWPsNTWdf8T9po3MItvx8/6d6k1W6JBn6fW5kzv/6LPvE7TpUnK1XqeD5aKJQhKdPj+sxvo8nQid+RU3Qof0e//gO/b8mlW4qmVqJU7jYJnsOjdgtq/tcIv8+tzIXf5u0tlDtXcGpXvJqfzZpH/O7J5anf2j19zW8z5Wcu3HSzN7SJuWcoR4whD9S+xWZq+H1uZc6+sMaXGfLiCg5/5774PJKfeWPwL9acbfUPvz/ys/9A75fl1+RX+y2tcZ9Rh2Zc2PLg99mVqS/LJVWkbWg2eWVHpSf52emnV477kZ8ZfUtaB/HkNzSyTvOz+5OL+Mgu/ZZBH3hZfk/8jmEF4dczzy93X9hve1L/Xu0tjVP/SJ90cKe/2K/bBE78chcovO3I977IK+/3rP498evr3yb4Rftqvl+fn4Nf1ni9N8zffB1M+0X4KS72XMpHddk/mlpwtCnUY/Bbs/fQfq7fzv1O7+n9on+U7vhk89dhq9tvAb/3V2a98ef6YvTpabhgw+9zK4P9C68FfuF3BvAbGfiF3xnAb2TgF35nAL+RgV/4nQH8RgZ+4XcG8BsZ+IXfGcBvZOAXfmcAv5GBX/idAfxGBn7hdwbwGxn4hd8ZwG9k4Bd+Z5CbX1y/7DesUvpts+xx/cE79HRGSLNRDq74miI10rr+b6u2zaFIjbT8lkZtGV0kR2LXZy+anV4OQ5ePXoxDgpdnT87vloNNEfiVDfzKBn5lA7+ygV/ZwK9s4Fc28Csb+JUN/MoGfmUDv7KBX9nAr2zgVzbwKxv4lQ38yiY9v93Xx1AsA/y+mkX92o+Pf3Q/fHx1t5f5t1qwKbLl/Oz8ftAxi7f99h8f8Ltpv2T2pl9aAH6T8cs6esrP7jeoseeGLpf/on+e+f138rf9sP/gNxW/rPfC7/BxUgTDs0eb9uPLUoa+6Zcewm8qfoOK0L4imX1P+txf/rTLK367Ifx+vwv8npKQXy6rffDLekOR9q2on5Bft9y/o9/LDaCA3+TqX8t+vd4Lv9fKLzWRv+D3Jmm1n0PdOwS9JO/0jPhrfo+t6ADy8xlJ1b/H8uubVU7Nv4+P2w1o75eWgd9bpOaXm1Pffn2lfGM8K/jtvuD3Jti/IBv4lQ38ygZ+ZQO/soFf2cCvbOBXNvArG/iVDfzKBn5lA7+ygV/ZwK9s4Fc28Csb+JUN/MoGfmUDv7KBX9nAr2zgVzbwK5s8/A5tdxps1y41g0s6dP6cvKNfu8ilL9PwW4dLx03BaqXqQja98dcinkK2yixx7do0/Fql1PAd7KASvBDzi3GbsCm/Q6YLOy5xdcRE8vNB8ebrg3WbdoIX+nwxXRAa/JLuJRJ0Ku2rVilXBXOwHf1diIeupVxNft3tMpcWT8WvL7McbCjL4qm4FuKQrVqqFZ1M/6ihaClYirUpcoBzMoXcmcUuTZxO/5eidUX3YJK8DPMSsFbyu1TlW6Tkl6INPwvFmhyUqjT/LNZdSGj8yk5XUc+h8vUcppAX6y6kND5Z+VgzGqGkrgKxXHchqfFnSlS5VL4e6jYs2l1Iym9JweZS+XpoqG7J7kJa+4+s/HHJS/SyGSshv721Vdtam0/zikI+GLNkyIn47ZraTG1JZeomgyS9TshJ+O2q70hDvJVww2uFnILfKdS23e12bTuFWwhmtZDj++24V2QOtpywB45eiy3CK4Yc3S/3ANuhPKdqldy9SGuGHNsvx7orf7ITK3jVkCP75VhteQ3aYchHsAhj3ZDj+uXx1+uxujpJ8TEdwlg55Lh+q19i9dGKa0WvHHJUv3TQYFXe5iAvQ68dclS/tctG5W8YccdBrx1yTL8d7Tr5NdhG2v6k1UOO6behXFTe25pFHWu3esgx/bpcdbgT7EFYgl495Jh+zW8tSY9rT5pCEKuHHNFvfz9XcbYSNIi1fsgR/dp7TUmiFXVEx/ohw6/skCP6ra6Psp+zEzWEtX7Iqfut8/Nb5+QX5XceqH9lhwy/skNG/1d2yBi/kh0yxp9lh4z9R7JDxv5f2SGnffxGm9/xG62c4zf4YKTD71WRtLk41g4Zx0/KDhnHP8sOOfL5C2V+5y+UGZ2/gPOPlg45kfMHLw/5zuD8wXVCxvm/skPG+fuyQ8b8G7JDxvw5skNOaP6r0tqqqqwV2CeKF3Ja89eBVwO/soFf2cCvbOBXNvArG/iVDfzKBn5lA7+ygV/ZwK9s4Fc28Csb+JUN/MoGfmUDv7KBX9nAr2zgVzbwK5uk/XbazxRkPz8/+dSNznx+SpovafmAU/a7C7FRtBwvRStZ8AIBp+u30yE0F+SOQrYuftPxI5EsEvCqfnmdi8GtdK+OG2ilP+31cHXPM7nxrQt+oF96+XZOLIwf8Kp+3frueMVDBtqFBGSnL+Pz+xHhw7WfNOPI7nPnFrbTw20QP+B18zNtiv00vWKvOPkcV/5WuMMUrisDG/MbP+B1/dL6D98NBw53+H3xTZff+AGv65dS1c4F2BkXR9icj+HeTldTdWS2Vv/GD3jl9rNLPTR/F8cxfD4WbmhOuj93dwtAcsQOeGW/1Izc+W47B/5IunLfi2+b8Ks/t5Se4we8dv935zdXt+nq/tFwi8ZH6+Pd2IyFkQPG+LNs4Fc28Csb+JUN/MoGfmUDv7KBX9nAr2zgVzbwKxv4lQ38ygZ+ZQO/soFf2cCvbOBXNvArG/iVDfzKBn5lA7+ygV/Z/AelAT3Jk2Mf9wAAAABJRU5ErkJggg==" alt="image"></p> <hr> <p>产生并发不一致性问题主要原因是破坏了事务的隔离性，解决方法是通过并发控制来保证隔离性。并发控制可以通过封锁来实现，但是封锁操作需要用户自己控制，相当复杂。数据库管理系统提供了事务的隔离级别，让用户以一种更轻松的方式处理并发一致性问题。</p> <h1 id="三、封锁"><a href="#三、封锁" class="header-anchor">#</a> 三、封锁</h1> <hr> <h3 id="封锁粒度"><a href="#封锁粒度" class="header-anchor">#</a> 封锁粒度</h3> <p>MySQL 中提供了两种封锁粒度: 行级锁以及表级锁。</p> <p>应该尽量只锁定需要修改的那部分数据，而不是所有的资源。锁定的数据量越少，发生锁争用的可能就越小，系统的并发程度就越高。</p> <p>但是加锁需要消耗资源，锁的各种操作(包括获取锁、释放锁、以及检查锁状态)都会增加系统开销。因此封锁粒度越小，系统开销就越大。</p> <p>在选择封锁粒度时，需要在锁开销和并发程度之间做一个权衡。</p> <p><img src="data:image/jpeg;base64,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" alt="image"></p> <h3 id="封锁类型"><a href="#封锁类型" class="header-anchor">#</a> 封锁类型</h3> <h4 id="_1-读写锁"><a href="#_1-读写锁" class="header-anchor">#</a> 1. 读写锁</h4> <ul><li>排它锁(Exclusive)，简写为 X 锁，又称写锁。</li> <li>共享锁(Shared)，简写为 S 锁，又称读锁。</li></ul> <p>有以下两个规定:</p> <ul><li>一个事务对数据对象 A 加了 X 锁，就可以对 A 进行读取和更新。加锁期间其它事务不能对 A 加任何锁。</li> <li>一个事务对数据对象 A 加了 S 锁，可以对 A 进行读取操作，但是不能进行更新操作。加锁期间其它事务能对 A 加 S 锁，但是不能加 X 锁。</li></ul> <p>锁的兼容关系如下:</p> <table><thead><tr><th>-</th> <th>X</th> <th>S</th></tr></thead> <tbody><tr><td>X</td> <td>×</td> <td>×</td></tr> <tr><td>S</td> <td>×</td> <td>√</td></tr></tbody></table> <h4 id="_2-意向锁"><a href="#_2-意向锁" class="header-anchor">#</a> 2. 意向锁</h4> <p>使用意向锁(Intention Locks)可以更容易地支持多粒度封锁。</p> <p>在存在行级锁和表级锁的情况下，事务 T 想要对表 A 加 X 锁，就需要先检测是否有其它事务对表 A 或者表 A 中的任意一行加了锁，那么就需要对表 A 的每一行都检测一次，这是非常耗时的。</p> <p>意向锁在原来的 X/S 锁之上引入了 IX/IS，IX/IS 都是表锁，用来表示一个事务想要在表中的某个数据行上加 X 锁或 S 锁。有以下两个规定:</p> <ul><li>一个事务在获得某个数据行对象的 S 锁之前，必须先获得表的 IS 锁或者更强的锁；</li> <li>一个事务在获得某个数据行对象的 X 锁之前，必须先获得表的 IX 锁。</li></ul> <p>通过引入意向锁，事务 T 想要对表 A 加 X 锁，只需要先检测是否有其它事务对表 A 加了 X/IX/S/IS 锁，如果加了就表示有其它事务正在使用这个表或者表中某一行的锁，因此事务 T 加 X 锁失败。</p> <p>各种锁的兼容关系如下:</p> <table><thead><tr><th>-</th> <th>X</th> <th>IX</th> <th>S</th> <th>IS</th></tr></thead> <tbody><tr><td>X</td> <td>×</td> <td>×</td> <td>×</td> <td>×</td></tr> <tr><td>IX</td> <td>×</td> <td>√</td> <td>×</td> <td>√</td></tr> <tr><td>S</td> <td>×</td> <td>×</td> <td>√</td> <td>√</td></tr> <tr><td>IS</td> <td>×</td> <td>√</td> <td>√</td> <td>√</td></tr></tbody></table> <p>解释如下:</p> <ul><li>任意 IS/IX 锁之间都是兼容的，因为它们只是表示想要对表加锁，而不是真正加锁；</li> <li>S 锁只与 S 锁和 IS 锁兼容，也就是说事务 T 想要对数据行加 S 锁，其它事务可以已经获得对表或者表中的行的 S 锁。</li></ul> <h3 id="封锁协议"><a href="#封锁协议" class="header-anchor">#</a> 封锁协议</h3> <h4 id="_1-三级封锁协议"><a href="#_1-三级封锁协议" class="header-anchor">#</a> 1. 三级封锁协议</h4> <p><strong>一级封锁协议</strong></p> <p>事务 T 要修改数据 A 时必须加 X 锁，直到 T 结束才释放锁。</p> <p>可以解决丢失修改问题，因为不能同时有两个事务对同一个数据进行修改，那么事务的修改就不会被覆盖。</p> <table><thead><tr><th>T1</th> <th>T2</th></tr></thead> <tbody><tr><td>lock-x(A)</td> <td></td></tr> <tr><td>read A=20</td> <td></td></tr> <tr><td></td> <td>lock-x(A)</td></tr> <tr><td></td> <td>wait</td></tr> <tr><td>write A=19</td> <td>.</td></tr> <tr><td>commit</td> <td>.</td></tr> <tr><td>unlock-x(A)</td> <td>.</td></tr> <tr><td></td> <td>obtain</td></tr> <tr><td></td> <td>read A=19</td></tr> <tr><td></td> <td>write A=21</td></tr> <tr><td></td> <td>commit</td></tr> <tr><td></td> <td>unlock-x(A)</td></tr></tbody></table> <p><strong>二级封锁协议</strong></p> <p>在一级的基础上，要求读取数据 A 时必须加 S 锁，读取完马上释放 S 锁。</p> <p>可以解决读脏数据问题，因为如果一个事务在对数据 A 进行修改，根据 1 级封锁协议，会加 X 锁，那么就不能再加 S 锁了，也就是不会读入数据。</p> <table><thead><tr><th>T1</th> <th>T2</th></tr></thead> <tbody><tr><td>lock-x(A)</td> <td></td></tr> <tr><td>read A=20</td> <td></td></tr> <tr><td>write A=19</td> <td></td></tr> <tr><td></td> <td>lock-s(A)</td></tr> <tr><td></td> <td>wait</td></tr> <tr><td>rollback</td> <td>.</td></tr> <tr><td>A=20</td> <td>.</td></tr> <tr><td>unlock-x(A)</td> <td>.</td></tr> <tr><td></td> <td>obtain</td></tr> <tr><td></td> <td>read A=20</td></tr> <tr><td></td> <td>commit</td></tr> <tr><td></td> <td>unlock-s(A)</td></tr></tbody></table> <p><strong>三级封锁协议</strong></p> <p>在二级的基础上，要求读取数据 A 时必须加 S 锁，直到事务结束了才能释放 S 锁。</p> <p>可以解决不可重复读的问题，因为读 A 时，其它事务不能对 A 加 X 锁，从而避免了在读的期间数据发生改变。</p> <table><thead><tr><th>T1</th> <th>T2</th></tr></thead> <tbody><tr><td>lock-s(A)</td> <td></td></tr> <tr><td>read A=20</td> <td></td></tr> <tr><td></td> <td>lock-x(A)</td></tr> <tr><td></td> <td>wait</td></tr> <tr><td>read A=20</td> <td>.</td></tr> <tr><td>commit</td> <td>.</td></tr> <tr><td>unlock-s(A)</td> <td>.</td></tr> <tr><td></td> <td>obtain</td></tr> <tr><td></td> <td>read A=20</td></tr> <tr><td></td> <td>write A=19</td></tr> <tr><td></td> <td>commit</td></tr> <tr><td></td> <td>unlock-X(A)</td></tr></tbody></table> <h4 id="_2-两段锁协议"><a href="#_2-两段锁协议" class="header-anchor">#</a> 2. 两段锁协议</h4> <p>加锁和解锁分为两个阶段进行。</p> <p>可串行化调度是指，通过并发控制，使得并发执行的事务结果与某个串行执行的事务结果相同。</p> <p>事务遵循两段锁协议是保证可串行化调度的充分条件。例如以下操作满足两段锁协议，它是可串行化调度。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>lock-x(A)...lock-s(B)...lock-s(C)...unlock(A)...unlock(C)...unlock(B)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但不是必要条件，例如以下操作不满足两段锁协议，但是它还是可串行化调度。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>lock-x(A)...unlock(A)...lock-s(B)...unlock(B)...lock-s(C)...unlock(C)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="mysql-隐式与显示锁定"><a href="#mysql-隐式与显示锁定" class="header-anchor">#</a> MySQL 隐式与显示锁定</h3> <p>MySQL 的 InnoDB 存储引擎采用两段锁协议，会根据隔离级别在需要的时候自动加锁，并且所有的锁都是在同一时刻被释放，这被称为隐式锁定。</p> <p>InnoDB 也可以使用特定的语句进行显示锁定:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT ... LOCK In SHARE MODE;
SELECT ... FOR UPDATE;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h1 id="四、隔离级别"><a href="#四、隔离级别" class="header-anchor">#</a> 四、隔离级别</h1> <hr> <h3 id="未提交读-read-uncommitted"><a href="#未提交读-read-uncommitted" class="header-anchor">#</a> 未提交读(READ UNCOMMITTED)</h3> <p>事务中的修改，即使没有提交，对其它事务也是可见的。</p> <h3 id="提交读-read-committed"><a href="#提交读-read-committed" class="header-anchor">#</a> 提交读(READ COMMITTED)</h3> <p>一个事务只能读取已经提交的事务所做的修改。换句话说，一个事务所做的修改在提交之前对其它事务是不可见的。</p> <h3 id="可重复读-repeatable-read"><a href="#可重复读-repeatable-read" class="header-anchor">#</a> 可重复读(REPEATABLE READ)</h3> <p>保证在同一个事务中多次读取同样数据的结果是一样的。</p> <h3 id="可串行化-serializable"><a href="#可串行化-serializable" class="header-anchor">#</a> 可串行化(SERIALIZABLE)</h3> <p>强制事务串行执行。</p> <hr> <table><thead><tr><th>隔离级别</th> <th>脏读</th> <th>不可重复读</th> <th>幻影读</th></tr></thead> <tbody><tr><td>未提交读</td> <td>√</td> <td>√</td> <td>√</td></tr> <tr><td>提交读</td> <td>×</td> <td>√</td> <td>√</td></tr> <tr><td>可重复读</td> <td>×</td> <td>×</td> <td>√</td></tr> <tr><td>可串行化</td> <td>×</td> <td>×</td> <td>×</td></tr></tbody></table> <h1 id="五、多版本并发控制"><a href="#五、多版本并发控制" class="header-anchor">#</a> 五、多版本并发控制</h1> <hr> <p>多版本并发控制(Multi-Version Concurrency Control, MVCC)是 MySQL 的 InnoDB 存储引擎实现隔离级别的一种具体方式，用于实现提交读和可重复读这两种隔离级别。而未提交读隔离级别总是读取最新的数据行，无需使用 MVCC。可串行化隔离级别需要对所有读取的行都加锁，单纯使用 MVCC 无法实现。</p> <h3 id="版本号"><a href="#版本号" class="header-anchor">#</a> 版本号</h3> <ul><li>系统版本号: 是一个递增的数字，每开始一个新的事务，系统版本号就会自动递增。</li> <li>事务版本号: 事务开始时的系统版本号。</li></ul> <h3 id="隐藏的列"><a href="#隐藏的列" class="header-anchor">#</a> 隐藏的列</h3> <p>MVCC 在每行记录后面都保存着两个隐藏的列，用来存储两个版本号:</p> <ul><li>创建版本号: 指示创建一个数据行的快照时的系统版本号；</li> <li>删除版本号: 如果该快照的删除版本号大于当前事务版本号表示该快照有效，否则表示该快照已经被删除了。</li></ul> <h3 id="undo-日志"><a href="#undo-日志" class="header-anchor">#</a> Undo 日志</h3> <p>MVCC 使用到的快照存储在 Undo 日志中，该日志通过回滚指针把一个数据行(Record)的所有快照连接起来。</p> <p><img src="data:image/jpeg;base64,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" alt="image"></p> <h3 id="实现过程"><a href="#实现过程" class="header-anchor">#</a> 实现过程</h3> <p>以下实现过程针对可重复读隔离级别。</p> <p>当开始新一个事务时，该事务的版本号肯定会大于当前所有数据行快照的创建版本号，理解这一点很关键。</p> <h4 id="_1-select"><a href="#_1-select" class="header-anchor">#</a> 1. SELECT</h4> <p>多个事务必须读取到同一个数据行的快照，并且这个快照是距离现在最近的一个有效快照。但是也有例外，如果有一个事务正在修改该数据行，那么它可以读取事务本身所做的修改，而不用和其它事务的读取结果一致。</p> <p>把没有对一个数据行做修改的事务称为 T，T 所要读取的数据行快照的创建版本号必须小于 T 的版本号，因为如果大于或者等于 T 的版本号，那么表示该数据行快照是其它事务的最新修改，因此不能去读取它。除此之外，T 所要读取的数据行快照的删除版本号必须大于 T 的版本号，因为如果小于等于 T 的版本号，那么表示该数据行快照是已经被删除的，不应该去读取它。</p> <h4 id="_2-insert"><a href="#_2-insert" class="header-anchor">#</a> 2. INSERT</h4> <p>将当前系统版本号作为数据行快照的创建版本号。</p> <h4 id="_3-delete"><a href="#_3-delete" class="header-anchor">#</a> 3. DELETE</h4> <p>将当前系统版本号作为数据行快照的删除版本号。</p> <h4 id="_4-update"><a href="#_4-update" class="header-anchor">#</a> 4. UPDATE</h4> <p>将当前系统版本号作为更新前的数据行快照的删除版本号，并将当前系统版本号作为更新后的数据行快照的创建版本号。可以理解为先执行 DELETE 后执行 INSERT。</p> <h3 id="快照读与当前读"><a href="#快照读与当前读" class="header-anchor">#</a> 快照读与当前读</h3> <h4 id="_1-快照读"><a href="#_1-快照读" class="header-anchor">#</a> 1. 快照读</h4> <p>使用 MVCC 读取的是快照中的数据，这样可以减少加锁所带来的开销。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from table ...;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-当前读"><a href="#_2-当前读" class="header-anchor">#</a> 2. 当前读</h4> <p>读取的是最新的数据，需要加锁。以下第一个语句需要加 S 锁，其它都需要加 X 锁。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from table where ? lock in share mode;
select * from table where ? for update;
insert;
update;
delete;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="六、next-key-locks"><a href="#六、next-key-locks" class="header-anchor">#</a> 六、Next-Key Locks</h1> <hr> <p>Next-Key Locks 是 MySQL 的 InnoDB 存储引擎的一种锁实现。</p> <p>MVCC 不能解决幻读的问题，Next-Key Locks 就是为了解决这个问题而存在的。在可重复读(REPEATABLE READ)隔离级别下，使用 MVCC + Next-Key Locks 可以解决幻读问题。</p> <h3 id="record-locks"><a href="#record-locks" class="header-anchor">#</a> Record Locks</h3> <p>锁定一个记录上的索引，而不是记录本身。</p> <p>如果表没有设置索引，InnoDB 会自动在主键上创建隐藏的聚簇索引，因此 Record Locks 依然可以使用。</p> <h3 id="gap-locks"><a href="#gap-locks" class="header-anchor">#</a> Gap Locks</h3> <p>锁定索引之间的间隙，但是不包含索引本身。例如当一个事务执行以下语句，其它事务就不能在 t.c 中插入 15。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT c FROM t WHERE c BETWEEN 10 and 20 FOR UPDATE;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="next-key-locks"><a href="#next-key-locks" class="header-anchor">#</a> Next-Key Locks</h3> <p>它是 Record Locks 和 Gap Locks 的结合，不仅锁定一个记录上的索引，也锁定索引之间的间隙。例如一个索引包含以下值: 10, 11, 13, and 20，那么就需要锁定以下区间:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(negative infinity, 10]
(10, 11]
(11, 13]
(13, 20]
(20, positive infinity)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h1> <hr> <ul><li>AbrahamSilberschatz, HenryF.Korth, S.Sudarshan, 等. 数据库系统概念 [M]. 机械工业出版社, 2006.</li> <li>施瓦茨. 高性能 MYSQL(第3版)[M]. 电子工业出版社, 2013.</li> <li>史嘉权. 数据库系统概论[M]. 清华大学出版社有限公司, 2006.</li> <li><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-storage-engine.html" target="_blank" rel="noopener noreferrer">The InnoDB Storage Engine 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.slideshare.net/ErnestoHernandezRodriguez/transaction-isolation-levels" target="_blank" rel="noopener noreferrer">Transaction isolation levels 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://scanftree.com/dbms/2-phase-locking-protocol" target="_blank" rel="noopener noreferrer">Concurrency Control 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.slideshare.net/brshristov/the-nightmare-of-locking-blocking-and-isolation-levels-46391666" target="_blank" rel="noopener noreferrer">The Nightmare of Locking, Blocking and Isolation Levels! 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://aksakalli.github.io/2012/03/12/database-normalization-and-normal-forms-with-an-example.html" target="_blank" rel="noopener noreferrer">Database Normalization and Normal Forms with an Example 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.jcole.us/2014/04/16/the-basics-of-the-innodb-undo-logging-and-history-system/" target="_blank" rel="noopener noreferrer">The basics of the InnoDB undo logging and history system 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.brightbox.com/blog/2013/10/31/on-mysql-locks/" target="_blank" rel="noopener noreferrer">MySQL locking for the busy web developer 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://draveness.me/mysql-innodb" target="_blank" rel="noopener noreferrer">浅入浅出 MySQL 和 InnoDB 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://tech.meituan.com/innodb-lock.html" target="_blank" rel="noopener noreferrer">Innodb 中的事务隔离级别和锁的关系 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://fanxgit.github.io/fanxNotes/edit/master/docs/database/01.数据库基础和原理/05.SQL DB - 数据库系统核心知识点.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">8/17/2023, 5:04:28 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/940221/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">SQL DB - 关系型数据库设计流程</div></a> <a href="/pages/5becb2/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">SQL语言 - SQL语法基础</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/940221/" class="prev">SQL DB - 关系型数据库设计流程</a></span> <span class="next"><a href="/pages/5becb2/">SQL语言 - SQL语法基础</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/797621/"><div>
            VuePress+GithubPages教程
            <!----></div></a> <span class="date">11-19</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/016620/"><div>
            java打jar包整理
            <!----></div></a> <span class="date">11-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/b23a10/"><div>
            多线程问题总结
            <!----></div></a> <span class="date">11-14</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.38fd400a.js" defer></script><script src="/assets/js/3.e11db813.js" defer></script><script src="/assets/js/145.ebc34777.js" defer></script>
  </body>
</html>
