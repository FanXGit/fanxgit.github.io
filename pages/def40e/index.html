<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mongo进阶 - DB核心-分片Sharding | Fanx 知识库</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/logo.svg">[object Object]
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.6ece31e0.css" as="style"><link rel="preload" href="/assets/js/app.38fd400a.js" as="script"><link rel="preload" href="/assets/js/3.e11db813.js" as="script"><link rel="preload" href="/assets/js/123.f2c2826d.js" as="script"><link rel="prefetch" href="/assets/js/10.939e2dd4.js"><link rel="prefetch" href="/assets/js/100.4a08f581.js"><link rel="prefetch" href="/assets/js/101.45cd45c9.js"><link rel="prefetch" href="/assets/js/102.ac1359d1.js"><link rel="prefetch" href="/assets/js/103.22344102.js"><link rel="prefetch" href="/assets/js/104.5071cdfd.js"><link rel="prefetch" href="/assets/js/105.7767c121.js"><link rel="prefetch" href="/assets/js/106.809b79f1.js"><link rel="prefetch" href="/assets/js/107.62fd626a.js"><link rel="prefetch" href="/assets/js/108.0583fdc1.js"><link rel="prefetch" href="/assets/js/109.fa127771.js"><link rel="prefetch" href="/assets/js/11.6463adc8.js"><link rel="prefetch" href="/assets/js/110.5cf9f09c.js"><link rel="prefetch" href="/assets/js/111.9d963667.js"><link rel="prefetch" href="/assets/js/112.bc2b8a6e.js"><link rel="prefetch" href="/assets/js/113.2ae29573.js"><link rel="prefetch" href="/assets/js/114.0b2cedfa.js"><link rel="prefetch" href="/assets/js/115.652e433e.js"><link rel="prefetch" href="/assets/js/116.bcc5d64a.js"><link rel="prefetch" href="/assets/js/117.30b02d0d.js"><link rel="prefetch" href="/assets/js/118.87f4f927.js"><link rel="prefetch" href="/assets/js/119.05839492.js"><link rel="prefetch" href="/assets/js/12.a17960e5.js"><link rel="prefetch" href="/assets/js/120.3d772c9c.js"><link rel="prefetch" href="/assets/js/121.bd8fcebf.js"><link rel="prefetch" href="/assets/js/122.e58d2205.js"><link rel="prefetch" href="/assets/js/124.12d9ff87.js"><link rel="prefetch" href="/assets/js/125.c7e4bf1c.js"><link rel="prefetch" href="/assets/js/126.71c358fb.js"><link rel="prefetch" href="/assets/js/127.fb1922e5.js"><link rel="prefetch" href="/assets/js/128.25cbf771.js"><link rel="prefetch" href="/assets/js/129.50047ea3.js"><link rel="prefetch" href="/assets/js/13.727ebfda.js"><link rel="prefetch" href="/assets/js/130.a77cfa28.js"><link rel="prefetch" href="/assets/js/131.1618c1f5.js"><link rel="prefetch" href="/assets/js/132.4073573b.js"><link rel="prefetch" href="/assets/js/133.f6e4882f.js"><link rel="prefetch" href="/assets/js/134.1de81973.js"><link rel="prefetch" href="/assets/js/135.43148a0c.js"><link rel="prefetch" href="/assets/js/136.12b3ef34.js"><link rel="prefetch" href="/assets/js/137.accefc34.js"><link rel="prefetch" href="/assets/js/138.8d3115ff.js"><link rel="prefetch" href="/assets/js/139.6e492e2b.js"><link rel="prefetch" href="/assets/js/14.bc6d3062.js"><link rel="prefetch" href="/assets/js/140.3d98f006.js"><link rel="prefetch" href="/assets/js/141.542d08af.js"><link rel="prefetch" href="/assets/js/142.c91a19a2.js"><link rel="prefetch" href="/assets/js/143.0c681ed2.js"><link rel="prefetch" href="/assets/js/144.62e9c646.js"><link rel="prefetch" href="/assets/js/145.ebc34777.js"><link rel="prefetch" href="/assets/js/146.d94a04a7.js"><link rel="prefetch" href="/assets/js/147.b45158de.js"><link rel="prefetch" href="/assets/js/148.5dfa6740.js"><link rel="prefetch" href="/assets/js/149.cb6f2cb0.js"><link rel="prefetch" href="/assets/js/15.a9468bf1.js"><link rel="prefetch" href="/assets/js/150.9f58dbc6.js"><link rel="prefetch" href="/assets/js/151.0a1c07e3.js"><link rel="prefetch" href="/assets/js/152.eafe4843.js"><link rel="prefetch" href="/assets/js/153.fb94cab5.js"><link rel="prefetch" href="/assets/js/154.07f7a11d.js"><link rel="prefetch" href="/assets/js/155.7f6da40b.js"><link rel="prefetch" href="/assets/js/156.2f007ca1.js"><link rel="prefetch" href="/assets/js/157.a35b5249.js"><link rel="prefetch" href="/assets/js/158.540f7a5a.js"><link rel="prefetch" href="/assets/js/159.f62e0315.js"><link rel="prefetch" href="/assets/js/16.ace3b806.js"><link rel="prefetch" href="/assets/js/160.e043c758.js"><link rel="prefetch" href="/assets/js/161.d90141bf.js"><link rel="prefetch" href="/assets/js/162.ddcdbfb9.js"><link rel="prefetch" href="/assets/js/163.f1ba395e.js"><link rel="prefetch" href="/assets/js/164.9f398973.js"><link rel="prefetch" href="/assets/js/165.0db3da51.js"><link rel="prefetch" href="/assets/js/166.b5305797.js"><link rel="prefetch" href="/assets/js/167.e7b2f76b.js"><link rel="prefetch" href="/assets/js/168.a2ecf883.js"><link rel="prefetch" href="/assets/js/169.88bd4d26.js"><link rel="prefetch" href="/assets/js/17.60481837.js"><link rel="prefetch" href="/assets/js/170.fb1699e2.js"><link rel="prefetch" href="/assets/js/171.47268bef.js"><link rel="prefetch" href="/assets/js/172.79002327.js"><link rel="prefetch" href="/assets/js/173.3b1813fb.js"><link rel="prefetch" href="/assets/js/174.362811a9.js"><link rel="prefetch" href="/assets/js/175.bb48bcd7.js"><link rel="prefetch" href="/assets/js/176.97bbf32c.js"><link rel="prefetch" href="/assets/js/177.0717ff7a.js"><link rel="prefetch" href="/assets/js/178.75bff3b7.js"><link rel="prefetch" href="/assets/js/179.3e7db0a2.js"><link rel="prefetch" href="/assets/js/18.dd3c5709.js"><link rel="prefetch" href="/assets/js/180.c81da8dd.js"><link rel="prefetch" href="/assets/js/181.142d6d1c.js"><link rel="prefetch" href="/assets/js/182.fb312040.js"><link rel="prefetch" href="/assets/js/183.3684267e.js"><link rel="prefetch" href="/assets/js/184.ec2a13bc.js"><link rel="prefetch" href="/assets/js/185.a7acace4.js"><link rel="prefetch" href="/assets/js/186.7df28551.js"><link rel="prefetch" href="/assets/js/187.347e9348.js"><link rel="prefetch" href="/assets/js/188.07356026.js"><link rel="prefetch" href="/assets/js/189.0816176d.js"><link rel="prefetch" href="/assets/js/19.cc2d4ad1.js"><link rel="prefetch" href="/assets/js/190.fd5dd8cc.js"><link rel="prefetch" href="/assets/js/191.a938967e.js"><link rel="prefetch" href="/assets/js/192.859b71a1.js"><link rel="prefetch" href="/assets/js/193.adcf2ec3.js"><link rel="prefetch" href="/assets/js/194.69d1169c.js"><link rel="prefetch" href="/assets/js/195.ad7cbcc4.js"><link rel="prefetch" href="/assets/js/196.b65138da.js"><link rel="prefetch" href="/assets/js/197.b4fca73b.js"><link rel="prefetch" href="/assets/js/198.2494a23f.js"><link rel="prefetch" href="/assets/js/199.404b9ce1.js"><link rel="prefetch" href="/assets/js/2.938bab56.js"><link rel="prefetch" href="/assets/js/20.361e2bf6.js"><link rel="prefetch" href="/assets/js/200.42b54eae.js"><link rel="prefetch" href="/assets/js/201.ab495eb8.js"><link rel="prefetch" href="/assets/js/202.2cbc5c9a.js"><link rel="prefetch" href="/assets/js/203.abf3fde5.js"><link rel="prefetch" href="/assets/js/204.4fdd4cfb.js"><link rel="prefetch" href="/assets/js/205.411987d7.js"><link rel="prefetch" href="/assets/js/206.dbcab3ae.js"><link rel="prefetch" href="/assets/js/207.f1429354.js"><link rel="prefetch" href="/assets/js/208.f763286c.js"><link rel="prefetch" href="/assets/js/209.c1edbca5.js"><link rel="prefetch" href="/assets/js/21.ae1e88a3.js"><link rel="prefetch" href="/assets/js/210.b2a1501d.js"><link rel="prefetch" href="/assets/js/211.fe1fd5f7.js"><link rel="prefetch" href="/assets/js/212.0fd39a8f.js"><link rel="prefetch" href="/assets/js/213.bb3fc163.js"><link rel="prefetch" href="/assets/js/214.c42e1ef3.js"><link rel="prefetch" href="/assets/js/215.4f0fa915.js"><link rel="prefetch" href="/assets/js/216.07c485c9.js"><link rel="prefetch" href="/assets/js/217.ada25e7a.js"><link rel="prefetch" href="/assets/js/218.2f761d3c.js"><link rel="prefetch" href="/assets/js/219.32d1a663.js"><link rel="prefetch" href="/assets/js/22.0b09d67f.js"><link rel="prefetch" href="/assets/js/220.36c56cf4.js"><link rel="prefetch" href="/assets/js/221.3e0431e2.js"><link rel="prefetch" href="/assets/js/222.90aa0ff7.js"><link rel="prefetch" href="/assets/js/223.5966d7df.js"><link rel="prefetch" href="/assets/js/224.7e2329e1.js"><link rel="prefetch" href="/assets/js/225.2ed3675d.js"><link rel="prefetch" href="/assets/js/226.fa3cef02.js"><link rel="prefetch" href="/assets/js/227.07bf7bca.js"><link rel="prefetch" href="/assets/js/228.9ac2589a.js"><link rel="prefetch" href="/assets/js/229.b980e141.js"><link rel="prefetch" href="/assets/js/23.31ed5c2f.js"><link rel="prefetch" href="/assets/js/230.2c32e874.js"><link rel="prefetch" href="/assets/js/231.723e20cb.js"><link rel="prefetch" href="/assets/js/232.1f94511c.js"><link rel="prefetch" href="/assets/js/233.2d477f71.js"><link rel="prefetch" href="/assets/js/234.10141c75.js"><link rel="prefetch" href="/assets/js/235.a328b127.js"><link rel="prefetch" href="/assets/js/236.42419c3b.js"><link rel="prefetch" href="/assets/js/237.648ca44e.js"><link rel="prefetch" href="/assets/js/238.4b363b75.js"><link rel="prefetch" href="/assets/js/239.fe711a73.js"><link rel="prefetch" href="/assets/js/24.fe75e3fa.js"><link rel="prefetch" href="/assets/js/240.6baa12bf.js"><link rel="prefetch" href="/assets/js/241.6f375dc4.js"><link rel="prefetch" href="/assets/js/242.aee8e39d.js"><link rel="prefetch" href="/assets/js/243.bfc7f6e1.js"><link rel="prefetch" href="/assets/js/244.c73a14a7.js"><link rel="prefetch" href="/assets/js/245.a2352aa1.js"><link rel="prefetch" href="/assets/js/246.b12c3ae6.js"><link rel="prefetch" href="/assets/js/247.2f768275.js"><link rel="prefetch" href="/assets/js/248.3f79dfb1.js"><link rel="prefetch" href="/assets/js/249.7fd0cb75.js"><link rel="prefetch" href="/assets/js/25.f2e379df.js"><link rel="prefetch" href="/assets/js/250.df3f1d0a.js"><link rel="prefetch" href="/assets/js/251.a3865750.js"><link rel="prefetch" href="/assets/js/252.d62542df.js"><link rel="prefetch" href="/assets/js/253.59b2f200.js"><link rel="prefetch" href="/assets/js/254.522d17b5.js"><link rel="prefetch" href="/assets/js/255.0f95a196.js"><link rel="prefetch" href="/assets/js/256.31b37cbe.js"><link rel="prefetch" href="/assets/js/257.ff22ad12.js"><link rel="prefetch" href="/assets/js/258.15205e0b.js"><link rel="prefetch" href="/assets/js/259.f3b7c5aa.js"><link rel="prefetch" href="/assets/js/26.45264b04.js"><link rel="prefetch" href="/assets/js/260.fec3c7aa.js"><link rel="prefetch" href="/assets/js/261.d965ee56.js"><link rel="prefetch" href="/assets/js/262.76a7105b.js"><link rel="prefetch" href="/assets/js/263.e684cc46.js"><link rel="prefetch" href="/assets/js/264.59297da0.js"><link rel="prefetch" href="/assets/js/265.66182ed2.js"><link rel="prefetch" href="/assets/js/266.eec50d90.js"><link rel="prefetch" href="/assets/js/267.c85bce12.js"><link rel="prefetch" href="/assets/js/268.ef544f0c.js"><link rel="prefetch" href="/assets/js/269.8cfb5c6a.js"><link rel="prefetch" href="/assets/js/27.4e065810.js"><link rel="prefetch" href="/assets/js/270.b66cab3c.js"><link rel="prefetch" href="/assets/js/271.c1b7d136.js"><link rel="prefetch" href="/assets/js/272.0d7950c3.js"><link rel="prefetch" href="/assets/js/273.06349cca.js"><link rel="prefetch" href="/assets/js/274.9b442c09.js"><link rel="prefetch" href="/assets/js/275.11082d81.js"><link rel="prefetch" href="/assets/js/276.ce0abe31.js"><link rel="prefetch" href="/assets/js/277.4b7fcc53.js"><link rel="prefetch" href="/assets/js/278.129d0397.js"><link rel="prefetch" href="/assets/js/279.5c021f7c.js"><link rel="prefetch" href="/assets/js/28.126ecd33.js"><link rel="prefetch" href="/assets/js/280.d183c9e3.js"><link rel="prefetch" href="/assets/js/281.0df67750.js"><link rel="prefetch" href="/assets/js/282.8fdd2372.js"><link rel="prefetch" href="/assets/js/283.dae956df.js"><link rel="prefetch" href="/assets/js/284.c5dc7189.js"><link rel="prefetch" href="/assets/js/285.7f5a7367.js"><link rel="prefetch" href="/assets/js/286.d9bfcef5.js"><link rel="prefetch" href="/assets/js/287.4fa6a5c5.js"><link rel="prefetch" href="/assets/js/288.57904d2d.js"><link rel="prefetch" href="/assets/js/289.b96d7c2f.js"><link rel="prefetch" href="/assets/js/29.8f5db82a.js"><link rel="prefetch" href="/assets/js/290.8dda9646.js"><link rel="prefetch" href="/assets/js/291.ab433493.js"><link rel="prefetch" href="/assets/js/292.e2d59796.js"><link rel="prefetch" href="/assets/js/293.30f9fcc4.js"><link rel="prefetch" href="/assets/js/294.158492dc.js"><link rel="prefetch" href="/assets/js/295.33e3a53d.js"><link rel="prefetch" href="/assets/js/296.49d7a2de.js"><link rel="prefetch" href="/assets/js/297.1b7572ac.js"><link rel="prefetch" href="/assets/js/298.00e4586a.js"><link rel="prefetch" href="/assets/js/299.d8fb6ff9.js"><link rel="prefetch" href="/assets/js/30.ef97cb8e.js"><link rel="prefetch" href="/assets/js/300.90e9dadf.js"><link rel="prefetch" href="/assets/js/301.d5592ea1.js"><link rel="prefetch" href="/assets/js/302.b08dc1ea.js"><link rel="prefetch" href="/assets/js/303.bef541c8.js"><link rel="prefetch" href="/assets/js/304.be3f7081.js"><link rel="prefetch" href="/assets/js/305.13718421.js"><link rel="prefetch" href="/assets/js/306.41685aa2.js"><link rel="prefetch" href="/assets/js/307.6d569102.js"><link rel="prefetch" href="/assets/js/308.aaabab89.js"><link rel="prefetch" href="/assets/js/309.910ecc42.js"><link rel="prefetch" href="/assets/js/31.795b3334.js"><link rel="prefetch" href="/assets/js/310.104b7753.js"><link rel="prefetch" href="/assets/js/311.45f4a7da.js"><link rel="prefetch" href="/assets/js/312.180c7e45.js"><link rel="prefetch" href="/assets/js/313.87d3a801.js"><link rel="prefetch" href="/assets/js/314.7739b1ef.js"><link rel="prefetch" href="/assets/js/315.54a1fac0.js"><link rel="prefetch" href="/assets/js/316.a978a787.js"><link rel="prefetch" href="/assets/js/317.84f65f2c.js"><link rel="prefetch" href="/assets/js/318.7f8caff8.js"><link rel="prefetch" href="/assets/js/319.0b5276f3.js"><link rel="prefetch" href="/assets/js/32.e65c7229.js"><link rel="prefetch" href="/assets/js/320.ba90589a.js"><link rel="prefetch" href="/assets/js/321.b6810c5a.js"><link rel="prefetch" href="/assets/js/322.2eaa727d.js"><link rel="prefetch" href="/assets/js/323.17573ee3.js"><link rel="prefetch" href="/assets/js/324.806fd6ca.js"><link rel="prefetch" href="/assets/js/325.4cd65079.js"><link rel="prefetch" href="/assets/js/326.fe0e2e22.js"><link rel="prefetch" href="/assets/js/327.a64d0209.js"><link rel="prefetch" href="/assets/js/328.aca1c89a.js"><link rel="prefetch" href="/assets/js/329.53ccf1dd.js"><link rel="prefetch" href="/assets/js/33.9a57aab8.js"><link rel="prefetch" href="/assets/js/330.92822a09.js"><link rel="prefetch" href="/assets/js/331.6b82baff.js"><link rel="prefetch" href="/assets/js/332.fc20f585.js"><link rel="prefetch" href="/assets/js/333.005ba8e3.js"><link rel="prefetch" href="/assets/js/334.9d3309b8.js"><link rel="prefetch" href="/assets/js/335.0e938f19.js"><link rel="prefetch" href="/assets/js/336.01fe9903.js"><link rel="prefetch" href="/assets/js/337.e207d67c.js"><link rel="prefetch" href="/assets/js/338.bfcf6bc8.js"><link rel="prefetch" href="/assets/js/339.a502aa64.js"><link rel="prefetch" href="/assets/js/34.3835d35c.js"><link rel="prefetch" href="/assets/js/340.3888b147.js"><link rel="prefetch" href="/assets/js/341.20297f95.js"><link rel="prefetch" href="/assets/js/342.9cd149e9.js"><link rel="prefetch" href="/assets/js/343.faac8369.js"><link rel="prefetch" href="/assets/js/344.da8cd079.js"><link rel="prefetch" href="/assets/js/345.78303b88.js"><link rel="prefetch" href="/assets/js/346.d8eaca82.js"><link rel="prefetch" href="/assets/js/347.edd389a1.js"><link rel="prefetch" href="/assets/js/348.21ee9617.js"><link rel="prefetch" href="/assets/js/349.0251471a.js"><link rel="prefetch" href="/assets/js/35.76dc7096.js"><link rel="prefetch" href="/assets/js/350.710b7d30.js"><link rel="prefetch" href="/assets/js/351.535f8d60.js"><link rel="prefetch" href="/assets/js/352.c66fe42e.js"><link rel="prefetch" href="/assets/js/353.ebbcd333.js"><link rel="prefetch" href="/assets/js/354.7cbba2f1.js"><link rel="prefetch" href="/assets/js/355.0106db16.js"><link rel="prefetch" href="/assets/js/356.7debf350.js"><link rel="prefetch" href="/assets/js/357.a43eb887.js"><link rel="prefetch" href="/assets/js/358.28e5d2ed.js"><link rel="prefetch" href="/assets/js/359.956fc3b8.js"><link rel="prefetch" href="/assets/js/36.fc54452c.js"><link rel="prefetch" href="/assets/js/360.13fb600a.js"><link rel="prefetch" href="/assets/js/361.d100f85b.js"><link rel="prefetch" href="/assets/js/362.35277df2.js"><link rel="prefetch" href="/assets/js/363.d993a7fc.js"><link rel="prefetch" href="/assets/js/364.0168c2b0.js"><link rel="prefetch" href="/assets/js/365.bc8af0bb.js"><link rel="prefetch" href="/assets/js/366.2645dc0d.js"><link rel="prefetch" href="/assets/js/367.87368acb.js"><link rel="prefetch" href="/assets/js/368.0b7d41fc.js"><link rel="prefetch" href="/assets/js/369.4bf3f46e.js"><link rel="prefetch" href="/assets/js/37.5a47cee9.js"><link rel="prefetch" href="/assets/js/370.ea5f965e.js"><link rel="prefetch" href="/assets/js/371.1af764ef.js"><link rel="prefetch" href="/assets/js/372.bf6c68e2.js"><link rel="prefetch" href="/assets/js/373.1a605cc8.js"><link rel="prefetch" href="/assets/js/374.34a41a4a.js"><link rel="prefetch" href="/assets/js/375.1d2d3776.js"><link rel="prefetch" href="/assets/js/376.4b7b0b10.js"><link rel="prefetch" href="/assets/js/377.b3d9748a.js"><link rel="prefetch" href="/assets/js/378.7f00fa88.js"><link rel="prefetch" href="/assets/js/379.adcd298a.js"><link rel="prefetch" href="/assets/js/38.6614c565.js"><link rel="prefetch" href="/assets/js/380.6d08bb56.js"><link rel="prefetch" href="/assets/js/381.164bb4e3.js"><link rel="prefetch" href="/assets/js/382.f71f0ca4.js"><link rel="prefetch" href="/assets/js/383.01ba70ad.js"><link rel="prefetch" href="/assets/js/384.22b98cde.js"><link rel="prefetch" href="/assets/js/385.5f1298a9.js"><link rel="prefetch" href="/assets/js/386.01a912bc.js"><link rel="prefetch" href="/assets/js/387.3db4713f.js"><link rel="prefetch" href="/assets/js/388.4cde7d0f.js"><link rel="prefetch" href="/assets/js/389.d96bafad.js"><link rel="prefetch" href="/assets/js/39.1a09ed15.js"><link rel="prefetch" href="/assets/js/390.343bbc06.js"><link rel="prefetch" href="/assets/js/391.68b3e72a.js"><link rel="prefetch" href="/assets/js/392.f4f15e43.js"><link rel="prefetch" href="/assets/js/393.82475934.js"><link rel="prefetch" href="/assets/js/394.3101ea10.js"><link rel="prefetch" href="/assets/js/395.34083342.js"><link rel="prefetch" href="/assets/js/396.780d6efe.js"><link rel="prefetch" href="/assets/js/397.cb686f39.js"><link rel="prefetch" href="/assets/js/398.c4ad669f.js"><link rel="prefetch" href="/assets/js/399.ee8d28ad.js"><link rel="prefetch" href="/assets/js/4.c1dcb1a7.js"><link rel="prefetch" href="/assets/js/40.4216f4f9.js"><link rel="prefetch" href="/assets/js/400.23d48a38.js"><link rel="prefetch" href="/assets/js/401.319d7a68.js"><link rel="prefetch" href="/assets/js/402.25b27bd0.js"><link rel="prefetch" href="/assets/js/403.9a898a40.js"><link rel="prefetch" href="/assets/js/404.e3b49b79.js"><link rel="prefetch" href="/assets/js/405.7695b9f1.js"><link rel="prefetch" href="/assets/js/406.edb801f7.js"><link rel="prefetch" href="/assets/js/407.03c3f725.js"><link rel="prefetch" href="/assets/js/408.4345ef1f.js"><link rel="prefetch" href="/assets/js/409.77c34447.js"><link rel="prefetch" href="/assets/js/41.f035663a.js"><link rel="prefetch" href="/assets/js/410.7f6c0744.js"><link rel="prefetch" href="/assets/js/411.cb19323e.js"><link rel="prefetch" href="/assets/js/412.4b16959d.js"><link rel="prefetch" href="/assets/js/413.ff4f1ca2.js"><link rel="prefetch" href="/assets/js/414.b1ca1298.js"><link rel="prefetch" href="/assets/js/415.c2111593.js"><link rel="prefetch" href="/assets/js/416.a6d18039.js"><link rel="prefetch" href="/assets/js/417.dc36c66d.js"><link rel="prefetch" href="/assets/js/418.e7eba879.js"><link rel="prefetch" href="/assets/js/419.57673b9e.js"><link rel="prefetch" href="/assets/js/42.9c8cf569.js"><link rel="prefetch" href="/assets/js/420.ccd41fe0.js"><link rel="prefetch" href="/assets/js/421.ea69f0b0.js"><link rel="prefetch" href="/assets/js/422.093448e2.js"><link rel="prefetch" href="/assets/js/423.ae003f31.js"><link rel="prefetch" href="/assets/js/424.f670cd2b.js"><link rel="prefetch" href="/assets/js/425.6e814335.js"><link rel="prefetch" href="/assets/js/426.faf45206.js"><link rel="prefetch" href="/assets/js/427.cf6be942.js"><link rel="prefetch" href="/assets/js/428.9ff6199c.js"><link rel="prefetch" href="/assets/js/429.b6ef4678.js"><link rel="prefetch" href="/assets/js/43.717fe06b.js"><link rel="prefetch" href="/assets/js/430.e9575d07.js"><link rel="prefetch" href="/assets/js/431.8bf26a3e.js"><link rel="prefetch" href="/assets/js/432.5eaa2162.js"><link rel="prefetch" href="/assets/js/433.6dab12a1.js"><link rel="prefetch" href="/assets/js/434.fca918e8.js"><link rel="prefetch" href="/assets/js/435.4c8f9ad9.js"><link rel="prefetch" href="/assets/js/436.0f0de1a8.js"><link rel="prefetch" href="/assets/js/437.2221ab9f.js"><link rel="prefetch" href="/assets/js/438.37f28cfb.js"><link rel="prefetch" href="/assets/js/439.1e3f3611.js"><link rel="prefetch" href="/assets/js/44.705dc411.js"><link rel="prefetch" href="/assets/js/440.28ab35e8.js"><link rel="prefetch" href="/assets/js/441.8d006af8.js"><link rel="prefetch" href="/assets/js/442.2618a6e3.js"><link rel="prefetch" href="/assets/js/443.a7723674.js"><link rel="prefetch" href="/assets/js/444.18f23e7c.js"><link rel="prefetch" href="/assets/js/445.f4807c5a.js"><link rel="prefetch" href="/assets/js/446.77a5afc2.js"><link rel="prefetch" href="/assets/js/447.7f653483.js"><link rel="prefetch" href="/assets/js/448.1143c566.js"><link rel="prefetch" href="/assets/js/449.b788a288.js"><link rel="prefetch" href="/assets/js/45.6a225373.js"><link rel="prefetch" href="/assets/js/450.b6463ba3.js"><link rel="prefetch" href="/assets/js/451.fd4d46b9.js"><link rel="prefetch" href="/assets/js/452.e8de4fc2.js"><link rel="prefetch" href="/assets/js/453.4125e5e6.js"><link rel="prefetch" href="/assets/js/454.30af5d0a.js"><link rel="prefetch" href="/assets/js/455.9c919e58.js"><link rel="prefetch" href="/assets/js/456.22dbfa8f.js"><link rel="prefetch" href="/assets/js/457.e9c5248a.js"><link rel="prefetch" href="/assets/js/458.c0a9cf1d.js"><link rel="prefetch" href="/assets/js/459.b5e96042.js"><link rel="prefetch" href="/assets/js/46.515d085a.js"><link rel="prefetch" href="/assets/js/460.b4097efb.js"><link rel="prefetch" href="/assets/js/461.5d545741.js"><link rel="prefetch" href="/assets/js/462.402d4cdd.js"><link rel="prefetch" href="/assets/js/463.e6d6ea07.js"><link rel="prefetch" href="/assets/js/464.df817445.js"><link rel="prefetch" href="/assets/js/465.18a6bc2b.js"><link rel="prefetch" href="/assets/js/466.da313c0c.js"><link rel="prefetch" href="/assets/js/467.41294182.js"><link rel="prefetch" href="/assets/js/468.41c59467.js"><link rel="prefetch" href="/assets/js/469.d55da13c.js"><link rel="prefetch" href="/assets/js/47.a41193df.js"><link rel="prefetch" href="/assets/js/470.7457a92e.js"><link rel="prefetch" href="/assets/js/471.ed739bdf.js"><link rel="prefetch" href="/assets/js/472.83882459.js"><link rel="prefetch" href="/assets/js/473.fe2df51c.js"><link rel="prefetch" href="/assets/js/474.d40797b8.js"><link rel="prefetch" href="/assets/js/475.a00992a2.js"><link rel="prefetch" href="/assets/js/476.c7687189.js"><link rel="prefetch" href="/assets/js/477.fd4fd227.js"><link rel="prefetch" href="/assets/js/478.1ae08c3b.js"><link rel="prefetch" href="/assets/js/479.04a246c6.js"><link rel="prefetch" href="/assets/js/48.fe693306.js"><link rel="prefetch" href="/assets/js/480.36acb4ff.js"><link rel="prefetch" href="/assets/js/481.05d3129e.js"><link rel="prefetch" href="/assets/js/482.1741a02c.js"><link rel="prefetch" href="/assets/js/483.44cf2d25.js"><link rel="prefetch" href="/assets/js/484.9c14e5c6.js"><link rel="prefetch" href="/assets/js/485.ea0c1de1.js"><link rel="prefetch" href="/assets/js/486.8c683697.js"><link rel="prefetch" href="/assets/js/487.8b1eb604.js"><link rel="prefetch" href="/assets/js/488.ae16fca6.js"><link rel="prefetch" href="/assets/js/489.7f674a0d.js"><link rel="prefetch" href="/assets/js/49.a7d05a3d.js"><link rel="prefetch" href="/assets/js/490.52983854.js"><link rel="prefetch" href="/assets/js/491.968e7af4.js"><link rel="prefetch" href="/assets/js/492.e7f58bac.js"><link rel="prefetch" href="/assets/js/493.55afbb68.js"><link rel="prefetch" href="/assets/js/494.ac17d05b.js"><link rel="prefetch" href="/assets/js/495.d1ca2a12.js"><link rel="prefetch" href="/assets/js/496.d6841a0e.js"><link rel="prefetch" href="/assets/js/497.99431b4b.js"><link rel="prefetch" href="/assets/js/498.cacac1d8.js"><link rel="prefetch" href="/assets/js/499.c6b7fab0.js"><link rel="prefetch" href="/assets/js/5.f74a04c4.js"><link rel="prefetch" href="/assets/js/50.f59b29ea.js"><link rel="prefetch" href="/assets/js/500.abba24c7.js"><link rel="prefetch" href="/assets/js/501.e9496674.js"><link rel="prefetch" href="/assets/js/502.3ece0e86.js"><link rel="prefetch" href="/assets/js/503.974421d1.js"><link rel="prefetch" href="/assets/js/504.6e8d8539.js"><link rel="prefetch" href="/assets/js/505.b8161483.js"><link rel="prefetch" href="/assets/js/506.a6a6f2de.js"><link rel="prefetch" href="/assets/js/507.9c6955ee.js"><link rel="prefetch" href="/assets/js/508.223e145d.js"><link rel="prefetch" href="/assets/js/509.553e6f2c.js"><link rel="prefetch" href="/assets/js/51.428c5495.js"><link rel="prefetch" href="/assets/js/510.46e2eab7.js"><link rel="prefetch" href="/assets/js/511.24962b3f.js"><link rel="prefetch" href="/assets/js/512.a29fe236.js"><link rel="prefetch" href="/assets/js/513.8729b339.js"><link rel="prefetch" href="/assets/js/514.41199019.js"><link rel="prefetch" href="/assets/js/515.b1a71e99.js"><link rel="prefetch" href="/assets/js/516.001e3634.js"><link rel="prefetch" href="/assets/js/517.4de05581.js"><link rel="prefetch" href="/assets/js/518.57697c31.js"><link rel="prefetch" href="/assets/js/519.e962365e.js"><link rel="prefetch" href="/assets/js/52.c97c3911.js"><link rel="prefetch" href="/assets/js/520.e7775961.js"><link rel="prefetch" href="/assets/js/521.05b0ce57.js"><link rel="prefetch" href="/assets/js/522.49f7412e.js"><link rel="prefetch" href="/assets/js/523.b3d821b2.js"><link rel="prefetch" href="/assets/js/524.ab2395b7.js"><link rel="prefetch" href="/assets/js/525.25559bb4.js"><link rel="prefetch" href="/assets/js/526.23111d2a.js"><link rel="prefetch" href="/assets/js/527.c61f6e86.js"><link rel="prefetch" href="/assets/js/528.032fa7b6.js"><link rel="prefetch" href="/assets/js/529.3953f346.js"><link rel="prefetch" href="/assets/js/53.77f22b1a.js"><link rel="prefetch" href="/assets/js/530.b882066e.js"><link rel="prefetch" href="/assets/js/531.62dddf23.js"><link rel="prefetch" href="/assets/js/532.1826fe1a.js"><link rel="prefetch" href="/assets/js/533.a2e014bb.js"><link rel="prefetch" href="/assets/js/534.d5d89c00.js"><link rel="prefetch" href="/assets/js/535.4e5d7739.js"><link rel="prefetch" href="/assets/js/536.f2c700db.js"><link rel="prefetch" href="/assets/js/537.80aa278c.js"><link rel="prefetch" href="/assets/js/538.95e2f471.js"><link rel="prefetch" href="/assets/js/539.4e4ecfe8.js"><link rel="prefetch" href="/assets/js/54.d85b2f2e.js"><link rel="prefetch" href="/assets/js/540.00bd44e5.js"><link rel="prefetch" href="/assets/js/541.d740df14.js"><link rel="prefetch" href="/assets/js/542.5aadeaee.js"><link rel="prefetch" href="/assets/js/543.d42c9d9a.js"><link rel="prefetch" href="/assets/js/544.29704685.js"><link rel="prefetch" href="/assets/js/545.7fdb1a83.js"><link rel="prefetch" href="/assets/js/546.6b5655ea.js"><link rel="prefetch" href="/assets/js/547.c98e27c4.js"><link rel="prefetch" href="/assets/js/548.8edec06f.js"><link rel="prefetch" href="/assets/js/549.33b8eae3.js"><link rel="prefetch" href="/assets/js/55.80a4fa71.js"><link rel="prefetch" href="/assets/js/550.cb706b0e.js"><link rel="prefetch" href="/assets/js/551.79598cc6.js"><link rel="prefetch" href="/assets/js/552.69aa5f8b.js"><link rel="prefetch" href="/assets/js/553.7ccb8831.js"><link rel="prefetch" href="/assets/js/554.954013b2.js"><link rel="prefetch" href="/assets/js/555.960d7f8b.js"><link rel="prefetch" href="/assets/js/556.5c054c14.js"><link rel="prefetch" href="/assets/js/557.890045ea.js"><link rel="prefetch" href="/assets/js/558.f72f6668.js"><link rel="prefetch" href="/assets/js/559.452d8ff3.js"><link rel="prefetch" href="/assets/js/56.009b0340.js"><link rel="prefetch" href="/assets/js/560.1656e33f.js"><link rel="prefetch" href="/assets/js/561.bb4650eb.js"><link rel="prefetch" href="/assets/js/562.7322fd81.js"><link rel="prefetch" href="/assets/js/563.a34a68ea.js"><link rel="prefetch" href="/assets/js/564.6da92e18.js"><link rel="prefetch" href="/assets/js/565.01d288e5.js"><link rel="prefetch" href="/assets/js/566.6a3459a1.js"><link rel="prefetch" href="/assets/js/567.e3eb8e54.js"><link rel="prefetch" href="/assets/js/568.f95e0fba.js"><link rel="prefetch" href="/assets/js/569.a42d134c.js"><link rel="prefetch" href="/assets/js/57.25e8dd1c.js"><link rel="prefetch" href="/assets/js/570.87887d15.js"><link rel="prefetch" href="/assets/js/571.ce4b478b.js"><link rel="prefetch" href="/assets/js/572.634418a6.js"><link rel="prefetch" href="/assets/js/573.cd4cf02b.js"><link rel="prefetch" href="/assets/js/574.8bf073fa.js"><link rel="prefetch" href="/assets/js/575.c194dddb.js"><link rel="prefetch" href="/assets/js/576.7750193f.js"><link rel="prefetch" href="/assets/js/577.5daa388a.js"><link rel="prefetch" href="/assets/js/578.54bb0029.js"><link rel="prefetch" href="/assets/js/579.92f58c76.js"><link rel="prefetch" href="/assets/js/58.9c1eb9e5.js"><link rel="prefetch" href="/assets/js/580.0e543efb.js"><link rel="prefetch" href="/assets/js/581.4e0b0b47.js"><link rel="prefetch" href="/assets/js/582.8c172f83.js"><link rel="prefetch" href="/assets/js/583.c91c43e0.js"><link rel="prefetch" href="/assets/js/584.ca68d52b.js"><link rel="prefetch" href="/assets/js/585.663b17d3.js"><link rel="prefetch" href="/assets/js/586.9494847d.js"><link rel="prefetch" href="/assets/js/587.f3805773.js"><link rel="prefetch" href="/assets/js/588.8ae14be1.js"><link rel="prefetch" href="/assets/js/589.b4af88be.js"><link rel="prefetch" href="/assets/js/59.2a730e41.js"><link rel="prefetch" href="/assets/js/590.fb77fea8.js"><link rel="prefetch" href="/assets/js/591.a3aaa57c.js"><link rel="prefetch" href="/assets/js/592.54ec5f32.js"><link rel="prefetch" href="/assets/js/593.96eab5cb.js"><link rel="prefetch" href="/assets/js/594.e356725c.js"><link rel="prefetch" href="/assets/js/595.0a2c4ad4.js"><link rel="prefetch" href="/assets/js/596.2c075cd8.js"><link rel="prefetch" href="/assets/js/597.e904811b.js"><link rel="prefetch" href="/assets/js/598.f6ca8b71.js"><link rel="prefetch" href="/assets/js/599.ae3d12c4.js"><link rel="prefetch" href="/assets/js/6.451e012f.js"><link rel="prefetch" href="/assets/js/60.e6b60343.js"><link rel="prefetch" href="/assets/js/600.e71a0062.js"><link rel="prefetch" href="/assets/js/601.2571a19d.js"><link rel="prefetch" href="/assets/js/602.0f4fa961.js"><link rel="prefetch" href="/assets/js/603.d8387c37.js"><link rel="prefetch" href="/assets/js/604.69433906.js"><link rel="prefetch" href="/assets/js/605.1bc7d87a.js"><link rel="prefetch" href="/assets/js/606.ec419517.js"><link rel="prefetch" href="/assets/js/607.b473fb0b.js"><link rel="prefetch" href="/assets/js/608.a361b48c.js"><link rel="prefetch" href="/assets/js/609.9186f226.js"><link rel="prefetch" href="/assets/js/61.d50a156d.js"><link rel="prefetch" href="/assets/js/610.ff3cf241.js"><link rel="prefetch" href="/assets/js/611.c3c7e648.js"><link rel="prefetch" href="/assets/js/612.2a520ebd.js"><link rel="prefetch" href="/assets/js/613.42936ffc.js"><link rel="prefetch" href="/assets/js/614.3ca0de21.js"><link rel="prefetch" href="/assets/js/615.ecf60a47.js"><link rel="prefetch" href="/assets/js/616.17185e83.js"><link rel="prefetch" href="/assets/js/617.769d4cdf.js"><link rel="prefetch" href="/assets/js/618.015c6376.js"><link rel="prefetch" href="/assets/js/619.3af186d0.js"><link rel="prefetch" href="/assets/js/62.e24b7811.js"><link rel="prefetch" href="/assets/js/620.f8ff3784.js"><link rel="prefetch" href="/assets/js/621.4c21311f.js"><link rel="prefetch" href="/assets/js/622.355178df.js"><link rel="prefetch" href="/assets/js/623.45a30695.js"><link rel="prefetch" href="/assets/js/624.61e89d34.js"><link rel="prefetch" href="/assets/js/625.49e0d1ce.js"><link rel="prefetch" href="/assets/js/626.1b7ae767.js"><link rel="prefetch" href="/assets/js/627.b8c507cf.js"><link rel="prefetch" href="/assets/js/628.c5a43517.js"><link rel="prefetch" href="/assets/js/629.274eb0fd.js"><link rel="prefetch" href="/assets/js/63.b804baab.js"><link rel="prefetch" href="/assets/js/630.69e055ce.js"><link rel="prefetch" href="/assets/js/631.0892fc51.js"><link rel="prefetch" href="/assets/js/632.6a68e9a2.js"><link rel="prefetch" href="/assets/js/633.d536fe74.js"><link rel="prefetch" href="/assets/js/634.24695f39.js"><link rel="prefetch" href="/assets/js/635.3aeede9c.js"><link rel="prefetch" href="/assets/js/636.3628d8a6.js"><link rel="prefetch" href="/assets/js/637.40af5a79.js"><link rel="prefetch" href="/assets/js/638.15e257ae.js"><link rel="prefetch" href="/assets/js/639.31e6597c.js"><link rel="prefetch" href="/assets/js/64.eb5699ff.js"><link rel="prefetch" href="/assets/js/640.a071f6df.js"><link rel="prefetch" href="/assets/js/641.f9edd7bf.js"><link rel="prefetch" href="/assets/js/642.adcb583f.js"><link rel="prefetch" href="/assets/js/643.7c98a990.js"><link rel="prefetch" href="/assets/js/644.fb1213d8.js"><link rel="prefetch" href="/assets/js/645.220a5034.js"><link rel="prefetch" href="/assets/js/646.d66a419b.js"><link rel="prefetch" href="/assets/js/647.12ef89ab.js"><link rel="prefetch" href="/assets/js/648.a3112300.js"><link rel="prefetch" href="/assets/js/649.f457dfa5.js"><link rel="prefetch" href="/assets/js/65.0d8501b5.js"><link rel="prefetch" href="/assets/js/650.cc63d03b.js"><link rel="prefetch" href="/assets/js/651.16d1bbd6.js"><link rel="prefetch" href="/assets/js/652.0f5343f0.js"><link rel="prefetch" href="/assets/js/653.28f7710a.js"><link rel="prefetch" href="/assets/js/654.b343d473.js"><link rel="prefetch" href="/assets/js/655.215fe67b.js"><link rel="prefetch" href="/assets/js/656.79aa1653.js"><link rel="prefetch" href="/assets/js/657.c57f2b5c.js"><link rel="prefetch" href="/assets/js/658.d0aa0b95.js"><link rel="prefetch" href="/assets/js/659.2dfaed93.js"><link rel="prefetch" href="/assets/js/66.8361cc16.js"><link rel="prefetch" href="/assets/js/660.c00b347e.js"><link rel="prefetch" href="/assets/js/661.ecc4f968.js"><link rel="prefetch" href="/assets/js/662.06f83919.js"><link rel="prefetch" href="/assets/js/663.67d8849e.js"><link rel="prefetch" href="/assets/js/664.74dba1a9.js"><link rel="prefetch" href="/assets/js/665.28b450f0.js"><link rel="prefetch" href="/assets/js/666.0f4bb6ba.js"><link rel="prefetch" href="/assets/js/667.586074e3.js"><link rel="prefetch" href="/assets/js/668.b13c0e70.js"><link rel="prefetch" href="/assets/js/669.9d0d4cbc.js"><link rel="prefetch" href="/assets/js/67.37f46ba2.js"><link rel="prefetch" href="/assets/js/670.6b36ca72.js"><link rel="prefetch" href="/assets/js/671.33b2e754.js"><link rel="prefetch" href="/assets/js/672.3b02c287.js"><link rel="prefetch" href="/assets/js/673.3f274929.js"><link rel="prefetch" href="/assets/js/674.7d75584f.js"><link rel="prefetch" href="/assets/js/675.0de52334.js"><link rel="prefetch" href="/assets/js/676.6734133e.js"><link rel="prefetch" href="/assets/js/677.c6f4a973.js"><link rel="prefetch" href="/assets/js/678.1344b6be.js"><link rel="prefetch" href="/assets/js/679.23fed56f.js"><link rel="prefetch" href="/assets/js/68.27dbce5b.js"><link rel="prefetch" href="/assets/js/680.c49329d6.js"><link rel="prefetch" href="/assets/js/681.8df66615.js"><link rel="prefetch" href="/assets/js/682.77b4bff8.js"><link rel="prefetch" href="/assets/js/683.6cf41cf4.js"><link rel="prefetch" href="/assets/js/684.58deecd5.js"><link rel="prefetch" href="/assets/js/685.d2f7480e.js"><link rel="prefetch" href="/assets/js/686.0b77a241.js"><link rel="prefetch" href="/assets/js/687.2cc04b4f.js"><link rel="prefetch" href="/assets/js/688.da24cbae.js"><link rel="prefetch" href="/assets/js/689.a9961f74.js"><link rel="prefetch" href="/assets/js/69.8052a977.js"><link rel="prefetch" href="/assets/js/690.cb736269.js"><link rel="prefetch" href="/assets/js/691.21c13be1.js"><link rel="prefetch" href="/assets/js/692.3ed557d0.js"><link rel="prefetch" href="/assets/js/693.066efe93.js"><link rel="prefetch" href="/assets/js/694.5368f98a.js"><link rel="prefetch" href="/assets/js/695.4fdb93d5.js"><link rel="prefetch" href="/assets/js/696.9c055ac6.js"><link rel="prefetch" href="/assets/js/697.51e0c47c.js"><link rel="prefetch" href="/assets/js/698.08ca1dbd.js"><link rel="prefetch" href="/assets/js/699.ce7e9e2a.js"><link rel="prefetch" href="/assets/js/7.7e21c947.js"><link rel="prefetch" href="/assets/js/70.19faeb78.js"><link rel="prefetch" href="/assets/js/700.3676fa7f.js"><link rel="prefetch" href="/assets/js/701.82db4887.js"><link rel="prefetch" href="/assets/js/702.73425f22.js"><link rel="prefetch" href="/assets/js/703.d9391c74.js"><link rel="prefetch" href="/assets/js/704.d6e275cf.js"><link rel="prefetch" href="/assets/js/705.d2f23969.js"><link rel="prefetch" href="/assets/js/706.1c66dcc1.js"><link rel="prefetch" href="/assets/js/707.0fc5a26a.js"><link rel="prefetch" href="/assets/js/708.97471ee6.js"><link rel="prefetch" href="/assets/js/709.9b4d5665.js"><link rel="prefetch" href="/assets/js/71.d1683810.js"><link rel="prefetch" href="/assets/js/710.75fa8103.js"><link rel="prefetch" href="/assets/js/711.43777b40.js"><link rel="prefetch" href="/assets/js/712.5c583e39.js"><link rel="prefetch" href="/assets/js/713.5aa72111.js"><link rel="prefetch" href="/assets/js/714.e8215702.js"><link rel="prefetch" href="/assets/js/715.46614e7c.js"><link rel="prefetch" href="/assets/js/716.eaac6d69.js"><link rel="prefetch" href="/assets/js/717.c344c042.js"><link rel="prefetch" href="/assets/js/718.437bf0b2.js"><link rel="prefetch" href="/assets/js/719.23aa3deb.js"><link rel="prefetch" href="/assets/js/72.9fa783f0.js"><link rel="prefetch" href="/assets/js/720.9456a449.js"><link rel="prefetch" href="/assets/js/721.67fd324a.js"><link rel="prefetch" href="/assets/js/722.fc5e79ca.js"><link rel="prefetch" href="/assets/js/723.46db8115.js"><link rel="prefetch" href="/assets/js/724.31a11b8c.js"><link rel="prefetch" href="/assets/js/725.49cef603.js"><link rel="prefetch" href="/assets/js/726.7d0a2e7f.js"><link rel="prefetch" href="/assets/js/727.a1de6f02.js"><link rel="prefetch" href="/assets/js/728.7e0a727e.js"><link rel="prefetch" href="/assets/js/729.b6bf04fa.js"><link rel="prefetch" href="/assets/js/73.1ac0ac37.js"><link rel="prefetch" href="/assets/js/730.1c102528.js"><link rel="prefetch" href="/assets/js/731.80403e3d.js"><link rel="prefetch" href="/assets/js/732.cf8b4a6d.js"><link rel="prefetch" href="/assets/js/733.aab88d38.js"><link rel="prefetch" href="/assets/js/734.965a0adc.js"><link rel="prefetch" href="/assets/js/735.f9d33608.js"><link rel="prefetch" href="/assets/js/736.d1621f9e.js"><link rel="prefetch" href="/assets/js/737.a12ea0d3.js"><link rel="prefetch" href="/assets/js/738.96e61512.js"><link rel="prefetch" href="/assets/js/739.9bce4dfe.js"><link rel="prefetch" href="/assets/js/74.1913daec.js"><link rel="prefetch" href="/assets/js/740.c1a0bf7b.js"><link rel="prefetch" href="/assets/js/741.0185115e.js"><link rel="prefetch" href="/assets/js/742.21e99d78.js"><link rel="prefetch" href="/assets/js/743.e5f2407e.js"><link rel="prefetch" href="/assets/js/744.53d4e25a.js"><link rel="prefetch" href="/assets/js/745.9fb6722c.js"><link rel="prefetch" href="/assets/js/746.893e3a2f.js"><link rel="prefetch" href="/assets/js/747.ad94fed4.js"><link rel="prefetch" href="/assets/js/748.3421b09b.js"><link rel="prefetch" href="/assets/js/749.15c364e9.js"><link rel="prefetch" href="/assets/js/75.d63a9540.js"><link rel="prefetch" href="/assets/js/750.4e5379b7.js"><link rel="prefetch" href="/assets/js/751.18b0273f.js"><link rel="prefetch" href="/assets/js/752.24717596.js"><link rel="prefetch" href="/assets/js/753.5868bcc4.js"><link rel="prefetch" href="/assets/js/754.77808a6c.js"><link rel="prefetch" href="/assets/js/755.af7f7a71.js"><link rel="prefetch" href="/assets/js/76.342d837c.js"><link rel="prefetch" href="/assets/js/77.466349c3.js"><link rel="prefetch" href="/assets/js/78.886d05b6.js"><link rel="prefetch" href="/assets/js/79.b478bdab.js"><link rel="prefetch" href="/assets/js/8.9f40767d.js"><link rel="prefetch" href="/assets/js/80.9205cc43.js"><link rel="prefetch" href="/assets/js/81.77f831c9.js"><link rel="prefetch" href="/assets/js/82.650475d1.js"><link rel="prefetch" href="/assets/js/83.aa7e3d4b.js"><link rel="prefetch" href="/assets/js/84.2fc92fb4.js"><link rel="prefetch" href="/assets/js/85.0f633e10.js"><link rel="prefetch" href="/assets/js/86.e862f4bc.js"><link rel="prefetch" href="/assets/js/87.8a869468.js"><link rel="prefetch" href="/assets/js/88.6c584051.js"><link rel="prefetch" href="/assets/js/89.3ab84e02.js"><link rel="prefetch" href="/assets/js/9.7ed864ce.js"><link rel="prefetch" href="/assets/js/90.41e6925d.js"><link rel="prefetch" href="/assets/js/91.55055993.js"><link rel="prefetch" href="/assets/js/92.ced7b439.js"><link rel="prefetch" href="/assets/js/93.41cc8a7f.js"><link rel="prefetch" href="/assets/js/94.6d2b144f.js"><link rel="prefetch" href="/assets/js/95.399a7909.js"><link rel="prefetch" href="/assets/js/96.556f8f9f.js"><link rel="prefetch" href="/assets/js/97.47ecdf46.js"><link rel="prefetch" href="/assets/js/98.fdbe6822.js"><link rel="prefetch" href="/assets/js/99.db8442e4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ece31e0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Fanx 知识库" class="logo"> <span class="site-name can-hide">Fanx 知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/779590/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/pages/dc7834/" class="nav-link">Java集合框架</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d7db/" class="nav-link">Java多线程并发</a></li><li class="dropdown-item"><!----> <a href="/pages/dbec4d/" class="nav-link">JavaIo&amp;NIO&amp;AIO</a></li><li class="dropdown-item"><!----> <a href="/pages/b908ce/" class="nav-link">JDK相关特性</a></li><li class="dropdown-item"><!----> <a href="/pages/e59bea/" class="nav-link">JVM相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f8c059/" class="nav-link">数据库基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/d192fd/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/8aa877/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/077e7c/" class="nav-link">MogoDb</a></li><li class="dropdown-item"><!----> <a href="/pages/68281b/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/commonFrameworks/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/8f6500/" class="nav-link">Spring Framework 5基础</a></li><li class="dropdown-item"><!----> <a href="/pages/7c08d4/" class="nav-link">SpringBoot 2.5.x系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源代码学习" class="dropdown-title"><!----> <span class="title" style="display:;">源代码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/23a632/" class="nav-link">mybatis源码学习</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/java/" class="nav-link">java源代码</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/spring/" class="nav-link">Spring源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><!----> <span class="title" style="display:;">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2cef48/" class="nav-link">Java 基础</a></li><li class="dropdown-item"><!----> <a href="/pages/ad2692/" class="nav-link">Spring 框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用的技术工具" class="dropdown-title"><!----> <span class="title" style="display:;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/linux/common/" class="nav-link">linux常用命令实践</a></li><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">Mavan</a></li><li class="dropdown-item"><!----> <a href="/pages/b25802/" class="nav-link">开发工具详解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它语言" class="dropdown-title"><!----> <span class="title" style="display:;">其它语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fc414d/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题总结" class="dropdown-title"><!----> <span class="title" style="display:;">问题总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/question/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/4d0fa7/" class="nav-link">团队相关</a></li><li class="dropdown-item"><!----> <a href="/pages/75c3d7/" class="nav-link">fanx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/caf303/" class="nav-link">数据结构基础</a></li><li class="dropdown-item"><!----> <a href="/pages/395e23/" class="nav-link">常见排序算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fa3dd3/" class="nav-link">算法思想</a></li><li class="dropdown-item"><!----> <a href="/pages/79d342/" class="nav-link">一些领域算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fdb54d/" class="nav-link">其它算法相关</a></li></ul></div></div> <a href="https://fanxgit.github.io/fanxNotes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/779590/" class="nav-link">Java基础</a></li><li class="dropdown-item"><!----> <a href="/pages/dc7834/" class="nav-link">Java集合框架</a></li><li class="dropdown-item"><!----> <a href="/pages/f2d7db/" class="nav-link">Java多线程并发</a></li><li class="dropdown-item"><!----> <a href="/pages/dbec4d/" class="nav-link">JavaIo&amp;NIO&amp;AIO</a></li><li class="dropdown-item"><!----> <a href="/pages/b908ce/" class="nav-link">JDK相关特性</a></li><li class="dropdown-item"><!----> <a href="/pages/e59bea/" class="nav-link">JVM相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f8c059/" class="nav-link">数据库基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/d192fd/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/8aa877/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/077e7c/" class="nav-link">MogoDb</a></li><li class="dropdown-item"><!----> <a href="/pages/68281b/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用框架" class="dropdown-title"><!----> <span class="title" style="display:;">常用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/commonFrameworks/mybatis/" class="nav-link">mybatis</a></li><li class="dropdown-item"><!----> <a href="/pages/8f6500/" class="nav-link">Spring Framework 5基础</a></li><li class="dropdown-item"><!----> <a href="/pages/7c08d4/" class="nav-link">SpringBoot 2.5.x系列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源代码学习" class="dropdown-title"><!----> <span class="title" style="display:;">源代码学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/23a632/" class="nav-link">mybatis源码学习</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/java/" class="nav-link">java源代码</a></li><li class="dropdown-item"><!----> <a href="/sourceCode/spring/" class="nav-link">Spring源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试相关" class="dropdown-title"><!----> <span class="title" style="display:;">面试相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2cef48/" class="nav-link">Java 基础</a></li><li class="dropdown-item"><!----> <a href="/pages/ad2692/" class="nav-link">Spring 框架</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用的技术工具" class="dropdown-title"><!----> <span class="title" style="display:;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/linux/common/" class="nav-link">linux常用命令实践</a></li><li class="dropdown-item"><!----> <a href="/tool/maven/" class="nav-link">Mavan</a></li><li class="dropdown-item"><!----> <a href="/pages/b25802/" class="nav-link">开发工具详解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它语言" class="dropdown-title"><!----> <span class="title" style="display:;">其它语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fc414d/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问题总结" class="dropdown-title"><!----> <span class="title" style="display:;">问题总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/question/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/4d0fa7/" class="nav-link">团队相关</a></li><li class="dropdown-item"><!----> <a href="/pages/75c3d7/" class="nav-link">fanx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/caf303/" class="nav-link">数据结构基础</a></li><li class="dropdown-item"><!----> <a href="/pages/395e23/" class="nav-link">常见排序算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fa3dd3/" class="nav-link">算法思想</a></li><li class="dropdown-item"><!----> <a href="/pages/79d342/" class="nav-link">一些领域算法</a></li><li class="dropdown-item"><!----> <a href="/pages/fdb54d/" class="nav-link">其它算法相关</a></li></ul></div></div> <a href="https://fanxgit.github.io/fanxNotes/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库基础和原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL 语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL - MySQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSQL - Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>NoSQL - MongoDB</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/077e7c/" class="sidebar-link">♥MongoDB教程 - Mongo知识体系详解♥</a></li><li><a href="/pages/dcfd0b/" class="sidebar-link">Mongo入门 - MongoDB基础概念</a></li><li><a href="/pages/7ec38f/" class="sidebar-link">Mongo入门 - MongoDB整体生态</a></li><li><a href="/pages/11d5ef/" class="sidebar-link">Mongo入门 - 基本使用-安装和CRUD</a></li><li><a href="/pages/091ebe/" class="sidebar-link">Mongo入门 - 基本使用-索引和聚合</a></li><li><a href="/pages/f55a67/" class="sidebar-link">Mongo入门 - 基本使用-效率工具</a></li><li><a href="/pages/de55a7/" class="sidebar-link">Mongo入门 - 基本使用-Java API</a></li><li><a href="/pages/cbcf51/" class="sidebar-link">Mongo入门 - 基本使用-Spring集成</a></li><li><a href="/pages/039fb1/" class="sidebar-link">Mongo进阶 - MongoDB体系结构</a></li><li><a href="/pages/11592d/" class="sidebar-link">Mongo进阶 - 原理和WiredTiger引擎</a></li><li><a href="/pages/9e00e1/" class="sidebar-link">Mongo进阶 - WT引擎-数据结构</a></li><li><a href="/pages/27d5f5/" class="sidebar-link">Mongo进阶 - WT引擎-Page生命周期</a></li><li><a href="/pages/bfeee7/" class="sidebar-link">Mongo进阶 - WT引擎-checkpoint原理</a></li><li><a href="/pages/85adf2/" class="sidebar-link">Mongo进阶 - WT引擎-事务实现</a></li><li><a href="/pages/89a607/" class="sidebar-link">Mongo进阶 - WT引擎-缓存机制</a></li><li><a href="/pages/b0c685/" class="sidebar-link">Mongo进阶 - DB核心-索引实现</a></li><li><a href="/pages/f41c63/" class="sidebar-link">Mongo进阶 - DB核心-复制集</a></li><li><a href="/pages/def40e/" aria-current="page" class="active sidebar-link">Mongo进阶 - DB核心-分片Sharding</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/f62ade/" class="sidebar-link">Mongo进阶 - DB核心-备份恢复</a></li><li><a href="/pages/4e13d5/" class="sidebar-link">Mongo进阶 - 系统设计-数据模型</a></li><li><a href="/pages/cf145f/" class="sidebar-link">Mongo进阶 - 系统设计-模式构建</a></li><li><a href="/pages/21c38b/" class="sidebar-link">Mongo进阶 - 性能-查询聚合优化</a></li><li><a href="/pages/d6a239/" class="sidebar-link">MongoDB 替换方案之PostgreSQL</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NoSQL - ElasticSearch</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=database" title="分类" data-v-06225672>database</a></li><li data-v-06225672><a href="/categories/?category=NoSQL%20-%20MongoDB" title="分类" data-v-06225672>NoSQL - MongoDB</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/FanXGit" target="_blank" title="作者" class="beLink" data-v-06225672>fanx</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-08-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Mongo进阶 - DB核心-分片Sharding<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="mongo进阶-db核心-分片sharding"><a href="#mongo进阶-db核心-分片sharding" class="header-anchor">#</a> Mongo进阶 - DB核心：分片Sharding</h1> <p>=======================================================</p> <blockquote><p>分片（sharding）是MongoDB通过水平扩展将数据集分布在不同的服务器上来提高自己的存储容量和吞吐量。和MySQL分区方案相比，MongoDB的最大区别在于它几乎能自动完成所有事情，只要告诉MongoDB要分配数据，它就能自动维护数据在不同服务器之间的均衡。@pdai</p></blockquote> <ul><li><a href="#mongo%E8%BF%9B%E9%98%B6---db%E6%A0%B8%E5%BF%83%E5%88%86%E7%89%87sharding">Mongo进阶 - DB核心：分片Sharding</a> <ul><li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%BC%95%E5%85%A5%E5%88%86%E7%89%87">为什么要引入分片</a></li> <li><a href="#%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E7%9A%84%E7%BB%93%E6%9E%84">分片集群的结构</a></li> <li><a href="#%E5%88%86%E7%89%87%E6%95%B0%E6%8D%AE%E5%A6%82%E4%BD%95%E5%AD%98%E5%82%A8chunk">分片数据如何存储：Chunk</a> <ul><li><a href="#chunk%E6%98%AF%E4%BB%80%E4%B9%88">Chunk是什么</a></li> <li><a href="#chunksize%E7%9A%84%E9%80%89%E6%8B%A9">chunksize的选择</a></li> <li><a href="#chunk%E5%88%86%E8%A3%82%E5%8F%8A%E8%BF%81%E7%A7%BB">chunk分裂及迁移</a></li></ul></li> <li><a href="#%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E5%88%86%E7%89%87%E5%88%86%E7%89%87%E4%BE%9D%E6%8D%AE%E5%92%8C%E5%88%86%E7%89%87%E7%AE%97%E6%B3%95">如何进行分片：分片依据和分片算法</a> <ul><li><a href="#%E5%88%86%E7%89%87%E9%94%AEshard-key">分片键（Shard key）</a></li> <li><a href="#%E5%93%88%E5%B8%8C%E5%88%86%E7%89%87hash-sharding">哈希分片（Hash Sharding)</a></li> <li><a href="#%E8%8C%83%E5%9B%B4%E5%88%86%E7%89%87range-sharding">范围分片（range sharding）</a></li> <li><a href="#%E5%93%88%E5%B8%8C%E5%92%8C%E8%8C%83%E5%9B%B4%E7%9A%84%E7%BB%93%E5%90%88">哈希和范围的结合</a></li></ul></li> <li><a href="#%E5%88%86%E7%89%87%E6%95%B0%E6%8D%AE%E6%8C%89%E5%8C%BA%E5%9F%9Fzone">分片数据按区域：Zone</a></li> <li><a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0">参考文章</a></li></ul></li></ul> <h1 id="为什么要引入分片"><a href="#为什么要引入分片" class="header-anchor">#</a> 为什么要引入分片</h1> <hr> <p>高数据量和吞吐量的数据库应用会对单机的性能造成较大压力, 大的查询量会将单机的CPU耗尽, 大的数据量对单机的存储压力较大, 最终会耗尽系统的内存而将压力转移到磁盘IO上。</p> <p>为了解决这些问题, 有两个基本的方法: <code>垂直扩展</code>和<code>水平扩展</code>。</p> <ul><li><code>垂直扩展</code>：增加更多的CPU和存储资源来扩展容量。</li> <li><code>水平扩展</code>：将数据集分布在多个服务器上。<strong>MongoDB的分片就是水平扩展的体现</strong>。</li></ul> <p><strong>分片设计思想</strong></p> <p>分片为应对高吞吐量与大数据量提供了方法。使用分片减少了每个分片需要处理的请求数，因此，通过水平扩展，集群可以提高自己的存储容量和吞吐量。举例来说，当插入一条数据时，应用只需要访问存储这条数据的分片.</p> <p><strong>分片目的</strong></p> <ul><li>读/写能力提升</li> <li>存储容量扩容</li> <li>高可用性</li></ul> <h1 id="分片集群的结构"><a href="#分片集群的结构" class="header-anchor">#</a> 分片集群的结构</h1> <hr> <p>一个MongoDB的分片集群包含如下组件：</p> <ul><li><code>shard</code>: 即分片，真正的数据存储位置，以chunk为单位存数据；每个分片可以部署为一个复制集。</li> <li><code>mongos</code>: 查询的路由, 提供客户端和分片集群之间的接口。</li> <li><code>config servers</code>: 存储元数据和配置数据。</li></ul> <p><img src="/assets/img/mongo-z-shard-1.19191ca4.png" alt=""></p> <p>这里要注意mongos提供的是客户端application与MongoDB分片集群的路由功能，这里分片集群包含了分片的collection和非分片的collection。如下展示了通过路由访问分片的collection和非分片的collection:</p> <p><img src="data:image/png;base64,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" alt=""></p> <h1 id="分片数据如何存储-chunk"><a href="#分片数据如何存储-chunk" class="header-anchor">#</a> 分片数据如何存储：Chunk</h1> <hr> <blockquote><p>分片的内部是如何管理数据的呢？</p></blockquote> <h3 id="chunk是什么"><a href="#chunk是什么" class="header-anchor">#</a> Chunk是什么</h3> <p>在一个shard server内部，MongoDB还是会把数据分为chunks，每个chunk代表这个shard server内部一部分数据。chunk的产生，会有以下两个用途：</p> <ul><li><code>Splitting</code>：当一个chunk的大小超过配置中的chunk size时，MongoDB的后台进程会把这个chunk切分成更小的chunk，从而避免chunk过大的情况</li> <li><code>Balancing</code>：在MongoDB中，balancer是一个后台进程，负责chunk的迁移，从而均衡各个shard server的负载，系统初始1个chunk，chunk size默认值64M,生产库上选择适合业务的chunk size是最好的。MongoDB会自动拆分和迁移chunks。</li></ul> <p>分片集群的数据分布（shard节点）</p> <ul><li>使用chunk来存储数据</li> <li>进群搭建完成之后，默认开启一个chunk，大小是64M，</li> <li>存储需求超过64M，chunk会进行分裂，如果单位时间存储需求很大，设置更大的chunk</li> <li>chunk会被自动均衡迁移。</li></ul> <h3 id="chunksize的选择"><a href="#chunksize的选择" class="header-anchor">#</a> chunksize的选择</h3> <blockquote><p>适合业务的chunksize是最好的。</p></blockquote> <p>chunk的分裂和迁移非常消耗IO资源；chunk分裂的时机：在插入和更新，读数据不会分裂。</p> <p><strong>chunksize的选择</strong>：</p> <ul><li><code>小的chunksize</code>：数据均衡是迁移速度快，数据分布更均匀。数据分裂频繁，路由节点消耗更多资源。</li> <li><code>大的chunksize</code>：数据分裂少。数据块移动集中消耗IO资源。通常100-200M</li></ul> <h3 id="chunk分裂及迁移"><a href="#chunk分裂及迁移" class="header-anchor">#</a> chunk分裂及迁移</h3> <p>随着数据的增长，其中的数据大小超过了配置的chunk size，默认是64M，则这个chunk就会分裂成两个。数据的增长会让chunk分裂得越来越多。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>这时候，各个shard 上的chunk数量就会不平衡。这时候，mongos中的一个组件balancer 就会执行自动平衡。把chunk从chunk数量最多的shard节点挪动到数量最少的节点。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p><strong>chunkSize 对分裂及迁移的影响</strong></p> <ul><li>MongoDB 默认的 chunkSize 为64MB，如无特殊需求，<strong>建议保持默认值</strong>；chunkSize 会直接影响到 chunk 分裂、迁移的行为。</li> <li><strong>chunkSize 越小，chunk 分裂及迁移越多，数据分布越均衡；反之，chunkSize 越大，chunk 分裂及迁移会更少，但可能导致数据分布不均</strong>。</li> <li>chunkSize 太小，容易出现 <code>jumbo chunk</code>（即shardKey 的某个取值出现频率很高，这些文档只能放到一个 chunk 里，无法再分裂）而无法迁移；chunkSize 越大，则可能出现 chunk 内文档数太多（chunk 内文档数不能超过 250000 ）而无法迁移。</li> <li><strong>chunk 自动分裂只会在数据写入时触发</strong>，所以如果将 chunkSize 改小，系统需要一定的时间来将 chunk 分裂到指定的大小。</li> <li><strong>chunk 只会分裂，不会合并</strong>，所以即使将 chunkSize 改大，现有的 chunk 数量不会减少，但 chunk 大小会随着写入不断增长，直到达到目标大小。</li></ul> <h1 id="如何进行分片-分片依据和分片算法"><a href="#如何进行分片-分片依据和分片算法" class="header-anchor">#</a> 如何进行分片：分片依据和分片算法</h1> <hr> <blockquote><p>MongoDB 中Collection的数据是根据什么进行分片的呢？这就是我们要介绍的<strong>分片键（Shard key）</strong>；那么又是采用过了什么算法进行分片的呢？这就是紧接着要介绍的<strong>范围分片（range sharding）<strong>和</strong>哈希分片（Hash Sharding)</strong>。</p></blockquote> <h3 id="分片键-shard-key"><a href="#分片键-shard-key" class="header-anchor">#</a> 分片键（Shard key）</h3> <blockquote><p>分片键就是在集合中选一个字段或者组合字段，用该键的值作为数据拆分的依据。</p></blockquote> <p>分片键必须是一个索引，通过sh.shardCollection加会自动创建索引（前提是此集合不存在的情况下）。一个自增的分片键对写入和数据均匀分布就不是很好，因为自增的片键总会在一个分片上写入，后续达到某个阀值可能会写到别的分片。但是按照片键查询会非常高效。</p> <p>注意：</p> <ul><li>分片键是不可变。</li> <li>分片键必须有索引。</li> <li>分片键大小限制512bytes。</li> <li>分片键用于路由查询。</li> <li>MongoDB不接受已进行collection级分片的collection上插入无分片</li> <li>键的文档（也不支持空值插入）</li></ul> <h3 id="哈希分片-hash-sharding"><a href="#哈希分片-hash-sharding" class="header-anchor">#</a> 哈希分片（Hash Sharding)</h3> <blockquote><p>分片过程中利用哈希索引作为分片，基于哈希片键最大的好处就是保证数据在各个节点分布基本均匀。</p></blockquote> <p>对于基于哈希的分片，MongoDB计算一个字段的哈希值，并用这个哈希值来创建数据块。在使用基于哈希分片的系统中，拥有<strong>相近分片键</strong>的文档很可能不会存储在同一个数据块中，因此数据的分离性更好一些。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>注意</p> <p>这里要注意，哈希分片是只能基于一个字段吗？MongoDB4.4版本中已经可以针对<code>复合索引字段</code>进行哈希分片。</p> <h3 id="范围分片-range-sharding"><a href="#范围分片-range-sharding" class="header-anchor">#</a> 范围分片（range sharding）</h3> <blockquote><p>将单个Collection的数据分散存储在多个shard上，用户可以指定根据集合内文档的某个字段即shard key来进行范围分片（range sharding）。</p></blockquote> <p>对于基于范围的分片，MongoDB按照片键的范围把数据分成不同部分:</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>在使用片键做范围划分的系统中，拥有<strong>相近分片键</strong>的文档很可能存储在同一个数据块中，因此也会存储在同一个分片中。</p> <h3 id="哈希和范围的结合"><a href="#哈希和范围的结合" class="header-anchor">#</a> 哈希和范围的结合</h3> <p>如下是基于X索引字段进行范围分片，但是随着X的增长，大于20的数据全部进入了Chunk C, 这导致了数据的不均衡。 <img src="data:image/png;base64,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" alt=""></p> <p>这时对X索引字段建哈希索引：</p> <p><img src="data:image/png;base64,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" alt=""></p> <h1 id="分片数据按区域-zone"><a href="#分片数据按区域-zone" class="header-anchor">#</a> 分片数据按区域：Zone</h1> <hr> <blockquote><p>在分片群集中可以基于分片键划分数据的<a href="https://docs.mongodb.com/manual/core/zone-sharding/" target="_blank" rel="noopener noreferrer">区域(zone) 在新窗口打开<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 你可以将每个区域(zone)与集群中的一个或多个分片关联。</p></blockquote> <p>应用区域(zone)的一些常见部署模式如下：</p> <ul><li>将指定的数据放在指定的分片上。</li> <li>确保最相关的数据驻留在地理上最靠近应用程序服务器的分片上。</li> <li>根据分片硬件的硬件/性能将数据路由到分片。</li></ul> <p>下图说明了具有三个分片和两个区域的分片集群。 A区域代表下边界为1且上限为10的范围。B区域代表下边界为10且上限为20的范围。分片Alpha和Beta具有A区域。 分片Beta也具有B区。分片Charlie没有与之关联的区域。 群集处于稳定状态。</p> <p><img src="data:image/png;base64,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" alt=""></p> <h1 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h1> <hr> <ul><li>https://docs.mongodb.com/manual/sharding/</li> <li>https://www.cnblogs.com/clsn/p/8214345.html</li> <li>https://www.cnblogs.com/zhanjindong/archive/2013/04/11/3015394.html</li> <li>https://www.cnblogs.com/zping/p/11203545.html)</li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://fanxgit.github.io/fanxNotes/edit/master/docs/database/05.NoSQL - MongoDB/18.Mongo进阶 - DB核心-分片Sharding.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">8/17/2023, 5:04:28 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/f41c63/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Mongo进阶 - DB核心-复制集</div></a> <a href="/pages/f62ade/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Mongo进阶 - DB核心-备份恢复</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/f41c63/" class="prev">Mongo进阶 - DB核心-复制集</a></span> <span class="next"><a href="/pages/f62ade/">Mongo进阶 - DB核心-备份恢复</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/797621/"><div>
            VuePress+GithubPages教程
            <!----></div></a> <span class="date">11-19</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/016620/"><div>
            java打jar包整理
            <!----></div></a> <span class="date">11-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/b23a10/"><div>
            多线程问题总结
            <!----></div></a> <span class="date">11-14</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.38fd400a.js" defer></script><script src="/assets/js/3.e11db813.js" defer></script><script src="/assets/js/123.f2c2826d.js" defer></script>
  </body>
</html>
